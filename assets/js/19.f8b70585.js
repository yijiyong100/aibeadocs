(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{535:function(t,a,s){"use strict";s.r(a);var r=s(53),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文主要是介绍 智慧大屏-开源Vue-BigScreen 。")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#一、项目描述"}},[t._v("一、项目描述")])]),s("li",[s("a",{attrs:{href:"#二、主要文件介绍"}},[t._v("二、主要文件介绍")])]),s("li",[s("a",{attrs:{href:"#三、使用介绍"}},[t._v("三、使用介绍")]),s("ul",[s("li",[s("a",{attrs:{href:"#启动项目"}},[t._v("启动项目")])]),s("li",[s("a",{attrs:{href:"#封装组件渲染图表"}},[t._v("封装组件渲染图表")])]),s("li",[s("a",{attrs:{href:"#动态渲染图表"}},[t._v("动态渲染图表")])]),s("li",[s("a",{attrs:{href:"#复用图表组件"}},[t._v("复用图表组件")])]),s("li",[s("a",{attrs:{href:"#更换边框"}},[t._v("更换边框")])]),s("li",[s("a",{attrs:{href:"#更换图表"}},[t._v("更换图表")])]),s("li",[s("a",{attrs:{href:"#mixins-解决自适应适配功能"}},[t._v("Mixins 解决自适应适配功能")])]),s("li",[s("a",{attrs:{href:"#屏幕适配"}},[t._v("屏幕适配")])]),s("li",[s("a",{attrs:{href:"#请求数据"}},[t._v("请求数据")])])])]),s("li",[s("a",{attrs:{href:"#四、更新情况"}},[t._v("四、更新情况")])]),s("li",[s("a",{attrs:{href:"#五、其余"}},[t._v("五、其余")])]),s("li",[s("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"一、项目描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、项目描述"}},[t._v("#")]),t._v(" 一、项目描述")]),t._v(" "),s("ul",[s("li",[t._v('一个基于 Vue、Datav、Echart 框架的 " '),s("strong",[t._v("数据大屏项目")]),t._v(' "，通过 Vue 组件实现数据动态刷新渲染，内部图表可实现自由替换。部分图表使用 DataV 自带组件，可进行更改，详情请点击下方 DataV 文档。')]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/MTrun/vue-big-screen-plugin",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Vue3 版本请点击这里查看，使用 Hooks+TypeScript 实现，全新内容等你探索!")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/MTrun/react-big-screen",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("React 版本请点击这里查看，全新界面超级好看！！！")]),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("项目需要全屏展示（按 F11）。")]),t._v(" "),s("li",[t._v("项目部分区域使用了全局注册方式，增加了打包体积，在实际运用中请使用 "),s("strong",[t._v("按需引入")]),t._v("。")]),t._v(" "),s("li",[t._v("拉取项目之后，建议按照自己的功能区域重命名文件，现以简单的位置进行区分。")]),t._v(" "),s("li",[t._v("项目环境：Vue-cli-3.0、DataV-2.7.3、Echarts-4.6.0(如果5.x版本有问题，请切换到4.x版本)、Webpack-4.0、Npm-6.13、Node-v12.16。")]),t._v(" "),s("li",[t._v("请拉取 master 分支的代码，其余分支是开发分支。")]),t._v(" "),s("li",[t._v("Vue3 版本代码在新项目 vue-big-screen-plugin 开发当中，敬请期待~")])]),t._v(" "),s("p",[t._v("友情链接：")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/instance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue 官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://datav.jiaminghi.com/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DataV 官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://echarts.apache.org/examples/zh/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("echarts 实例"),s("OutboundLink")],1),t._v("，"),s("a",{attrs:{href:"https://echarts.apache.org/zh/api.html#echarts",target:"_blank",rel:"noopener noreferrer"}},[t._v("echarts API 文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/MTrun/big-screen-vue-datav",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目 gitee 地址（国内速度快）"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("项目展示 :")]),t._v(" "),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ac/aibigscreen/vue-big-screen.gif"),alt:"wxmp"}}),t._v(" "),s("h2",{attrs:{id:"二、主要文件介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、主要文件介绍"}},[t._v("#")]),t._v(" 二、主要文件介绍")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("文件")]),t._v(" "),s("th",[t._v("作用/功能")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("main.js")]),t._v(" "),s("td",[t._v("主目录文件，引入 Echart/DataV 等文件")])]),t._v(" "),s("tr",[s("td",[t._v("utils")]),t._v(" "),s("td",[t._v("工具函数与 mixins 函数等")])]),t._v(" "),s("tr",[s("td",[t._v("views/ index.vue")]),t._v(" "),s("td",[t._v("项目主结构")])]),t._v(" "),s("tr",[s("td",[t._v("views/其余文件")]),t._v(" "),s("td",[t._v("界面各个区域组件（按照位置来命名）")])]),t._v(" "),s("tr",[s("td",[t._v("assets")]),t._v(" "),s("td",[t._v("静态资源目录，放置 logo 与背景图片")])]),t._v(" "),s("tr",[s("td",[t._v("assets / style.scss")]),t._v(" "),s("td",[t._v("通用 CSS 文件，全局项目快捷样式调节")])]),t._v(" "),s("tr",[s("td",[t._v("assets / index.scss")]),t._v(" "),s("td",[t._v("Index 界面的 CSS 文件")])]),t._v(" "),s("tr",[s("td",[t._v("components/echart")]),t._v(" "),s("td",[t._v("所有 echart 图表（按照位置来命名）")])]),t._v(" "),s("tr",[s("td",[t._v("common/...")]),t._v(" "),s("td",[t._v("全局封装的 ECharts 和 flexible 插件代码（适配屏幕尺寸，可定制化修改）")])])])]),t._v(" "),s("h2",{attrs:{id:"三、使用介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、使用介绍"}},[t._v("#")]),t._v(" 三、使用介绍")]),t._v(" "),s("h3",{attrs:{id:"启动项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[t._v("#")]),t._v(" 启动项目")]),t._v(" "),s("p",[t._v("需要提前安装好 "),s("code",[t._v("nodejs")]),t._v(" 与 "),s("code",[t._v("yarn")]),t._v(",下载项目后在项目主目录下运行 "),s("code",[t._v("yarn")]),t._v(" 拉取依赖包。安装完依赖包之后然后使用 "),s("code",[t._v("vue-cli")]),t._v(" 或者直接使用命令"),s("code",[t._v("npm run serve")]),t._v("，就可以启动项目，启动项目后需要手动全屏（按 F11）。如果编译项目的时候提示没有 DataV 框架的依赖，输入 "),s("code",[t._v("npm install @jiaminghi/data-view")]),t._v(" 或者 "),s("code",[t._v("yarn add @jiaminghi/data-view")]),t._v(" 进行手动安装。")]),t._v(" "),s("h3",{attrs:{id:"封装组件渲染图表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装组件渲染图表"}},[t._v("#")]),t._v(" 封装组件渲染图表")]),t._v(" "),s("p",[t._v("所有的 ECharts 图表都是基于 "),s("code",[t._v("common/echart/index.vue")]),t._v(" 封装组件创建的，已经对数据和屏幕改动进行了监听，能够动态渲染图表数据和大小。在监听窗口小大的模块，使用了防抖函数来控制更新频率，节约浏览器性能。")]),t._v(" "),s("p",[t._v("项目配置了默认的 ECharts 图表样式，文件地址："),s("code",[t._v("common/echart/theme.json")]),t._v("。")]),t._v(" "),s("p",[t._v("封装的渲染图表组件支持传入以下参数，可根据业务需求自行添加/删除。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名称")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("作用/功能")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("id")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("唯一 id，渲染图表的节点（非必填，使用了 $el）")])]),t._v(" "),s("tr",[s("td",[t._v("className")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("class样式名称（非必填）")])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[t._v("Object")]),t._v(" "),s("td",[t._v("ECharts 配置（必填）")])]),t._v(" "),s("tr",[s("td",[t._v("height")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("图表高度（建议填）")])]),t._v(" "),s("tr",[s("td",[t._v("width")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("图表宽度（建议填）")])])])]),t._v(" "),s("h3",{attrs:{id:"动态渲染图表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态渲染图表"}},[t._v("#")]),t._v(" 动态渲染图表")]),t._v(" "),s("p",[t._v("动态渲染图表案例为 "),s("code",[t._v("components")]),t._v(" 目录下各个图表组件，index 文件负责数据获取和处理，chart 文件负责监听和数据渲染。")]),t._v(" "),s("p",[t._v("chart 文件的主要逻辑为：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Echart "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"options"')]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v(" height"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"height"')]),t._v(" width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Echart"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入封装组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Echart "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/common/echart'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义配置数据")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明组件")]),t._v("\n  components"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Echart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接收数据")]),t._v("\n  props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cdata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 进行监听，也可以使用 computed 计算属性实现此功能")]),t._v("\n  watch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cdata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里编写 ECharts 配置")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 立即监听")]),t._v("\n      immediate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 深度监听")]),t._v("\n      deep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"复用图表组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复用图表组件"}},[t._v("#")]),t._v(" 复用图表组件")]),t._v(" "),s("p",[t._v("复用图表组件案例为中间部分的 "),s("code",[t._v("任务通过率与任务达标率")]),t._v(" 模块，两个图表类似，区别在于颜色和主要渲染数据。只需要传入对应的唯一 id 和样式，然后在复用的组件 "),s("code",[t._v("components/echart/center/centerChartRate")]),t._v(" 里进行接收并在对应位置赋值即可。")]),t._v(" "),s("p",[t._v("如：在调用处 "),s("code",[t._v("views/center.vue")]),t._v(" 里去定义好数据并传入组件")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//组件调用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("今日任务通过率"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("centerChart "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[0].id"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("tips"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[0].tips"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("colorObj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[0].colorData"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("今日任务达标率"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("centerChart "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[1].id"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("tips"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[1].tips"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("colorObj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rate[1].colorData"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" centerChart "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/components/echart/center/centerChartRate"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centerRate1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        tips"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"centerRate2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        tips"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        colorData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"更换边框"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换边框"}},[t._v("#")]),t._v(" 更换边框")]),t._v(" "),s("p",[t._v("边框是使用了 DataV 自带的组件，只需要去 views 目录下去寻找对应的位置去查找并替换就可以，具体的种类请去 DavaV 官网查看 如：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dv-border-box-1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dv-border-box-1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dv-border-box-2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dv-border-box-2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dv-border-box-3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dv-border-box-3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"更换图表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换图表"}},[t._v("#")]),t._v(" 更换图表")]),t._v(" "),s("p",[t._v("直接进入 "),s("code",[t._v("components/echart")]),t._v(" 下的文件修改成你要的 echarts 模样，可以去"),s("a",{attrs:{href:"https://gallery.echartsjs.com/explore.html#sort=rank~timeframe=all~author=all",target:"_blank",rel:"noopener noreferrer"}},[t._v("echarts 官方社区"),s("OutboundLink")],1),t._v("里面查看案例。")]),t._v(" "),s("h3",{attrs:{id:"mixins-解决自适应适配功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mixins-解决自适应适配功能"}},[t._v("#")]),t._v(" Mixins 解决自适应适配功能")]),t._v(" "),s("p",[t._v("使用 mixins 注入解决了界面大小变动图表自适应适配的功能，函数在 "),s("code",[t._v("utils/resizeMixins.js")]),t._v(" 中，应用在 "),s("code",[t._v("common/echart/index.vue")]),t._v(" 的封装渲染组件，主要是对 "),s("code",[t._v("this.chart")]),t._v(" 进行了功能注入。")]),t._v(" "),s("h3",{attrs:{id:"屏幕适配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕适配"}},[t._v("#")]),t._v(" 屏幕适配")]),t._v(" "),s("p",[t._v("1.5 版本项目放弃了 flexible 插件方案，将 rem 改回px，使用更流程通用的 "),s("code",[t._v("css3：scale")]),t._v(" 缩放方案，通过 "),s("code",[t._v("ref")]),t._v(" 指向 "),s("code",[t._v("views/index")]),t._v("，屏幕改变时缩放内容。项目的基准尺寸是 "),s("code",[t._v("1920px*1080px")]),t._v("，所以支持同比例屏幕 100% 填充，如果非同比例则会自动计算比例居中填充，不足的部分则留白。实现代码在 "),s("code",[t._v("src/utils/userDraw")]),t._v(" ，如果有其它的适配方案，欢迎交流。")]),t._v(" "),s("h3",{attrs:{id:"请求数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求数据"}},[t._v("#")]),t._v(" 请求数据")]),t._v(" "),s("p",[t._v("现在的项目未使用前后端数据请求，建议使用 axios 进行数据请求，在 main.js 位置进行全局配置。")]),t._v(" "),s("ul",[s("li",[t._v("axios 的 main.js 配置参考范例（因人而异）")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" axios "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'axios'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//把方法放到vue的原型上，这样就可以全局使用了")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$http "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" axios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置20秒超时时间")]),t._v("\n  timeout"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  baseURL"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://172.0.0.1:80080'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里写后端地址")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"四、更新情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、更新情况"}},[t._v("#")]),t._v(" 四、更新情况")]),t._v(" "),s("ol",[s("li",[t._v("增加了 Echart 组件复用的功能，如：中间任务达标率的两个百分比图使用的是同一个组件。")]),t._v(" "),s("li",[t._v("修复了头部右侧的图案条不对称的问题。")]),t._v(" "),s("li",[t._v("修复屏幕适配问题，更换了所有的尺寸单位，统一使用 rem。")]),t._v(" "),s("li",[t._v("使用 Mixins 注入图表响应式代码。")]),t._v(" "),s("li",[t._v("vue-awesome 改成按需引入的方式。")]),t._v(" "),s("li",[t._v("封装渲染函数，抽离了数据使逻辑更加清晰。")]),t._v(" "),s("li",[t._v("新增地图组件，并添加自动轮播功能")]),t._v(" "),s("li",[t._v("将适配方案从 rem 改成 scale")])]),t._v(" "),s("h2",{attrs:{id:"五、其余"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、其余"}},[t._v("#")]),t._v(" 五、其余")]),t._v(" "),s("p",[t._v("这个项目是个人的作品，难免会有问题和 BUG，如果有问题请进行评论，我也会尽力去更新，自己也在前端学习的路上，欢迎交流，非常感谢！")]),t._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),s("ul",[s("li",[t._v("https://gitee.com/MTrun/big-screen-vue-datav")])])])}),[],!1,null,null,null);a.default=e.exports}}]);