(window.webpackJsonp=window.webpackJsonp||[]).push([[317],{832:function(s,t,a){"use strict";a.r(t);var e=a(53),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("本文主要是介绍 Redis安装部署 Centos7 + Centos8 。")])]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#centos7安装redis"}},[s._v("Centos7安装Redis")])]),a("li",[a("a",{attrs:{href:"#一、安装gcc依赖"}},[s._v("一、安装gcc依赖")])]),a("li",[a("a",{attrs:{href:"#二、下载并解压安装包"}},[s._v("二、下载并解压安装包")])]),a("li",[a("a",{attrs:{href:"#三、cd切换到redis解压目录下-执行编译"}},[s._v("三、cd切换到redis解压目录下，执行编译")])]),a("li",[a("a",{attrs:{href:"#四、安装并指定安装目录"}},[s._v("四、安装并指定安装目录")])]),a("li",[a("a",{attrs:{href:"#五、启动服务"}},[s._v("五、启动服务")]),a("ul",[a("li",[a("a",{attrs:{href:"#_5-1前台启动"}},[s._v("5.1前台启动")])]),a("li",[a("a",{attrs:{href:"#_5-2后台启动"}},[s._v("5.2后台启动")])])])]),a("li",[a("a",{attrs:{href:"#六、设置开机启动"}},[s._v("六、设置开机启动")])]),a("li",[a("a",{attrs:{href:"#【-】"}},[s._v("【----------------------------】")])]),a("li",[a("a",{attrs:{href:"#centos8安装redis的两种方式"}},[s._v("CentOS8安装Redis的两种方式")])]),a("li",[a("a",{attrs:{href:"#一、yum方式安装"}},[s._v("一、yum方式安装")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-添加epel仓库"}},[s._v("1.添加EPEL仓库")])]),a("li",[a("a",{attrs:{href:"#_2-安装"}},[s._v("2.安装")])]),a("li",[a("a",{attrs:{href:"#_3-启动"}},[s._v("3.启动")])]),a("li",[a("a",{attrs:{href:"#_4-设置开机自启"}},[s._v("4.设置开机自启")])]),a("li",[a("a",{attrs:{href:"#_5-修改配置"}},[s._v("5.修改配置")])]),a("li",[a("a",{attrs:{href:"#_1-允许远程连接"}},[s._v("1）允许远程连接")])]),a("li",[a("a",{attrs:{href:"#_2-启用密码"}},[s._v("2）启用密码")])]),a("li",[a("a",{attrs:{href:"#_6-开放端口"}},[s._v("6.开放端口")])])])]),a("li",[a("a",{attrs:{href:"#二、源码编辑安装"}},[s._v("二、源码编辑安装")])]),a("li",[a("a",{attrs:{href:"#参考文章"}},[s._v("参考文章")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"centos7安装redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装redis"}},[s._v("#")]),s._v(" Centos7安装Redis")]),s._v(" "),a("h2",{attrs:{id:"一、安装gcc依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装gcc依赖"}},[s._v("#")]),s._v(" 一、安装gcc依赖")]),s._v(" "),a("p",[s._v("由于 redis 是用 C 语言开发，安装之前必先确认是否安装 gcc 环境（gcc -v），如果没有安装，执行以下命令进行安装")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost local]# yum install -y gcc")])]),s._v(" "),a("h2",{attrs:{id:"二、下载并解压安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、下载并解压安装包"}},[s._v("#")]),s._v(" 二、下载并解压安装包")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost local]# wget http://download.redis.io/releases/redis-5.0.3.tar.gz")])]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost local]# tar -zxvf redis-5.0.3.tar.gz")])]),s._v(" "),a("h2",{attrs:{id:"三、cd切换到redis解压目录下-执行编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、cd切换到redis解压目录下-执行编译"}},[s._v("#")]),s._v(" 三、cd切换到redis解压目录下，执行编译")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost local]# cd redis-5.0.3")])]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost redis-5.0.3]# make")])]),s._v(" "),a("h2",{attrs:{id:"四、安装并指定安装目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、安装并指定安装目录"}},[s._v("#")]),s._v(" 四、安装并指定安装目录")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost redis-5.0.3]# make install PREFIX=/usr/local/redis")])]),s._v(" "),a("h2",{attrs:{id:"五、启动服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、启动服务"}},[s._v("#")]),s._v(" 五、启动服务")]),s._v(" "),a("h3",{attrs:{id:"_5-1前台启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1前台启动"}},[s._v("#")]),s._v(" 5.1前台启动")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost redis-5.0.3]# cd /usr/local/redis/bin/")])]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# ./redis-server")])]),s._v(" "),a("h3",{attrs:{id:"_5-2后台启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2后台启动"}},[s._v("#")]),s._v(" 5.2后台启动")]),s._v(" "),a("p",[s._v("从 redis 的源码目录中复制 redis.conf 到 redis 的安装目录")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# cp /usr/local/redis-5.0.3/redis.conf /usr/local/redis/bin/")])]),s._v(" "),a("p",[s._v("修改 redis.conf 文件，把 daemonize no 改为 daemonize yes")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# vi redis.conf")])]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/db/redis/install-1.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("后台启动")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# ./redis-server redis.conf")])]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/db/redis/install-2.png"),alt:"wxmp"}}),s._v(" "),a("h2",{attrs:{id:"六、设置开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、设置开机启动"}},[s._v("#")]),s._v(" 六、设置开机启动")]),s._v(" "),a("p",[s._v("添加开机启动服务")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# vi /etc/systemd/system/redis.service")])]),s._v(" "),a("p",[s._v("复制粘贴以下内容：")]),s._v(" "),a("p",[s._v("[Unit]\nDescription=redis-server\nAfter=network.target")]),s._v(" "),a("p",[s._v("[Service]\nType=forking\nExecStart=/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf\nPrivateTmp=true")]),s._v(" "),a("p",[s._v("[Install]\nWantedBy=multi-user.target")]),s._v(" "),a("p",[s._v("注意：ExecStart配置成自己的路径")]),s._v(" "),a("p",[s._v("设置开机启动")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# systemctl daemon-reload")])]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# systemctl start redis.service")])]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost bin]# systemctl enable redis.service")])]),s._v(" "),a("p",[s._v("创建 redis 命令软链接")]),s._v(" "),a("p",[a("strong",[s._v("[root@localhost ~]# ln -s /usr/local/redis/bin/redis-cli /usr/bin/redis")])]),s._v(" "),a("p",[s._v("测试 redis")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/db/redis/install-3.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("服务操作命令")]),s._v(" "),a("p",[s._v("systemctl start redis.service  #启动redis服务")]),s._v(" "),a("p",[s._v("systemctl stop redis.service  #停止redis服务")]),s._v(" "),a("p",[s._v("systemctl restart redis.service  #重新启动服务")]),s._v(" "),a("p",[s._v("systemctl status redis.service  #查看服务当前状态")]),s._v(" "),a("p",[s._v("systemctl enable redis.service  #设置开机自启动")]),s._v(" "),a("p",[s._v("systemctl disable redis.service  #停止开机自启动")]),s._v(" "),a("h2",{attrs:{id:"【-】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【-】"}},[s._v("#")]),s._v(" 【----------------------------】")]),s._v(" "),a("h2",{attrs:{id:"centos8安装redis的两种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos8安装redis的两种方式"}},[s._v("#")]),s._v(" CentOS8安装Redis的两种方式")]),s._v(" "),a("h2",{attrs:{id:"一、yum方式安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、yum方式安装"}},[s._v("#")]),s._v(" 一、yum方式安装")]),s._v(" "),a("p",[s._v("国内的话建议修改yum源为阿里云，修改方法参考： "),a("a",{attrs:{href:"https://www.4spaces.org/centos-modify-yum-repos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS 8修改yum源为国内源"),a("OutboundLink")],1),s._v("；")]),s._v(" "),a("h3",{attrs:{id:"_1-添加epel仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加epel仓库"}},[s._v("#")]),s._v(" 1.添加EPEL仓库")]),s._v(" "),a("p",[s._v("在CentOS或Red Hat系统中，需要先添加EPEL仓库")]),s._v(" "),a("ol",[a("li",[s._v("#添加EPEL仓库")]),s._v(" "),a("li",[s._v("sudo yum install epel-release")]),s._v(" "),a("li",[s._v("#更新yum源")]),s._v(" "),a("li",[s._v("sudo yum update")])]),s._v(" "),a("h3",{attrs:{id:"_2-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装"}},[s._v("#")]),s._v(" 2.安装")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" redis\n")])])]),a("h3",{attrs:{id:"_3-启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动"}},[s._v("#")]),s._v(" 3.启动")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl start redis\n")])])]),a("h3",{attrs:{id:"_4-设置开机自启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-设置开机自启"}},[s._v("#")]),s._v(" 4.设置开机自启")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" redis\n")])])]),a("h3",{attrs:{id:"_5-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改配置"}},[s._v("#")]),s._v(" 5.修改配置")]),s._v(" "),a("p",[s._v("打开"),a("code",[s._v("/etc/redis.conf")]),s._v("文件。")]),s._v(" "),a("h3",{attrs:{id:"_1-允许远程连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-允许远程连接"}},[s._v("#")]),s._v(" 1）允许远程连接")]),s._v(" "),a("p",[s._v("找到下面这一行，注释掉：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n")])])]),a("p",[s._v("改为：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#bind 127.0.0.1")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-启用密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-启用密码"}},[s._v("#")]),s._v(" 2）启用密码")]),s._v(" "),a("p",[s._v("找到"),a("code",[s._v("# requirepass foobared")]),s._v("一行，删除前面的"),a("code",[s._v("#")]),s._v("注释，然后将"),a("code",[s._v("foobared")]),s._v("改为你自己的密码。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("requirepass your_password\n")])])]),a("h3",{attrs:{id:"_6-开放端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-开放端口"}},[s._v("#")]),s._v(" 6.开放端口")]),s._v(" "),a("p",[s._v("如果启用了防火墙，redis默认端口"),a("code",[s._v("6379")]),s._v("需要进行开放，开放端口参考： "),a("a",{attrs:{href:"https://www.4spaces.org/centos-open-porter/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS开放端口的方法"),a("OutboundLink")],1),s._v(" 。")]),s._v(" "),a("ol",[a("li",[s._v("sudo firewall-cmd --add-port=6379/tcp --permanent")]),s._v(" "),a("li",[s._v("sudo firewall-cmd --reload")]),s._v(" "),a("li",[s._v("systemctl restart redis")])]),s._v(" "),a("p",[s._v("7.测试远程连接")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("telnet "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n")])])]),a("p",[s._v("能连接说明没问题。")]),s._v(" "),a("h2",{attrs:{id:"二、源码编辑安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、源码编辑安装"}},[s._v("#")]),s._v(" 二、源码编辑安装")]),s._v(" "),a("ol",[a("li",[s._v("wget http://download.redis.io/redis-stable.tar.gz")]),s._v(" "),a("li",[s._v("tar xvzf redis-stable.tar.gz")]),s._v(" "),a("li",[s._v("cd redis-stable")]),s._v(" "),a("li",[s._v("make test(可省略)")]),s._v(" "),a("li",[s._v("make")]),s._v(" "),a("li",[s._v("sudo make instal")])]),s._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[s._v("#")]),s._v(" 参考文章")]),s._v(" "),a("ul",[a("li",[s._v("https://www.cnblogs.com/heqiuyong/p/10463334.html")]),s._v(" "),a("li",[s._v("https://www.cnblogs.com/woshixiaozhu/p/13829987.html")])])])}),[],!1,null,null,null);t.default=r.exports}}]);