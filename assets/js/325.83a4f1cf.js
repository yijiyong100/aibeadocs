(window.webpackJsonp=window.webpackJsonp||[]).push([[325],{840:function(t,e,a){"use strict";a.r(e);var l=a(53),r=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("本文主要是介绍 Flume-基础知识 。")])]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#flume基础介绍"}},[t._v("Flume基础介绍")]),a("ul",[a("li",[a("a",{attrs:{href:"#概述"}},[t._v("概述")])]),a("li",[a("a",{attrs:{href:"#系统要求-flume1-7版本"}},[t._v("系统要求（flume1.7版本）")])]),a("li",[a("a",{attrs:{href:"#flume主要架构"}},[t._v("Flume主要架构")])]),a("li",[a("a",{attrs:{href:"#source"}},[t._v("Source")])]),a("li",[a("a",{attrs:{href:"#channel"}},[t._v("Channel")])]),a("li",[a("a",{attrs:{href:"#sink"}},[t._v("Sink")])]),a("li",[a("a",{attrs:{href:"#flume的后台启动"}},[t._v("Flume的后台启动")])])])]),a("li",[a("a",{attrs:{href:"#flume-1-9用户手册中文版"}},[t._v("Flume 1.9用户手册中文版")])]),a("li",[a("a",{attrs:{href:"#简介"}},[t._v("简介")]),a("ul",[a("li",[a("a",{attrs:{href:"#概览"}},[t._v("概览")])]),a("li",[a("a",{attrs:{href:"#系统要求"}},[t._v("系统要求")])])])]),a("li",[a("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"flume基础介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume基础介绍"}},[t._v("#")]),t._v(" Flume基础介绍")]),t._v(" "),a("p",[a("strong",[t._v("官网："),a("a",{attrs:{href:"https://flume.apache.org/documentation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://flume.apache.org"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" "),a("strong",[t._v("概述")])]),t._v(" "),a("p",[t._v("Flume是一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输系统。Flume基于流式架构，灵活可靠。Flume最主要的作用就是实时读取服务器本地磁盘数据，将数据写到HDFS。Flume针对特殊场景也具备良好的自定义扩展能力，因此，flume可以适用于大部分的日常数据采集场景")]),t._v(" "),a("h3",{attrs:{id:"系统要求-flume1-7版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统要求-flume1-7版本"}},[t._v("#")]),t._v(" 系统要求（flume1.7版本）")]),t._v(" "),a("p",[t._v("1.Java运行时环境-Java 1.7或更高版本")]),t._v(" "),a("p",[t._v("2.内存-足够的内存，用于源，通道或接收器使用的配置")]),t._v(" "),a("p",[t._v("3.磁盘空间-足够的磁盘空间用于通道或接收器使用的配置")]),t._v(" "),a("p",[t._v("4.目录权限-代理使用的目录的读/写权限")]),t._v(" "),a("h3",{attrs:{id:"flume主要架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume主要架构"}},[t._v("#")]),t._v(" Flume主要架构")]),t._v(" "),a("p",[t._v("Flume最核心的角色就是Agent，Agent是一个JVM进程，它以事件的形式将数据从源头送至目的，是Flume数据传输的基本单元。")]),t._v(" "),a("p",[t._v("Agent内部主要具有三个组件：Source、Channel、Sink。")]),t._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/dc/flume/intro-1.png"),alt:"wxmp"}}),t._v(" "),a("h3",{attrs:{id:"source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source"}},[t._v("#")]),t._v(" Source")]),t._v(" "),a("p",[t._v("数据采集的源，就是要采集的数据源。")]),t._v(" "),a("p",[t._v("数据输入端的常见类型有：spooling directory（目录）、exec、kafka、avro、netcat等。")]),t._v(" "),a("h3",{attrs:{id:"channel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#channel"}},[t._v("#")]),t._v(" Channel")]),t._v(" "),a("p",[t._v("是Agent内部数据的传输通道，位于Source和Sink之间的缓冲区。")]),t._v(" "),a("p",[t._v("Flume自带两种Channel：Memory Channel和File Channel。")]),t._v(" "),a("p",[t._v("Memory Channel是基于内存缓存，在不需要关心数据丢失的情境下使用。")]),t._v(" "),a("p",[t._v("File Channel是Flume的持久化Channel。系统宕机不会丢失数据。")]),t._v(" "),a("h3",{attrs:{id:"sink"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sink"}},[t._v("#")]),t._v(" Sink")]),t._v(" "),a("p",[t._v("采集数据要传送的目的地，目的地可以是HDFS、hbase、hive、kafka等众多外部存储系统中 。")]),t._v(" "),a("h3",{attrs:{id:"flume的后台启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume的后台启动"}},[t._v("#")]),t._v(" Flume的后台启动")]),t._v(" "),a("p",[t._v("nohup /home/pirate/programs/flume/bin/flume-ng agent --conf-file /home/pirate/programs/flume/conf/job2/kafka_flume_hdfs.conf --name a2 -Dflume.monitoring.type=http -Dflume.monitoring.port=34545 -Dflume.root.logger=INFO,LOGFILE >/home/pirate/programs/flume/log.txt  2>&1 &")]),t._v(" "),a("p",[t._v("注：")]),t._v(" "),a("p",[t._v("--conf-file /home/pirate/programs/flume/conf/job2/kafka_flume_hdfs.conf：指定配置文件位置")]),t._v(" "),a("p",[t._v("--name a2 ：指定agent的名称")]),t._v(" "),a("p",[t._v("-Dflume.monitoring.type=http -Dflume.monitoring.port=34545：自带http（json）监控agent")]),t._v(" "),a("p",[t._v("-Dflume.root.logger=INFO,LOGFILE >/home/pirate/programs/flume/log.txt  2>&1 &：打印日志到指定的文件中去")]),t._v(" "),a("h2",{attrs:{id:"flume-1-9用户手册中文版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flume-1-9用户手册中文版"}},[t._v("#")]),t._v(" Flume 1.9用户手册中文版")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://flume.liyifeng.org/#",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flume 1.9用户手册中文版"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("h3",{attrs:{id:"概览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概览"}},[t._v("#")]),t._v(" 概览")]),t._v(" "),a("p",[t._v("Apache Flume 是一个分布式、高可靠、高可用的用来收集、聚合、转移不同来源的大量日志数据到中央数据仓库的工具")]),t._v(" "),a("p",[t._v("Apache Flume是Apache软件基金会（ASF）的顶级项目")]),t._v(" "),a("p",[t._v("一句话总结：我，Flume，牛B")]),t._v(" "),a("h3",{attrs:{id:"系统要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[t._v("#")]),t._v(" 系统要求")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("Java运行环境 - Java 1.8或更高版本")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("内存 - 足够的内存 用来配置Souuces、Channels和Sinks")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("硬盘空间 - 足够的硬盘用来配置Channels 和 Sinks")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"4"}},[a("li",[t._v("目录权限 - Agent用来读写目录的权限")])])])]),t._v(" "),a("p",[t._v("提示")]),t._v(" "),a("p",[t._v("唯一有用的就是第一行，其余都是废话。我找出了最近几个Flume版本对JRE的依赖，如下表：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Flume版本")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("依赖的JRE版本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Flume 1.9.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Java1.8 或更高版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Flume 1.8.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Java1.8 或更高版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Flume 1.7.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Java1.7 或更高版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Flume 1.4.0、1.5.0、1.5.2、1.6.0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Java1.6 或更高版本（建议使用1.7）")])])])]),t._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("ul",[a("li",[t._v("https://www.cnblogs.com/-courage/p/14449719.html")]),t._v(" "),a("li",[t._v("https://flume.liyifeng.org/#")])])])}),[],!1,null,null,null);e.default=r.exports}}]);