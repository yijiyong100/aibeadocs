(window.webpackJsonp=window.webpackJsonp||[]).push([[413],{928:function(t,a,s){"use strict";s.r(a);var n=s(53),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文主要是介绍 Spark-集群安装案例 。")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#spark集群安装部署"}},[t._v("spark集群安装部署")])]),s("li",[s("a",{attrs:{href:"#_1-选取三台服务器-centos系统64位"}},[t._v("1.选取三台服务器（CentOS系统64位）")])]),s("li",[s("a",{attrs:{href:"#_2-修改hosts文件"}},[t._v("2.修改hosts文件")])]),s("li",[s("a",{attrs:{href:"#_3-ssh无密码验证配置"}},[t._v("3.ssh无密码验证配置")]),s("ul",[s("li",[s("a",{attrs:{href:"#_3-1安装和启动ssh协议"}},[t._v("3.1安装和启动ssh协议")])]),s("li",[s("a",{attrs:{href:"#_3-2-配置master无密码登录所有salve"}},[t._v("3.2 配置Master无密码登录所有Salve")])]),s("li",[s("a",{attrs:{href:"#_3-3-配置所有slave无密码登录master"}},[t._v("3.3 配置所有Slave无密码登录Master")])])])]),s("li",[s("a",{attrs:{href:"#_4-安装基础环境-java和scala环境"}},[t._v("4.安装基础环境（JAVA和SCALA环境）")]),s("ul",[s("li",[s("a",{attrs:{href:"#_4-1-java1-8环境搭建"}},[t._v("4.1 Java1.8环境搭建")])]),s("li",[s("a",{attrs:{href:"#_4-2-scala2-11-8环境搭建"}},[t._v("4.2 Scala2.11.8环境搭建")])])])]),s("li",[s("a",{attrs:{href:"#_5-hadoop2-7-3完全分布式搭建"}},[t._v("5.Hadoop2.7.3完全分布式搭建")])]),s("li",[s("a",{attrs:{href:"#_6-spark2-1-0完全分布式环境搭建"}},[t._v("6.Spark2.1.0完全分布式环境搭建")])]),s("li",[s("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"spark集群安装部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spark集群安装部署"}},[t._v("#")]),t._v(" spark集群安装部署")]),t._v(" "),s("p",[t._v("通过Ambari(HDP)或者Cloudera Management (CDH)等集群管理服务安装和部署在此不多介绍，只需要在界面直接操作和配置即可，本文主要通过原生安装，熟悉安装配置流程。")]),t._v(" "),s("h2",{attrs:{id:"_1-选取三台服务器-centos系统64位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-选取三台服务器-centos系统64位"}},[t._v("#")]),t._v(" 1.选取三台服务器（CentOS系统64位）")]),t._v(" "),s("p",[t._v("114.55.246.88 主节点")]),t._v(" "),s("p",[t._v("114.55.246.77 从节点")]),t._v(" "),s("p",[t._v("114.55.246.93 从节点")]),t._v(" "),s("p",[t._v("之后的操作如果是用普通用户操作的话也必须知道root用户的密码，因为有些操作是得用root用户操作。如果是用root用户操作的话就不存在以上问题。")]),t._v(" "),s("p",[t._v("我是用root用户操作的。")]),t._v(" "),s("h2",{attrs:{id:"_2-修改hosts文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改hosts文件"}},[t._v("#")]),t._v(" 2.修改hosts文件")]),t._v(" "),s("p",[t._v("修改三台服务器的hosts文件。")]),t._v(" "),s("p",[t._v("vi /etc/hosts")]),t._v(" "),s("p",[t._v("在原文件的基础最后面加上：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.55")]),t._v(".246.88 Master\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.55")]),t._v(".246.77 Slave1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.55")]),t._v(".246.93 Slave2\n")])])]),s("p",[t._v("修改完成后保存执行如下命令。")]),t._v(" "),s("p",[t._v("source /etc/hosts")]),t._v(" "),s("h2",{attrs:{id:"_3-ssh无密码验证配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ssh无密码验证配置"}},[t._v("#")]),t._v(" 3.ssh无密码验证配置")]),t._v(" "),s("h3",{attrs:{id:"_3-1安装和启动ssh协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1安装和启动ssh协议"}},[t._v("#")]),t._v(" 3.1安装和启动ssh协议")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　我们需要两个服务：ssh和rsync。\n\n　　可以通过下面命令查看是否已经安装：\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qa"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" openssh\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qa"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v("\n\n　　如果没有安装ssh和rsync，可以通过下面命令进行安装：\n\n　　yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" （安装ssh协议）\n\n　　yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" （rsync是一个远程数据同步工具，可通过LAN/WAN快速同步多台主机间的文件）\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" sshd restart （启动服务）\n")])])]),s("h3",{attrs:{id:"_3-2-配置master无密码登录所有salve"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-配置master无密码登录所有salve"}},[t._v("#")]),t._v(" 3.2 配置Master无密码登录所有Salve")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　配置Master节点，以下是在Master节点的配置操作。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）在Master节点上生成密码对，在Master节点上执行以下命令：\n\n　　ssh-keygen -t rsa -P "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n\n　　生成的密钥对：id_rsa和id_rsa.pub，默认存储在"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/root/.ssh"')]),t._v("目录下。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）接着在Master节点上做如下配置，把id_rsa.pub追加到授权的key里面去。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ~/.ssh/id_rsa.pub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.ssh/authorized_keys\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("）修改ssh配置文件"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/ssh/sshd_config"')]),t._v("的下列内容，将以下内容的注释去掉：\n\n　　RSAAuthentication "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用 RSA 认证")]),t._v("\n\n　　PubkeyAuthentication "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用公钥私钥配对认证方式")]),t._v("\n\n　　AuthorizedKeysFile .ssh/authorized_keys "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 公钥文件路径（和上面生成的文件同）")]),t._v("\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("）重启ssh服务，才能使刚才设置有效。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" sshd restart\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("）验证无密码登录本机是否成功。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" localhost\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("）接下来的就是把公钥复制到所有的Slave机器上。使用下面的命令进行复制公钥：\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" /root/.ssh/id_rsa.pub root@Slave1:/root/\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" /root/.ssh/id_rsa.pub root@Slave2:/root/\n\n　　\n\n　　接着配置Slave节点，以下是在Slave1节点的配置操作。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）在"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/root/"')]),t._v("下创建"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".ssh"')]),t._v("文件夹，如果已经存在就不需要创建了。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /root/.ssh\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）将Master的公钥追加到Slave1的授权文件"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"authorized_keys"')]),t._v("中去。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /root/id_rsa.pub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /root/.ssh/authorized_keys\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("）修改"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/ssh/sshd_config"')]),t._v("，具体步骤参考前面Master设置的第3步和第4步。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("）用Master使用ssh无密码登录Slave1\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.55")]),t._v(".246.77\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("）把"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/root/"')]),t._v("目录下的"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id_rsa.pub"')]),t._v("文件删除掉。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" –r /root/id_rsa.pub\n\n　　重复上面的5个步骤把Slave2服务器进行相同的配置。\n\n")])])]),s("h3",{attrs:{id:"_3-3-配置所有slave无密码登录master"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-配置所有slave无密码登录master"}},[t._v("#")]),t._v(" 3.3 配置所有Slave无密码登录Master")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n　　以下是在Slave1节点的配置操作。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）创建"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Slave1"')]),t._v("自己的公钥和私钥，并把自己的公钥追加到"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"authorized_keys"')]),t._v("文件中，执行下面命令：\n\n　　ssh-keygen -t rsa -P "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /root/.ssh/id_rsa.pub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /root/.ssh/authorized_keys\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）将Slave1节点的公钥"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id_rsa.pub"')]),t._v("复制到Master节点的"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/root/"')]),t._v("目录下。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" /root/.ssh/id_rsa.pub root@Master:/root/\n\n　　\n\n　　以下是在Master节点的配置操作。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）将Slave1的公钥追加到Master的授权文件"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"authorized_keys"')]),t._v("中去。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ~/id_rsa.pub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.ssh/authorized_keys\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）删除Slave1复制过来的"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id_rsa.pub"')]),t._v("文件。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" –r /root/id_rsa.pub\n\n \n\n　　配置完成后测试从Slave1到Master无密码登录。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114.55")]),t._v(".246.88\n\n　　按照上面的步骤把Slave2和Master之间建立起无密码登录。这样，Master能无密码验证登录每个Slave，每个Slave也能无密码验证登录到Master。\n\n")])])]),s("h2",{attrs:{id:"_4-安装基础环境-java和scala环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装基础环境-java和scala环境"}},[t._v("#")]),t._v(" 4.安装基础环境（JAVA和SCALA环境）")]),t._v(" "),s("h3",{attrs:{id:"_4-1-java1-8环境搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-java1-8环境搭建"}},[t._v("#")]),t._v(" 4.1 Java1.8环境搭建")]),t._v(" "),s("p",[t._v("1）下载jdk-8u121-linux-x64.tar.gz解压")]),t._v(" "),s("p",[t._v("tar -zxvf jdk-8u121-linux-x64.tar.gz")]),t._v(" "),s("p",[t._v("2）添加Java环境变量，在/etc/profile中添加：")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("export JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/jdk1.8.0_121")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PATH")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$JAVA_HOME/bin:$PATH")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLASSPATH")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(".:$JAVA_HOME/lib/rt.jar")]),t._v("\nexport JAVA_HOME PATH CLASSPATH\n")])])]),s("p",[t._v("3）保存后刷新配置")]),t._v(" "),s("p",[t._v("source /etc/profile")]),t._v(" "),s("h3",{attrs:{id:"_4-2-scala2-11-8环境搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-scala2-11-8环境搭建"}},[t._v("#")]),t._v(" 4.2 Scala2.11.8环境搭建")]),t._v(" "),s("p",[t._v("1）下载scala安装包scala-2.11.8.rpm安装")]),t._v(" "),s("p",[t._v("rpm -ivh scala-2.11.8.rpm")]),t._v(" "),s("p",[t._v("2）添加Scala环境变量，在/etc/profile中添加：")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("export SCALA_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/share/scala")]),t._v("\nexport PATH"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$SCALA_HOME/bin:$PATH")]),t._v("\n")])])]),s("p",[t._v("3）保存后刷新配置")]),t._v(" "),s("p",[t._v("source /etc/profile")]),t._v(" "),s("h2",{attrs:{id:"_5-hadoop2-7-3完全分布式搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-hadoop2-7-3完全分布式搭建"}},[t._v("#")]),t._v(" 5.Hadoop2.7.3完全分布式搭建")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　以下是在Master节点操作：\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）下载二进制包hadoop-2.7.3.tar.gz\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）解压并移动到相应目录，我习惯将软件放到/opt目录下，命令如下：\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf hadoop-2.7.3.tar.gz\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" hadoop-2.7.3 /opt\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("）修改相应的配置文件。\n\n　　修改/etc/profile，增加如下内容：\n")])])]),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v(" export HADOOP_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/opt/hadoop-2.7.3/")]),t._v("\n export PATH"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$PATH:$HADOOP_HOME/bin")]),t._v("\n export PATH"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$PATH:$HADOOP_HOME/sbin")]),t._v("\n export HADOOP_MAPRED_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$HADOOP_HOME")]),t._v("\n export HADOOP_COMMON_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$HADOOP_HOME")]),t._v("\n export HADOOP_HDFS_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$HADOOP_HOME")]),t._v("\n export YARN_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$HADOOP_HOME")]),t._v("\n export HADOOP_ROOT_LOGGER"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("INFO,console")]),t._v("\n export HADOOP_COMMON_LIB_NATIVE_DIR"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$HADOOP_HOME/lib/native")]),t._v("\n export HADOOP_OPTS"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v('"-Djava.library.path=$HADOOP_HOME/lib"')]),t._v("\n")])])]),s("p",[t._v("修改完成后执行：")]),t._v(" "),s("p",[t._v("source /etc/profile")]),t._v(" "),s("p",[t._v("修改"),s("code",[t._v("$HADOOP_HOME/etc/hadoop/hadoop-env.sh")]),t._v("，修改JAVA_HOME 如下：")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("  export JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/jdk1.8.0_121")]),t._v("\n")])])]),s("p"),t._v(" "),s("p",[t._v("修改"),s("code",[t._v("$HADOOP_HOME/etc/hadoop/slaves")]),t._v("，将原来的localhost删除，改成如下内容：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("Slave1\nSlave2\n")])])]),s("p",[t._v("修改"),s("code",[t._v("$HADOOP_HOME/etc/hadoop/core-site.xml")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("fs.defaultFS"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hdfs://Master:9000"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.file.buffer.size"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("131072"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hadoop.tmp.dir"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/opt/hadoop-2.7.3/tmp"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("修改"),s("code",[t._v("$HADOOP_HOME/etc/hadoop/hdfs-site.xml")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dfs.namenode.secondary.http-address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:50090"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dfs.replication"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dfs.namenode.name.dir"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("file:/opt/hadoop-2.7.3/hdfs/name"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dfs.datanode.data.dir"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("file:/opt/hadoop-2.7.3/hdfs/data"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("复制template，生成xml，命令如下：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" mapred-site.xml.template mapred-site.xml\n\n　　修改"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HADOOP_HOME")]),t._v("/etc/hadoop/mapred-site.xml\n\n")])])]),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mapreduce.framework.name"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mapreduce.jobhistory.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:10020"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mapreduce.jobhistory.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:19888"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("修改"),s("code",[t._v("$HADOOP_HOME/etc/hadoop/yarn-site.xml")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.nodemanager.aux-services"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mapreduce_shuffle"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.resourcemanager.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:8032"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.resourcemanager.scheduler.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:8030"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.resourcemanager.resource-tracker.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:8031"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.resourcemanager.admin.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:8033"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("yarn.resourcemanager.webapp.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Master:8088"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("4）复制Master节点的hadoop文件夹到Slave1和Slave2上。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -r /opt/hadoop-2.7.3 root@Slave1:/opt\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -r /opt/hadoop-2.7.3 root@Slave2:/opt\n")])])]),s("p",[t._v("5）在Slave1和Slave2上分别修改/etc/profile，过程同Master一样。")]),t._v(" "),s("p",[t._v("6）在Master节点启动集群，启动之前格式化一下namenode：")]),t._v(" "),s("p",[t._v("hadoop namenode -format")]),t._v(" "),s("p",[t._v("启动：")]),t._v(" "),s("p",[t._v("/opt/hadoop-2.7.3/sbin/start-all.sh")]),t._v(" "),s("p",[t._v("至此hadoop的完全分布式环境搭建完毕。")]),t._v(" "),s("p"),t._v(" "),s("p",[t._v("7）查看集群是否启动成功：")]),t._v(" "),s("p",[t._v("jps")]),t._v(" "),s("p",[t._v("Master显示：")]),t._v(" "),s("p",[t._v("SecondaryNameNode")]),t._v(" "),s("p",[t._v("ResourceManager")]),t._v(" "),s("p",[t._v("NameNode")]),t._v(" "),s("p"),t._v(" "),s("p",[t._v("Slave显示：")]),t._v(" "),s("p",[t._v("NodeManager")]),t._v(" "),s("p",[t._v("DataNode")]),t._v(" "),s("h2",{attrs:{id:"_6-spark2-1-0完全分布式环境搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-spark2-1-0完全分布式环境搭建"}},[t._v("#")]),t._v(" 6.Spark2.1.0完全分布式环境搭建")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("　　以下操作都在Master节点进行。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("）下载二进制包spark-2.1.0-bin-hadoop2.7.tgz\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("）解压并移动到相应目录，命令如下：\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf spark-2.1.0-bin-hadoop2.7.tgz\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" park-2.1.0-bin-hadoop2.7 /opt\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("）修改相应的配置文件。\n\n　　修改/etc/profie，增加如下内容：\n")])])]),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("export SPARK_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/opt/spark-2.1.0-bin-hadoop2.7/")]),t._v("\nexport PATH"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$PATH:$SPARK_HOME/bin")]),t._v("\n\n　复制spark-env.sh.template成spark-env.sh\n\n　　cp spark-env.sh.template spark-env.sh\n\n　　修改$SPARK_HOME/conf/spark-env.sh，添加如下内容：\n")])])]),s("p"),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("export JAVA_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/jdk1.8.0_121")]),t._v("\nexport SCALA_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/share/scala")]),t._v("\nexport HADOOP_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/opt/hadoop-2.7.3")]),t._v("\nexport HADOOP_CONF_DIR"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/opt/hadoop-2.7.3/etc/hadoop")]),t._v("\nexport SPARK_MASTER_IP"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("114.55.246.88")]),t._v("\nexport SPARK_MASTER_HOST"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("114.55.246.88")]),t._v("\nexport SPARK_LOCAL_IP"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("114.55.246.88")]),t._v("\nexport SPARK_WORKER_MEMORY"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1g")]),t._v("\nexport SPARK_WORKER_CORES"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("2")]),t._v("\nexport SPARK_HOME"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/opt/spark-2.1.0-bin-hadoop2.7")]),t._v("\nexport SPARK_DIST_CLASSPATH"),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$(/opt/hadoop-2.7.3/bin/hadoop classpath)")]),t._v("\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n　　复制slaves.template成slaves\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" slaves.template slaves\n\n　　修改"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SPARK_HOME")]),t._v("/conf/slaves，添加如下内容：\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Master\nSlave1\nSlave2\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("）将配置好的spark文件复制到Slave1和Slave2节点。\n\n　　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" /opt/spark-2.1.0-bin-hadoop2.7 root@Slave1:/opt\n\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" /opt/spark-2.1.0-bin-hadoop2.7 root@Slave2:/opt\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("）修改Slave1和Slave2配置。\n\n　　在Slave1和Slave2上分别修改/etc/profile，增加Spark的配置，过程同Master一样。\n\n　　在Slave1和Slave2修改"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("SPARK_HOME/conf/spark-env.sh，将export "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("SPARK_LOCAL_IP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxxxx改成Slave1和Slave2对应节点的IP。\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("）在Master节点启动集群。\n\n　　/opt/spark-2.1.0-bin-hadoop2.7/sbin/start-all.sh\n\n　　"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("）查看集群是否启动成功：\n\n　　jps\n\n　　Master在Hadoop的基础上新增了：\n\n　　Master\n\n　　Slave在Hadoop的基础上新增了：\n\n　　Worker\n")])])]),s("p",[t._v("注意：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".当要是用yarn资源管理器时，不需要启动/opt/spark-2.1.0-bin-hadoop2.7/sbin/start-all.sh，只需要启动/opt/hadoop-2.7.3/sbin/start-yarn.sh即可，运行spark任务是用：\n\nspark-shell/spark-submit --master "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" --deploy-mode client/cluster即可\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".当要使用spark自带的standlone或者local模式运行，则*需要启动/opt/spark-2.1.0-bin-hadoop2.7/sbin/start-all.sh\n\n当*/opt/spark-2.1.0-bin-hadoop2.7/sbin/start-all.sh和/opt/hadoop-2.7.3/sbin/start-yarn.sh都启动时，任务到底在通过哪个资源管理器进行管理运行，则要看提交任务的方式，如：\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("spark-shell/spark-submit --master "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" --deploy-mode client/cluster //spark on "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("spark-shell/spark-submit --master spark://node11:7077 //standlone\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("spark-shell/spark-submit --master local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  //本地模式（用于测试）\n")])])]),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),s("ul",[s("li",[t._v("https://www.cnblogs.com/lyy-blog/p/9636070.html")])])])}),[],!1,null,null,null);a.default=e.exports}}]);