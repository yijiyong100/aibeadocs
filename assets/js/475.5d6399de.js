(window.webpackJsonp=window.webpackJsonp||[]).push([[475],{990:function(s,t,a){"use strict";a.r(t);var e=a(53),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("本文主要是介绍 CDH-安装案例总结 。")])]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#centos7离线部署cdh6-3-2集群"}},[s._v("Centos7离线部署CDH6.3.2集群")])]),a("li",[a("a",{attrs:{href:"#一、cdh6要求和支持的版本"}},[s._v("一、CDH6要求和支持的版本")])]),a("li",[a("a",{attrs:{href:"#二、环境准备"}},[s._v("二、环境准备")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-硬件"}},[s._v("1.硬件")])]),a("li",[a("a",{attrs:{href:"#_2-软件包下载"}},[s._v("2.软件包下载")])])])]),a("li",[a("a",{attrs:{href:"#三、安装前环境修改"}},[s._v("三、安装前环境修改")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-关闭防火墙"}},[s._v("1.关闭防火墙")])]),a("li",[a("a",{attrs:{href:"#_2-关闭selinux"}},[s._v("2.关闭selinux")])]),a("li",[a("a",{attrs:{href:"#_3-修改hostname"}},[s._v("3.修改hostname")])]),a("li",[a("a",{attrs:{href:"#_4-配置hosts文件"}},[s._v("4.配置hosts文件")])]),a("li",[a("a",{attrs:{href:"#_5-配置免密码登陆"}},[s._v("5.配置免密码登陆")])]),a("li",[a("a",{attrs:{href:"#_6-设置时钟同步"}},[s._v("6.设置时钟同步")])]),a("li",[a("a",{attrs:{href:"#_7-主节点部署mysql"}},[s._v("7.主节点部署mysql")])]),a("li",[a("a",{attrs:{href:"#_8-创建本地yum仓库"}},[s._v("8.创建本地YUM仓库")])]),a("li",[a("a",{attrs:{href:"#_9-所有服务器安装jdk"}},[s._v("9.所有服务器安装JDK")])])])]),a("li",[a("a",{attrs:{href:"#四、部署cloudera-manager"}},[s._v("四、部署Cloudera Manager")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1-对所有节点安装daemons、agent"}},[s._v("1.对所有节点安装daemons、agent")])]),a("li",[a("a",{attrs:{href:"#_2-修改所有节点agent配置"}},[s._v("2.修改所有节点agent配置")])]),a("li",[a("a",{attrs:{href:"#_3-在主节点安装cloudera-manager-server及scm数据库初始化"}},[s._v("3.在主节点安装cloudera-manager-server及scm数据库初始化")])]),a("li",[a("a",{attrs:{href:"#_4-启动cloudera-manager-server及所有cloudera-manager-agent"}},[s._v("4.启动cloudera-manager-server及所有cloudera-manager-agent")])])])]),a("li",[a("a",{attrs:{href:"#五、集群搭建"}},[s._v("五、集群搭建")])]),a("li",[a("a",{attrs:{href:"#六-添加服务"}},[s._v("六.添加服务")]),a("ul",[a("li",[a("a",{attrs:{href:"#安装zookeeper"}},[s._v("安装zookeeper")])]),a("li",[a("a",{attrs:{href:"#参考文章"}},[s._v("参考文章")])])])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"centos7离线部署cdh6-3-2集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7离线部署cdh6-3-2集群"}},[s._v("#")]),s._v(" Centos7离线部署CDH6.3.2集群")]),s._v(" "),a("h2",{attrs:{id:"一、cdh6要求和支持的版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、cdh6要求和支持的版本"}},[s._v("#")]),s._v(" 一、CDH6要求和支持的版本")]),s._v(" "),a("p",[s._v("官方指导："),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdocs.cloudera.com%2Fdocumentation%2Fenterprise%2F6%2Frelease-notes%2Ftopics%2Frg_hardware_requirements.html%23concept_oc2_s4b_jbb",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_hardware_requirements.html#concept_oc2_s4b_jbb"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"二、环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、环境准备"}},[s._v("#")]),s._v(" 二、环境准备")]),s._v(" "),a("h3",{attrs:{id:"_1-硬件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-硬件"}},[s._v("#")]),s._v(" 1.硬件")]),s._v(" "),a("p",[s._v("本次搭建使用ZStack对服务器进行虚拟化，共虚拟化5个节点，使用Linux发行版本为CentOS7.8。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("IP地址")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("HostName")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("CPU")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("Memory")]),s._v(" "),a("th",{staticStyle:{"text-align":"left"}},[s._v("Disk")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("192.168.10.31")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("jht-cdh-1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("40")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("100GB")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("700GB")])]),s._v(" "),a("tr",[a("td",[s._v("192.168.11.20")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("jht-cdh-2")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("40")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("60GB")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("1600GB")])]),s._v(" "),a("tr",[a("td",[s._v("192.169.11.21")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("jht-cdh-3")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("40")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("60GB")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("1600GB")])]),s._v(" "),a("tr",[a("td",[s._v("192.168.11.26")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("jht-cdh-4")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("40")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("60GB")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("1600GB")])]),s._v(" "),a("tr",[a("td",[s._v("192.168.11.27")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("jht-cdh-5")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("50")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("60GB")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("1600GB")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-软件包下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-软件包下载"}},[s._v("#")]),s._v(" 2.软件包下载")]),s._v(" "),a("p",[s._v("由于目前Cloudera公司不允许下载免费的安装包，故将软件打包在网盘中，自取路径：\n链接："),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fpan.baidu.com%2Fs%2F11g_Ub9coen94koYzHbBCig",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pan.baidu.com/s/11g_Ub9coen94koYzHbBCig"),a("OutboundLink")],1),s._v("\n提取码：q01v")]),s._v(" "),a("h2",{attrs:{id:"三、安装前环境修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、安装前环境修改"}},[s._v("#")]),s._v(" 三、安装前环境修改")]),s._v(" "),a("h3",{attrs:{id:"_1-关闭防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-关闭防火墙"}},[s._v("#")]),s._v(" 1.关闭防火墙")]),s._v(" "),a("p",[s._v("每个节点都要执行")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".查看防火墙状态\nsystemctl status firewalld.service\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".临时关闭防火墙\nsystemctl stop firewalld.service\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".设置防火墙开机不启动\nsystemctl disable firewalld.service\n")])])]),a("h3",{attrs:{id:"_2-关闭selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-关闭selinux"}},[s._v("#")]),s._v(" 2.关闭selinux")]),s._v(" "),a("h4",{attrs:{id:"_2-1什么是selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1什么是selinux"}},[s._v("#")]),s._v(" 2.1什么是selinux")]),s._v(" "),a("p",[s._v("安全增强式Linux（SELinux, Security-Enhanced Linux）是一种强制访问控制（mandatory access control）的实现。它的作法是以最小权限原则（principle of least privilege）为基础，在Linux核心中使用Linux安全模块（Linux Security Modules）")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".查看eslinux状态\ngetenforce "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("p",[s._v("返回状态为：Enforcing，为启动状态；Permissive，为未运行状态；")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".临时关闭eslinux\nsetenforce "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".永久关闭selinux\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/selinux/config\n将SELINUX"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("enforcing修改为SELINUXTYPE"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disable\n")])])]),a("h3",{attrs:{id:"_3-修改hostname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改hostname"}},[s._v("#")]),s._v(" 3.修改hostname")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".查看hostname\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".修改hostname\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hostname\n将原hostname修改为想要修改的hostname\n")])])]),a("h3",{attrs:{id:"_4-配置hosts文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置hosts文件"}},[s._v("#")]),s._v(" 4.配置hosts文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hosts\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n添加\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.31 jht-cdh-1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".11.21 jht-cdh-2\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".11.22 jht-cdh-3\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".11.26 jht-cdh-4\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".11.27 jht-cdh-5\n")])])]),a("h3",{attrs:{id:"_5-配置免密码登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置免密码登陆"}},[s._v("#")]),s._v(" 5.配置免密码登陆")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".进入root目录\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".生成公钥与私钥\nssh-keygen -t rsa\n连续点三次回车\n在/root/.ssh目录下生成两个文件id_rsa、id_rsa.pub（公钥、私钥）\n每个节点都要生成！！！\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".将每台的公钥发送至第一台服务器\n在其他服务器上执行：ssh-copy-id jht-cdh-1\n需要输密码\n")])])]),a("p",[s._v("此过程是将每台服务器的公钥复制在第一台服务器/root/.ssh/authorized_keys文件中")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".复制第一台服务器的认证到其他服务器\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /root/.ssh/authorized_keys jht-cdh-2:/root/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /root/.ssh/authorized_keys jht-cdh-3:/root/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /root/.ssh/authorized_keys jht-cdh-4:/root/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /root/.ssh/authorized_keys jht-cdh-5:/root/.ssh\n")])])]),a("h3",{attrs:{id:"_6-设置时钟同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-设置时钟同步"}},[s._v("#")]),s._v(" 6.设置时钟同步")]),s._v(" "),a("p",[s._v("由于为离线安装，无法与外部时钟同步服务器进行同步，需要在集群内部设置一个时钟同步服务器，让其他服务器与此服务器进行时间同步，可以保证在集群内部的所有节点时间的一致的。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".查看是否安装ntp服务（所有服务器都要进行验证）\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -aq ｜ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ntp\nntpdate-4.2.6p5-29.el7.centos.x86_64\n")])])]),a("p",[s._v("本台服务器已安装ntp服务，不需要进行安装\n若没有安装可以通过yum或rpm的方式进行安装")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".配置时钟同步主服务器\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ntp.conf\n在配置文件中修改内容为\nrestrict "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.31 mask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0 nomodify notrap\n（这里的IP为本机IP）\n\nserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0\nFudge "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0 stratum "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])])]),a("p",[s._v("修改后配置文件为：")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-44da11d54e385153.png"),alt:"wxmp"}}),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".启动ntp服务\nsystemctl start ntpd.service\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".设置ntp服务开机启动\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ntpd.service\n")])])]),a("p",[s._v("时钟同步主服务器设置完毕，下来配置其他客户服务器")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".配置客户服务器\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ntp.conf\n\n修改内容：\nserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.31（这里的ip为时钟同步主服务器IP）\nFudge "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.31 stratum "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])])]),a("p",[s._v("修改后配置文件内容为：")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-57c879e2222b3771.png"),alt:"wxmp"}}),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".启动配置服务器ntp\nsystemctl start ntpd.service\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".查看配置是否生效\nntpq -p\n\n     remote           refid      st t when poll reach   delay   offset  jitter\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n*jht-cdh-1       LOCAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" u   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("377")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.312")]),s._v("   -7.667   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.602")]),s._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".设置开机自启\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ntpd.service\n")])])]),a("h3",{attrs:{id:"_7-主节点部署mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-主节点部署mysql"}},[s._v("#")]),s._v(" 7.主节点部署mysql")]),s._v(" "),a("p",[s._v("1.将系统原装的mysql彻底删除")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".停止mysql服务\nsystemctl stop mysqld\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(".查看安装mysql情况\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i mysql\n\nqt3-MySQL-3.3.8b-51.el7.x86_64\nqt5-qtbase-mysql-5.9.7-2.el7.x86_64\nqt-mysql-4.8.7-8.el7.x86_64\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v(".删除软件\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e 包名\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),s._v(".查看与mysql相关路径\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name mysql\n\n/etc/selinux/targeted/active/modules/100/mysql\n/var/lib/pcp/config/pmlogconf/mysql\n/usr/lib64/mysql\n/usr/share/mysql\n/usr/include/mysql\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v(".删除相关路径\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf 路径\n")])])]),a("p",[s._v("系统默认安装mysql已经全部删除掉\n2.下载配置mysql的rpm安装包")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v("创建一个关于mysql rpm的目录（随便创建，知道创建路径就行）\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /opt/mysql/rpm\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/mysql/rpm\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".下载rpm包\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://repo.mysql.com/mysql80-community-release-el7-3.noarch.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.3")]),s._v(".安装mysql源\nyum localinstall -y mysql80-community-release-el7-3.noarch.rpm \n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(".检查mysql源\nyum repolist enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql.*-community.*"')]),s._v("\n\nmysql-connectors-community/x86_64 MySQL Connectors Community                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("203")]),s._v("\nmysql-tools-community/x86_64      MySQL Tools Community                      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("129")]),s._v("\nmysql80-community/x86_64          MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(" Community Server                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("265")]),s._v("\n")])])]),a("p",[s._v("现在能看出mysql为8.0版本的，需要修改yum的配置文件，安装5.7版本的")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.5")]),s._v(".修改yum中关于mysql的配置文件\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/yum.repo.d/mysql-community.repo\n")])])]),a("p",[s._v("将[mysql80-community]下的\nenabled=1改为0\n将[mysql57-community]下的\nenabled=0改为1\n修改完后：")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-6f86586fa7345b4c.png"),alt:"wxmp"}}),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.6")]),s._v(".再检查yum仓库\nyum repolist enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql.*-community.*"')]),s._v("\n\nmysql-connectors-community/x86_64 MySQL Connectors Community                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("203")]),s._v("\nmysql-tools-community/x86_64      MySQL Tools Community                      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("129")]),s._v("\nmysql57-community/x86_64          MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" Community Server                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v("\n")])])]),a("p",[s._v("3.安装mysql")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n")])])]),a("p",[s._v("4.启动mysql")]),s._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[s._v("systemctl start mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n\n设置开机启动\nsystemctl enable mysqld\n\n查看mysql状态\nsystemctl status mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n\n● mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" MySQL Server\n   Loaded"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loaded")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" disabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("active")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since 三 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("09")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("h "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v("min ago\n     Docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" man"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mysqld")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("refman"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("en"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("using"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html\n  Process"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20044")]),s._v(" ExecStart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("daemonize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pid $"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MYSQLD_OPTS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SUCCESS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Process"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20021")]),s._v(" ExecStartPre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mysqld_pre_systemd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SUCCESS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n Main "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20047")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Tasks"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\n   CGroup"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("system"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slice"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n           └─"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20047")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("daemonize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pid\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("09")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" jht"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cdh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Starting MySQL Server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("09")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" jht"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cdh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Started MySQL Server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),a("p",[s._v("可以看出mysql已经安装完成\n5.修改mysql中root登陆密码")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.1")]),s._v(".在/var/log/mysqld.log中查看默认密码\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-06-09T03:25:18.238900Z "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Note"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" A temporary password is generated "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root@localhost: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Z"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1diT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("V2dk\n")])])]),a("p",[s._v("密码为：(Z<1diT>V2dk")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.2")]),s._v(".修改登录密码\nmysql -u -p \n输入密码\n\nALTER "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'（要改的密码）'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("6.修改mysql配置文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/my.cnf\n\n添加内容\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("validate_password")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("off\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("character_set_server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("init_connect")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SET NAMES utf8'")]),s._v("\n\n重启mysql，将配置进行生效\nsystemctl restart mysqld\n")])])]),a("p",[s._v("此配置内容不修改，创建CDH相关库时会出现问题\n7.允许root用户远程登录")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'（密码）'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nFLUSH "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("8.创建CDH相关mysql库")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" scm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v("IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" scm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scm'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" amon "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v("IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" amon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'amon'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" hive "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v("IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hive'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" hue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v("IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" hue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hue'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" oozie "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v("IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" oozie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oozie'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nFLUSH "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"_8-创建本地yum仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-创建本地yum仓库"}},[s._v("#")]),s._v(" 8.创建本地YUM仓库")]),s._v(" "),a("p",[s._v("将网盘下载的两个文件夹上传至主服务器/var/www/html路径下")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.1")]),s._v(".安装httpd服务\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y httpd\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.2")]),s._v(".启动httpd服务\nsystemctl start httpd\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.3")]),s._v(".设置httpd服务为开机启动\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" httpd\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.4")]),s._v(".在cm6.3.1目录下生成repodata目录\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/www/html/cm6.3.1\ncreaterepo "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(".将cdh6.3.2下一个文件改名\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" CDH-6.3.2-1.cdh6.3.2.p0.1605554-el6.parcel.sha256 CDH-6.3.2-1.cdh6.3.2.p0.1605554-el6.parcel.sha\n")])])]),a("p",[s._v("生成关于cm的yum配置文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.6")]),s._v(".在/etc/yum.repo.d/下编辑文件\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" cm.repo\n\n增加内容为\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cmrepo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cm_repo\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://jht-cdh-1/cm6.3.1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.7")]),s._v(".分发至其他节点\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc /yum.repo .d/cm.repo jht-cdh-2:/etc/yum.repo.d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc /yum.repo .d/cm.repo jht-cdh-3:/etc/yum.repo.d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc /yum.repo .d/cm.repo jht-cdh-4:/etc/yum.repo.d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc /yum.repo .d/cm.repo jht-cdh-5:/etc/yum.repo.d\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".在所有服务器都执行\nyum repolist\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.9")]),s._v(".修改主节点httpd服务配置文件\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/httpd/conf/httpd.conf\n\n将AddType application/x-gzip .gz .tgz增加配置.parcel\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.10")]),s._v(".修改完成重启httpd\nsystemctl restart httpd\n")])])]),a("p",[s._v("在web页面访问地址")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=http%3A%2F%2Fjht-cdh-1%2Fcm6.3.1%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://jht-cdh-1/cm6.3.1/"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=http%3A%2F%2Fjht-cdh-1%2Fcdh6.3.2%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://jht-cdh-1/cdh6.3.2/"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_9-所有服务器安装jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-所有服务器安装jdk"}},[s._v("#")]),s._v(" 9.所有服务器安装JDK")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.1")]),s._v(".通过yum安装官方提供jdk\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y oracle-j2sdk1.8-1.8.0+update181-1.x86_64\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.2")]),s._v(".配置jdk环境\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc /profile\n\n增加内容\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/java/jdk1.8.0_181-cloudera\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLASSPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/jre/lib/rt.jar:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/dt.jar:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/tools.jar\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.3")]),s._v(".让配置生效\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.4")]),s._v(".添加mysql驱动包\n将mysql-connector-java-5.1.46.jar上传至/opt下\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /opt/mysql-connector-java-5.1.46.jar /usr/share/java/mysql-connector-java.jar\n")])])]),a("h2",{attrs:{id:"四、部署cloudera-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、部署cloudera-manager"}},[s._v("#")]),s._v(" 四、部署Cloudera Manager")]),s._v(" "),a("h3",{attrs:{id:"_1-对所有节点安装daemons、agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-对所有节点安装daemons、agent"}},[s._v("#")]),s._v(" 1.对所有节点安装daemons、agent")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cantos-release-scl\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y python27 python27-devel\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cloudera-manager-daemons\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y Cloudera-manager-agent \n")])])]),a("h3",{attrs:{id:"_2-修改所有节点agent配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改所有节点agent配置"}},[s._v("#")]),s._v(" 2.修改所有节点agent配置")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/cloudera-scm-agent/config.ini\n\n修改server_host值\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("server_host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jht-cdh-1\n")])])]),a("h3",{attrs:{id:"_3-在主节点安装cloudera-manager-server及scm数据库初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-在主节点安装cloudera-manager-server及scm数据库初始化"}},[s._v("#")]),s._v(" 3.在主节点安装cloudera-manager-server及scm数据库初始化")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v(".安装server服务\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y cloudera-manager-server\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".初始化scm数据库\n/opt/cloudera/cm/schema/scm_prepare_database.sh mysql scm scm scm\n")])])]),a("h3",{attrs:{id:"_4-启动cloudera-manager-server及所有cloudera-manager-agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动cloudera-manager-server及所有cloudera-manager-agent"}},[s._v("#")]),s._v(" 4.启动cloudera-manager-server及所有cloudera-manager-agent")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.1")]),s._v(".在主节点启动\nsystemctl start cloudera-scm-server\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.2")]),s._v(".所有节点启动\nsystemctl start cloudera-scm-agent\n")])])]),a("p",[s._v("第一次启动时间较长，等待一会\n进入web界面"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=http%3A%2F%2Fjht-cdh-1%3A7180",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://jht-cdh-1:7180"),a("OutboundLink")],1),s._v("\n默认登录账号：admin\n默认登录密码：admin\n若一直web界面进不去，查看日志")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -100 /var/log/cloudera-scm-server/cloudera-scm-server.log\n")])])]),a("h2",{attrs:{id:"五、集群搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、集群搭建"}},[s._v("#")]),s._v(" 五、集群搭建")]),s._v(" "),a("p",[s._v("进入"),a("a",{attrs:{href:"https://links.jianshu.com/go?to=http%3A%2F%2Fjht-cdh-1%3A7180",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://jht-cdh-1:7180"),a("OutboundLink")],1),s._v("\n输入默认账号密码")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-a2388f8c78a820d2.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-20688b27660fa0ed.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("接受\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-03819120818e24a1.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("选择Cloudera Enterprise Cloudera Enterprise 试用版（白嫖60天）\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-44f4ddb3473deb14.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-e07ecb423db85eca.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("修改集群名称\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-fa05f4f93796bf1f.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("可以进行新主机的查找，在下面输入主机的IP或一个IP段")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-9b0f7acffc415dfb.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("我这里已经安装好agent服务，直接选择当前管理主机\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-f64cbdcac9c87d0e.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("这里选择更多选项\n新添加自己的cdh的yum源")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-de12588adeeac953.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("保存更改")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-3328df9bca5c7e67.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("这里监测到可用的cdh包\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-c8452bb794632127.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("从yum源下载分配Parcels\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-14521b4b2769b0e7.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("检查主机\n发现有两个问题，一个是swap分区，一个是启用透明大页面压缩，根据给的提示进行修改\n修改swap分区")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".临时修改\nsysctl vm.swappiness"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".永久修改\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf\n添加\nvm. "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("swappiness")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),a("p",[s._v("修改启用透明大页面压缩")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".临时修改\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" never "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/kernel/mm/transparent_hugepage/defrag\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" never "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/kernel/mm/transparent_hugepage/enabled\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".永久修改\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc /rc.local\n添加\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" never "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/kernel/mm/transparent_hugepage/defrag\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" never "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/kernel/mm/transparent_hugepage/enabled\n保存退出\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /etc/rc.local\n")])])]),a("p",[s._v("重新运行，检查主机")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-643573a2518e67c3.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("没有问题\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-c07bc1c282582d7a.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("继续\n添加Cloudera Management Service服务")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-b9ba3e6e550195eb.png"),alt:"wxmp"}}),s._v(" "),a("h2",{attrs:{id:"六-添加服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-添加服务"}},[s._v("#")]),s._v(" 六.添加服务")]),s._v(" "),a("p",[s._v("这里以安装zookeeper为例进行安装，安装服务大同小异")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-1da2c28dc7c11bc4.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("添加服务")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-c6b1b21c3ae57b7e.png"),alt:"wxmp"}}),s._v(" "),a("h3",{attrs:{id:"安装zookeeper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装zookeeper"}},[s._v("#")]),s._v(" 安装zookeeper")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-57dbd4e96e25a745.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("选择了3个节点进行安装，zookeeper需为基数个节点\n继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-b982fdc7266e83cd.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("默认，继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-10618b31e141c70d.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("开始安装")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-08032cc8bfe25262.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("继续")]),s._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/dw/cdh/cdhinstallcase/25692595-7e1b9c0eb2db2288.png"),alt:"wxmp"}}),s._v(" "),a("p",[s._v("完成\n至此，CDH集群已经搭建完成，后续根据工作的需要进行大数据服务的安装。")]),s._v(" "),a("h3",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[s._v("#")]),s._v(" 参考文章")]),s._v(" "),a("ul",[a("li",[s._v("https://www.jianshu.com/p/6f120a99cbae")])])])}),[],!1,null,null,null);t.default=r.exports}}]);