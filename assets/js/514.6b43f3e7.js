(window.webpackJsonp=window.webpackJsonp||[]).push([[514],{1030:function(t,s,a){"use strict";a.r(s);var n=a(53),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("本文主要是介绍 Logstash-配置详解(一) 。")])]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#logstash常用配置和日志解析"}},[t._v("Logstash常用配置和日志解析")])]),a("li",[a("a",{attrs:{href:"#logstash"}},[t._v("logstash")]),a("ul",[a("li",[a("a",{attrs:{href:"#数据源input使用详解"}},[t._v("数据源input使用详解")])]),a("li",[a("a",{attrs:{href:"#数据过滤filter"}},[t._v("数据过滤filter")])]),a("li",[a("a",{attrs:{href:"#输出配置output"}},[t._v("输出配置output")])]),a("li",[a("a",{attrs:{href:"#codecs"}},[t._v("Codecs")])]),a("li",[a("a",{attrs:{href:"#调试模式"}},[t._v("调试模式")])])])]),a("li",[a("a",{attrs:{href:"#启动logstash"}},[t._v("启动logstash")])]),a("li",[a("a",{attrs:{href:"#nginx日志数据格式实操"}},[t._v("nginx日志数据格式实操")])]),a("li",[a("a",{attrs:{href:"#字符串正则和自定义grok正则表达式"}},[t._v("字符串正则和自定义grok正则表达式")])]),a("li",[a("a",{attrs:{href:"#其他格式日志解析样例"}},[t._v("其他格式日志解析样例")])]),a("li",[a("a",{attrs:{href:"#参考资料"}},[t._v("参考资料")])]),a("li",[a("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"logstash常用配置和日志解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logstash常用配置和日志解析"}},[t._v("#")]),t._v(" Logstash常用配置和日志解析")]),t._v(" "),a("h2",{attrs:{id:"logstash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logstash"}},[t._v("#")]),t._v(" logstash")]),t._v(" "),a("p",[t._v("安装logstash请参考我之前的ELK环境搭建\nhttps://blog.csdn.net/zjcjava/article/details/98851573")]),t._v(" "),a("p",[t._v("logstash是一个数据分析软件，主要目的是分析log日志。整一套软件可以当作一个MVC模型，logstash是controller层，Elasticsearch是一个model层，kibana是view层。")]),t._v(" "),a("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/es/logstash/configdetai-1.png"),alt:"wxmp"}}),t._v(" "),a("p",[t._v("首先将数据传给logstash，它将数据进行过滤和格式化（转成JSON格式），然后传给Elasticsearch进行存储、建搜索的索引，kibana提供前端的页面再进行搜索和图表可视化，它是调用Elasticsearch的接口返回的数据进行可视化。logstash和Elasticsearch是用Java写的，kibana使用node.js框架。")]),t._v(" "),a("p",[t._v("它组要组成部分是数据输入，数据源过滤，数据输出三部分。")]),t._v(" "),a("h3",{attrs:{id:"数据源input使用详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据源input使用详解"}},[t._v("#")]),t._v(" 数据源input使用详解")]),t._v(" "),a("p",[t._v("input 及输入是指日志数据传输到Logstash中。其中常见的配置如下：")]),t._v(" "),a("ul",[a("li",[t._v("file：从文件系统中读取一个文件，很像UNIX命令 “tail -0a”")]),t._v(" "),a("li",[t._v("syslog：监听514端口，按照RFC3164标准解析日志数据")]),t._v(" "),a("li",[t._v('redis：从redis服务器读取数据，支持channel(发布订阅)和list模式。redis一般在Logstash消费集群中作为"broker"角色，保存events队列共Logstash消费。')]),t._v(" "),a("li",[t._v("lumberjack：使用lumberjack协议来接收数据，目前已经改为 logstash-forwarder。")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("stdin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从控制台中输入来源")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从文件中来")]),t._v("\n        path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"E:/software/logstash-1.5.4/logstash-1.5.4/data/*"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#单一文件")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#监听文件的多个路径")]),t._v("\n        path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"E:/software/logstash-1.5.4/logstash-1.5.4/data/*.log"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"F:/*.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#排除不想监听的文件")]),t._v("\n        exclude "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.log"')]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加自定义的字段")]),t._v("\n        add_field "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#增加标签")]),t._v("\n        tags "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tag1"')]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置新事件的标志")]),t._v("\n        delimiter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置多长时间扫描目录，发现新文件")]),t._v("\n        discover_interval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置多长时间检测文件是否修改")]),t._v("\n        stat_interval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#监听文件的起始位置，默认是end")]),t._v("\n        start_position "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" beginning\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#监听文件读取信息记录的位置")]),t._v("\n        sincedb_path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"E:/software/logstash-1.5.4/logstash-1.5.4/test.txt"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置多长时间会写入读取的位置信息")]),t._v("\n        sincedb_write_interval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n syslog "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 系统日志方式")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system-syslog"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义类型")]),t._v("\n   port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10514")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义监听端口")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n beats "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# filebeats方式")]),t._v("\n  port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5044")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("以上文件来源file，syslog,beats 只能选择其中一种")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ul",[a("li",[t._v("文件的路径名需要时绝对路径")]),t._v(" "),a("li",[t._v("支持globs写法")]),t._v(" "),a("li",[t._v("如果想要监听多个目标文件可以改成数组")])]),t._v(" "),a("p",[t._v("1、path")]),t._v(" "),a("p",[t._v("path是file中唯一必需的参数。其他都是可选参数")]),t._v(" "),a("p",[t._v("2、exclude")]),t._v(" "),a("p",[t._v("是不想监听的文件，logstash会自动忽略该文件的监听。配置的规则与path类似，支持字符串或者数组，但是要求必须是绝对路径。")]),t._v(" "),a("p",[t._v("3、start_position")]),t._v(" "),a("p",[t._v("是监听的位置，默认是end，即一个文件如果没有记录它的读取信息，则从文件的末尾开始读取，也就是说，仅仅读取新添加的内容。对于一些更新的日志类型的监听，通常直接使用end就可以了；相反，beginning就会从一个文件的头开始读取。但是如果记录过文件的读取信息，这个配置也就失去作用了。")]),t._v(" "),a("p",[t._v("4、sincedb_path")]),t._v(" "),a("p",[t._v("这个选项配置了默认的读取文件信息记录在哪个文件中，默认是按照文件的inode等信息自动生成。其中记录了inode、主设备号、次设备号以及读取的位置。因此，如果一个文件仅仅是重命名，那么它的inode以及其他信息就不会改变，因此也不会重新读取文件的任何信息。类似的，如果复制了一个文件，就相当于创建了一个新的inode，如果监听的是一个目录，就会读取该文件的所有信息。")]),t._v(" "),a("p",[t._v("5、关于扫描和检测的时间")]),t._v(" "),a("p",[t._v("按照默认的来就好了，如果频繁创建新的文件，想要快速监听，那么可以考虑缩短检测的时间。\n6、add_field")]),t._v(" "),a("p",[t._v("就是增加一个字段，例如：")]),t._v(" "),a("p",[t._v("7、tags")]),t._v(" "),a("p",[t._v("用于增加一些标签，这个标签可能在后续的处理中起到标志的作用")]),t._v(" "),a("p",[t._v("ogstash官方文档：\nhttps://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html#plugins-inputs-file-sincedb_path")]),t._v(" "),a("h3",{attrs:{id:"数据过滤filter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据过滤filter"}},[t._v("#")]),t._v(" 数据过滤filter")]),t._v(" "),a("p",[t._v("Fillters 在Logstash处理链中担任中间处理组件。他们经常被组合起来实现一些特定的行为来，处理匹配特定规则的事件流。常见的filters如下：")]),t._v(" "),a("ul",[a("li",[t._v("grok：解析无规则的文字并转化为有结构的格式。Grok 是目前最好的方式来将无结构的数据转换为有结构可查询的数据。有120多种匹配规则，会有一种满足你的需要。")]),t._v(" "),a("li",[t._v("mutate：mutate filter 允许改变输入的文档，你可以从命名，删除，移动或者修改字段在处理事件的过程中。")]),t._v(" "),a("li",[t._v("drop：丢弃一部分events不进行处理，例如：debug events。")]),t._v(" "),a("li",[t._v("clone：拷贝 event，这个过程中也可以添加或移除字段。")]),t._v(" "),a("li",[t._v("geoip：添加地理信息(为前台kibana图形化展示使用)")])]),t._v(" "),a("p",[t._v("它的主要作用就是把数据解析成规则的json键值对格式便于输出到其他组件中使用。\nlogstash自带的文件正则支持grok,date,geoip")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("filter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义数据的格式")]),t._v("\n  grok "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    match "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%{DATA:timestamp}\\|%{IP:serverIp}\\|%{IP:clientIp}\\|%{DATA:logSource}\\|%{DATA:userId}\\|%{DATA:reqUrl}\\|%{DATA:reqUri}\\|%{DATA:refer}\\|%{DATA:device}\\|%{DATA:textDuring}\\|%{DATA:duringTime:int}\\|\\|"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义时间戳的格式")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    match "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"timestamp"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yyyy-MM-dd-HH:mm:ss"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    locale "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cn"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义客户端的IP是哪个字段（上面定义的数据格式）")]),t._v("\n  geoip "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientIp"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456789101112131415161718")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#需要进行转换的字段，这里是将访问的时间转成int，再传给Elasticsearch")]),t._v("\n  mutate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    convert "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"duringTime"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"integer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"输出配置output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输出配置output"}},[t._v("#")]),t._v(" 输出配置output")]),t._v(" "),a("p",[t._v("outputs是logstash处理管道的最末端组件。一个event可以在处理过程中经过多重输出，但是一旦所有的outputs都执行结束，这个event也就完成生命周期。一些常用的outputs包括：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("elasticsearch：如果你计划将高效的保存数据，并且能够方便和简单的进行查询.")])]),t._v(" "),a("li",[a("p",[t._v("file：将event数据保存到文件中。")])]),t._v(" "),a("li",[a("p",[t._v("graphite：将event数据发送到图形化组件中，一个很流行的开源存储图形化展示的组件。http://graphite.wikidot.com/。")])]),t._v(" "),a("li",[a("p",[t._v("statsd：statsd是一个统计服务，比如技术和时间统计，通过udp通讯，聚合一个或者多个后台服务，如果你已经开始使用statsd，该选项对你应该很有用。")]),t._v(" "),a("p",[t._v("默认情况下将过滤扣的数据输出到elasticsearch，当我们不需要输出到ES时需要特别声明输出的方式是哪一种，同时支持配置多个输出源")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("output "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#将输出保存到elasticsearch，如果没有匹配到时间就不保存，因为日志里的网址参数有些带有换行")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("~ /^"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        elasticsearch "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" localhost "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#输出到stdout")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  stdout { codec => rubydebug }")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义访问数据的用户名和密码")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  user => webService")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  password => 1q2w3e4r")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"codecs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#codecs"}},[t._v("#")]),t._v(" Codecs")]),t._v(" "),a("p",[t._v("codecs 是基于数据流的过滤器，它可以作为input，output的一部分配置。Codecs可以帮助你轻松的分割发送过来已经被序列化的数据。流行的codecs包括 json,msgpack,plain(text)。")]),t._v(" "),a("ul",[a("li",[t._v("json：使用json格式对数据进行编码/解码")]),t._v(" "),a("li",[t._v('multiline：将汇多个事件中数据汇总为一个单一的行。比如：java异常信息和堆栈信息\n获取完整的配置信息，请参考 Logstash文档中 "plugin configuration"部分。')])]),t._v(" "),a("h3",{attrs:{id:"调试模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试模式"}},[t._v("#")]),t._v(" 调试模式")]),t._v(" "),a("p",[t._v("日志解析时需要不停的对数据进行格式调试，因此这里直接配置成调试模式下使用，其实就是控制台输入模式。")]),t._v(" "),a("p",[t._v("logstash-7.3.0\\config\\logstash.conf")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("input "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nstdin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# file { #文件配置方式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#         path => "/opt/logstash/1.log"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#         start_position => "beginning"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfilter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置过滤器")]),t._v("\n    grok "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    patterns_dir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:\\mnt\\work_space'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\E"}},[t._v("\\E")]),t._v("LK\\logstash-7.3.0"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[t._v("\\c")]),t._v('onfig\\patterns"')]),t._v("\n        match "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n         "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%{IPORHOST:remote_addr} - - \\[%{HTTPDATE:log_timestamp}\\] %{HOSTNAME:http_host} %{WORD:request_method} '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("%{URIPATH1:uri}"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("%{URIPARM1:param}"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" %{BASE10NUM:http_status} %{BASE10NUM:body_bytes_sent} "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("(?:%{URI1:http_referrer}|-)"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" (%{BASE10NUM:upstream_status}|-) (?:%{HOSTPORT:upstream_addr}|-) (%{BASE16FLOAT:upstream_response_time}|-) (%{BASE16FLOAT:request_time}|-) (?:%{QUOTEDSTRING:user_agent}|-) "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("(%{WORD:x_forword_for}|-)"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    \tmatch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"log_timestamp"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yyyy-MM-dd-HH:mm:ss"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \tlocale "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cn"')]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\noutput "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n stdout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    codec "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" rubydebug  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将日志输出到当前的终端上显示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("message是根据下面的日志数据格式进行的解析，它会自动解析成k-v键值对形式在控制台打印出来，这也是后面数据导入到es或者其他持久化文件中的格式，便于其他地方直接使用。")]),t._v(" "),a("h2",{attrs:{id:"启动logstash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动logstash"}},[t._v("#")]),t._v(" 启动logstash")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("work_space"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ELK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("logstash-7.3.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# .\\logstash -f D:\\mnt\\work_space\\ELK\\logstash-7.3.0\\config\\logstash.conf --config.reload.automatic")]),t._v("\n")])])]),a("p",[t._v("配置文件更新时，logstash会自动重启模式")]),t._v(" "),a("h2",{attrs:{id:"nginx日志数据格式实操"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx日志数据格式实操"}},[t._v("#")]),t._v(" nginx日志数据格式实操")]),t._v(" "),a("p",[t._v("需要解析的日志格式ngxin的access.log日志格式配置如下")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("log_format  main  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_user")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$time_local")]),t._v("] "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request_method")]),t._v(' "'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v('" "'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query_string")]),t._v("\" '")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$status")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$body_bytes_sent")]),t._v(' "'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_referer")]),t._v('" '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$upstream_status")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$upstream_addr")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request_time")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$upstream_response_time")]),t._v(" '")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\""),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_user_agent")]),t._v('" "'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_x_forwarded_for")]),t._v("\"'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    access_log  logs/access.log  main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.200 - - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("/Aug/2019:01:11:51 +0800"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.200 GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/index.html"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=bamboo"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("612")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v(" - - "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v("\n")])])]),a("p",[t._v("为了方便，我们这里直接把上面这条数据作为测数据，在控制台贴入回车，即可所见所得。")]),t._v(" "),a("p",[t._v("测试,启动后把上面的测试数据贴入测试环境中，可以看到打印出如下数据，")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"host"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DESKTOP-VLO4B8K"')]),t._v(",\n                     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"param"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=bamboo"')]),t._v(",\n                   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.168.0.200 - - [12/Aug/2019:01:11:51 +0800] 192.168.0.200 GET '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("/index.html"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("name=bamboo"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" 200 612 "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("-"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" - - 0.000 - "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("-"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('"')]),t._v(",\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request_method"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),t._v(",\n                       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uri"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/index.html"')]),t._v(",\n               "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http_status"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200"')]),t._v(",\n           "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body_bytes_sent"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"612"')]),t._v(",\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tags"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_dateparsefailure"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n             "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"log_timestamp"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12/Aug/2019:01:11:51 +0800"')]),t._v(",\n               "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remote_addr"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.168.0.200"')]),t._v(",\n                  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@version"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(",\n                 "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http_host"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.168.0.200"')]),t._v(",\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@timestamp"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("-08-11T17:12:25.607Z,\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upstream_response_time"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.000"')]),t._v(",\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_agent"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("@version，@timestamp，host，message是logstash本身就需要的基本数据，其他数据则是我们在message解析后得到的键值对数据。")]),t._v(" "),a("h2",{attrs:{id:"字符串正则和自定义grok正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符串正则和自定义grok正则表达式"}},[t._v("#")]),t._v(" 字符串正则和自定义grok正则表达式")]),t._v(" "),a("p",[t._v("logstash的配置文件")]),t._v(" "),a("p",[t._v("创建自定义正则目录")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir -p /usr/local/logstash/patterns")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vi /usr/local/logstash/patterns/nginx")]),t._v("\n")])])]),a("p",[t._v("然后写入上面自定义的正则")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("URIPARM1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("A-Za-z0-9$.+"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'|(){},~@#%&/=:;_?\\-\\[\\]]*\nURIPATH1 (?:/[A-Za-z0-9$.+!*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",~:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#%&_\\- ]*)+")]),t._v("\nURI1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URIPROTO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("://"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?::"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("^@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URIHOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URIPATHPARAM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?\nNGINXACCESS %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IPORHOST:remote_addr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("USERNAME:user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HTTPDATE:log_timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("HOSTNAME")]),t._v(":http_host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("WORD:request_method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"%'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URIPATH1:uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('" '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"%'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URIPARM1:param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('" %'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BASE10NUM:http_status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BASE10NUM:body_bytes_sent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("URI1:http_referrer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('" '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BASE10NUM:upstream_status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HOSTPORT:upstream_addr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BASE16FLOAT:upstream_response_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("BASE16FLOAT:request_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("QUOTEDSTRING:user_agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("IPV4:client_ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('" '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("WORD:x_forword_for"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v('"\n\n')])])]),a("p",[t._v("使用方式")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" grok "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         patterns_dir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/usr/local/logstash/patterns"')]),t._v("        //设置自定义正则路径\n        match "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%{NGINXACCESS}"')]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"其他格式日志解析样例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他格式日志解析样例"}},[t._v("#")]),t._v(" 其他格式日志解析样例")]),t._v(" "),a("p",[t._v("常见的日志样例，便于参考解析")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("内容： - "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2015")]),t._v("-04-29 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":04:23,733 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" INFO "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api.batch.ThreadPoolWorker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Command-line options "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this run:\n正则：- %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("TIMESTAMP_ISO8601:time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("WORD:main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("LOGLEVEL:loglevel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVACLASS:class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GREEDYDATA:mydata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("结果：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2015-04-29 13:04:23,733"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"loglevel"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"INFO"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"class"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api.batch.ThreadPoolWorker"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mydata"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Command-line options for this run:"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    内容：/wls/applogs/rtlog/icore-pamsDRServer1351/icore-pamsDRServer1351.out\n    正则：/wls/applogs/rtlog/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a-zA-Z-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("-9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:SF"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:WII"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:DMZ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("?:DR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("-9a-zA-Z"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("UNIXPATH:filepath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("结果：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"icore-pamsDRServer1351"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appname"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"icore-pams"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filepath"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/icore-pamsDRServer1351.out"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("p",[t._v("https://www.cnblogs.com/xd502djj/p/8253139.html")]),t._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("ul",[a("li",[t._v("https://blog.csdn.net/zjcjava/article/details/99258682")])])])}),[],!1,null,null,null);s.default=e.exports}}]);