(window.webpackJsonp=window.webpackJsonp||[]).push([[576],{1092:function(t,a,s){"use strict";s.r(a);var n=s(53),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文主要是介绍 Java 14语言新特性 。")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#版本号"}},[t._v("版本号")])]),s("li",[s("a",{attrs:{href:"#特性列表"}},[t._v("特性列表")]),s("ul",[s("li",[s("a",{attrs:{href:"#_305-pattern-matching-for-instanceof-preview-https-openjdk-java-net-jeps-305"}},[t._v("305:Pattern Matching for instanceof (Preview)")])]),s("li",[s("a",{attrs:{href:"#_343-packaging-tool-incubator-https-openjdk-java-net-jeps-343"}},[t._v("343:Packaging Tool (Incubator)")])]),s("li",[s("a",{attrs:{href:"#_345-numa-aware-memory-allocation-for-g1-https-openjdk-java-net-jeps-345"}},[t._v("345:NUMA-Aware Memory Allocation for G1")])]),s("li",[s("a",{attrs:{href:"#_349-jfr-event-streaming-https-openjdk-java-net-jeps-349"}},[t._v("349:JFR Event Streaming")])]),s("li",[s("a",{attrs:{href:"#_352-non-volatile-mapped-byte-buffers-https-openjdk-java-net-jeps-352"}},[t._v("352:Non-Volatile Mapped Byte Buffers")])]),s("li",[s("a",{attrs:{href:"#_358-helpful-nullpointerexceptions-https-openjdk-java-net-jeps-358"}},[t._v("358:Helpful NullPointerExceptions")])]),s("li",[s("a",{attrs:{href:"#_359-records-preview-https-openjdk-java-net-jeps-359"}},[t._v("359:Records (Preview)")])]),s("li",[s("a",{attrs:{href:"#_361-switch-expressions-standard-https-openjdk-java-net-jeps-361"}},[t._v("361:Switch Expressions (Standard)")])]),s("li",[s("a",{attrs:{href:"#_362-deprecate-the-solaris-and-sparc-ports-https-openjdk-java-net-jeps-362"}},[t._v("362:Deprecate the Solaris and SPARC Ports")])]),s("li",[s("a",{attrs:{href:"#_363-remove-the-concurrent-mark-sweep-cms-garbage-collector-https-openjdk-java-net-jeps-363"}},[t._v("363:Remove the Concurrent Mark Sweep (CMS) Garbage Collector")])]),s("li",[s("a",{attrs:{href:"#_364-zgc-on-macos-https-openjdk-java-net-jeps-364"}},[t._v("364:ZGC on macOS")])]),s("li",[s("a",{attrs:{href:"#_365-zgc-on-windows-https-openjdk-java-net-jeps-365"}},[t._v("365:ZGC on Windows")])]),s("li",[s("a",{attrs:{href:"#_366-deprecate-the-parallelscavenge-serialold-gc-combination-https-openjdk-java-net-jeps-366"}},[t._v("366:Deprecate the ParallelScavenge + SerialOld GC Combination")])]),s("li",[s("a",{attrs:{href:"#_367-remove-the-pack200-tools-and-api-https-openjdk-java-net-jeps-367"}},[t._v("367:Remove the Pack200 Tools and API")])]),s("li",[s("a",{attrs:{href:"#_368-text-blocks-second-preview-https-openjdk-java-net-jeps-368"}},[t._v("368:Text Blocks (Second Preview)")])]),s("li",[s("a",{attrs:{href:"#_370-foreign-memory-access-api-incubator-https-openjdk-java-net-jeps-370"}},[t._v("370:Foreign-Memory Access API (Incubator)")])])])]),s("li",[s("a",{attrs:{href:"#细项解读"}},[t._v("细项解读")]),s("ul",[s("li",[s("a",{attrs:{href:"#添加项"}},[t._v("添加项")])]),s("li",[s("a",{attrs:{href:"#移除项"}},[t._v("移除项")])]),s("li",[s("a",{attrs:{href:"#废弃项"}},[t._v("废弃项")])]),s("li",[s("a",{attrs:{href:"#已知问题"}},[t._v("已知问题")])]),s("li",[s("a",{attrs:{href:"#其他事项"}},[t._v("其他事项")])])])]),s("li",[s("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),s("p"),t._v(" "),s("p",[t._v("本文主要讲述一下Java14的新特性")]),t._v(" "),s("h2",{attrs:{id:"版本号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本号"}},[t._v("#")]),t._v(" 版本号")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("java "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("version\nopenjdk version "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"14"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OpenJDK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runtime")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Environment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1461")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OpenJDK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" VM "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1461")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mixed mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sharing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("从version信息可以看出是build 14+36")])]),t._v(" "),s("h2",{attrs:{id:"特性列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性列表"}},[t._v("#")]),t._v(" 特性列表")]),t._v(" "),s("h3",{attrs:{id:"_305-pattern-matching-for-instanceof-preview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_305-pattern-matching-for-instanceof-preview"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/305",target:"_blank",rel:"noopener noreferrer"}},[t._v("305:Pattern Matching for instanceof (Preview)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK14引入了preview版本的针对instanceof的模式匹配，其用法示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    public boolean isBadRequestError(Exception ex) {\n        return (ex instanceof HttpClientErrorException rce) &&\n                HttpStatus.BAD_REQUEST == rce.getStatusCode();\n    }\n")])])]),s("blockquote",[s("p",[t._v("无需在自己进行类型强转")])]),t._v(" "),s("h3",{attrs:{id:"_343-packaging-tool-incubator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_343-packaging-tool-incubator"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/343",target:"_blank",rel:"noopener noreferrer"}},[t._v("343:Packaging Tool (Incubator)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK14引入了jdk.incubator.jpackage.jmod，它基于JavaFX javapackager tool构建，目的在于创建一个简单的打包工具，可以用于构建exe、pkg、dmg、deb、rpm格式的安装文件；非模块化的app的构建示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("jpackage --name myapp --input lib --main-jar main.jar\n")])])]),s("h3",{attrs:{id:"_345-numa-aware-memory-allocation-for-g1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_345-numa-aware-memory-allocation-for-g1"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/345",target:"_blank",rel:"noopener noreferrer"}},[t._v("345:NUMA-Aware Memory Allocation for G1"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("实现了NUMA-aware的内存分配，以提升G1在大型机器上的性能")])]),t._v(" "),s("h3",{attrs:{id:"_349-jfr-event-streaming"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_349-jfr-event-streaming"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/349",target:"_blank",rel:"noopener noreferrer"}},[t._v("349:JFR Event Streaming"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK11引入了JFR，使用的时候先dump到磁盘上然后再分析；而在JDK14则支持stream方式来进行持续性的监控，示例如下")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AgentMain")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("premain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" agentArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Instrumentation")]),t._v(" inst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLogger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AgentMain"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Level")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Attaching JFR Monitor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AgentMain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLogger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AgentMain"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Level")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SEVERE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unable to attach JFR Monitor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sender "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JfrStreamEventSender")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" rs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RecordingStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdk.CPULoad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withPeriod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Duration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofSeconds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdk.JavaMonitorEnter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withThreshold")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Duration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofMillis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdk.CPULoad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdk.JavaMonitorEnter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_352-non-volatile-mapped-byte-buffers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_352-non-volatile-mapped-byte-buffers"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/352",target:"_blank",rel:"noopener noreferrer"}},[t._v("352:Non-Volatile Mapped Byte Buffers"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("该特性新增了java.base/jdk/internal/misc/ExtendedMapMode.java以支持MappedByteBuffer访问non-volatile memory (NVM)")])]),t._v(" "),s("h3",{attrs:{id:"_358-helpful-nullpointerexceptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_358-helpful-nullpointerexceptions"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/358",target:"_blank",rel:"noopener noreferrer"}},[t._v("358:Helpful NullPointerExceptions"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("该特性可以更好地提示哪个地方出现的空指针，需要通过-XX:+ShowCodeDetailsInExceptionMessages开启，示例如下")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullPointerExample")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("record")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("City")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("record")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("City")]),t._v(" city"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("record")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Location")]),t._v(" location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" user "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("city")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("输出如下")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" in thread "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("NullPointerException")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cannot")]),t._v(" invoke "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.NullPointerExample$City.name()"')]),t._v(" because the "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value of "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.example.NullPointerExample$Location.city()"')]),t._v(" is "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    at "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("NullPointerExample")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullPointerExample")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_359-records-preview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_359-records-preview"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/359",target:"_blank",rel:"noopener noreferrer"}},[t._v("359:Records (Preview)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK14引入了preview版本的record类型，示例如下")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("record")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(%d,%d)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("javap反编译如下")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("javac "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("enable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("preview "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("source "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java\njavap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("verbose "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compiled")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Point.java"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Point")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Record")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Point")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("x")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("可以看见Point继承了java.lang.Record，而且通过invokedynamic提供了final的hashCode及equals")])]),t._v(" "),s("h3",{attrs:{id:"_361-switch-expressions-standard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_361-switch-expressions-standard"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/361",target:"_blank",rel:"noopener noreferrer"}},[t._v("361:Switch Expressions (Standard)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK12引入的switch在JDK14变为正式版本，正式版主要是用"),s("code",[t._v("->")]),t._v("来替代以前的"),s("code",[t._v(":")]),t._v("+"),s("code",[t._v("break")]),t._v("；另外就是提供了yield来在block中返回值，示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('    public void testSwitchWithArrowBlockAndYield() {        int n = 3;        String quantityString = switch (n) {            case 1 -> "one";            case 2 -> "two";            default -> {                System.out.println("default");                yield "many";            }        };        System.out.println(quantityString);    }\n')])])]),s("h3",{attrs:{id:"_362-deprecate-the-solaris-and-sparc-ports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_362-deprecate-the-solaris-and-sparc-ports"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/362",target:"_blank",rel:"noopener noreferrer"}},[t._v("362:Deprecate the Solaris and SPARC Ports"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("废弃了 Solaris/SPARC, Solaris/x64, and Linux/SPARC ports，以在未来的版本中移除")])]),t._v(" "),s("h3",{attrs:{id:"_363-remove-the-concurrent-mark-sweep-cms-garbage-collector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_363-remove-the-concurrent-mark-sweep-cms-garbage-collector"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/363",target:"_blank",rel:"noopener noreferrer"}},[t._v("363:Remove the Concurrent Mark Sweep (CMS) Garbage Collector"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("移除了CMS垃圾收集器，如果在JDK14中使用-XX:+UseConcMarkSweepGC的话，会出现warning，但是不会exit而是以默认的垃圾收集器运行，如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("OpenJDK 64-Bit Server VM warning: Ignoring option UseConcMarkSweepGC; support was removed in 14.0\n")])])]),s("h3",{attrs:{id:"_364-zgc-on-macos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_364-zgc-on-macos"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/364",target:"_blank",rel:"noopener noreferrer"}},[t._v("364:ZGC on macOS"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("之前的ZGC只能在linux上使用，现在mac上也能使用ZGC了，示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("-XX:+UnlockExperimentalVMOptions -XX:+UseZGC\n")])])]),s("h3",{attrs:{id:"_365-zgc-on-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_365-zgc-on-windows"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/365",target:"_blank",rel:"noopener noreferrer"}},[t._v("365:ZGC on Windows"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("之前的ZGC只能在linux上使用，现在windows("),s("code",[t._v("不能低于1803版本")]),t._v(")上也能使用ZGC了，示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("-XX:+UnlockExperimentalVMOptions -XX:+UseZGC\n")])])]),s("h3",{attrs:{id:"_366-deprecate-the-parallelscavenge-serialold-gc-combination"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_366-deprecate-the-parallelscavenge-serialold-gc-combination"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/366",target:"_blank",rel:"noopener noreferrer"}},[t._v("366:Deprecate the ParallelScavenge + SerialOld GC Combination"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("废弃了parallel young generation GC与SerialOld GC的组合("),s("code",[t._v("-XX:+UseParallelGC与-XX:-UseParallelOldGC配合开启")]),t._v(")，现在使用-XX:+UseParallelGC -XX:-UseParallelOldGC或者-XX:-UseParallelOldGC都会出现告警如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("OpenJDK 64-Bit Server VM warning: Option UseParallelOldGC was deprecated in version 14.0 and will likely be removed in a future release.\n")])])]),s("blockquote",[s("p",[t._v("单独使用-XX:+UseParallelGC则开启parallel young and old generation GC algorithms")])]),t._v(" "),s("h3",{attrs:{id:"_367-remove-the-pack200-tools-and-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_367-remove-the-pack200-tools-and-api"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/367",target:"_blank",rel:"noopener noreferrer"}},[t._v("367:Remove the Pack200 Tools and API"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("移除了Pack200 API")])]),t._v(" "),s("h3",{attrs:{id:"_368-text-blocks-second-preview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_368-text-blocks-second-preview"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/368",target:"_blank",rel:"noopener noreferrer"}},[t._v("368:Text Blocks (Second Preview)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("JDK13引入的text blocks进行第二轮preview，JDK14的版本主要增加了两个escape sequences，分别是"),s("code",[t._v("\\<line-terminator>")]),t._v("与"),s("code",[t._v("\\s escape sequence")]),t._v("，示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('    @Test    public void testTextBlockWithTwoNewEscapeSequences() {        String inOneLine = """                Lorem ipsum dolor sit amet, consectetur adipiscing \\                elit, sed do eiusmod tempor incididunt ut labore \\                et dolore magna aliqua.\\                """;        System.out.println(inOneLine);        String singleSpace = """                red  \\s                green\\s                blue \\s                """;        System.out.println(singleSpace);    }\n')])])]),s("h3",{attrs:{id:"_370-foreign-memory-access-api-incubator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_370-foreign-memory-access-api-incubator"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://openjdk.java.net/jeps/370",target:"_blank",rel:"noopener noreferrer"}},[t._v("370:Foreign-Memory Access API (Incubator)"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("提供了incubator版本的API用于操纵堆外内存，使用示例如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    @Test    public void testForeignMemoryAccessAPI() {        SequenceLayout intArrayLayout                = MemoryLayout.ofSequence(25,                MemoryLayout.ofValueBits(32,                        ByteOrder.nativeOrder()));        VarHandle intElemHandle                = intArrayLayout.varHandle(int.class,                MemoryLayout.PathElement.sequenceElement());        try (MemorySegment segment = MemorySegment.allocateNative(intArrayLayout)) {            MemoryAddress base = segment.baseAddress();            for (int i = 0; i < intArrayLayout.elementCount().getAsLong(); i++) {                intElemHandle.set(base, (long) i, i);            }        }    }\n")])])]),s("h2",{attrs:{id:"细项解读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#细项解读"}},[t._v("#")]),t._v(" 细项解读")]),t._v(" "),s("p",[t._v("上面列出的是大方面的特性，除此之外还有一些api的更新及废弃，主要见"),s("a",{attrs:{href:"http://jdk.java.net/14/release-notes",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK 14 Release Notes"),s("OutboundLink")],1),t._v("，这里举几个例子。")]),t._v(" "),s("h3",{attrs:{id:"添加项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加项"}},[t._v("#")]),t._v(" 添加项")]),t._v(" "),s("ul",[s("li",[t._v("New Method to SAX ContentHandler for Handling XML Declaration ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8230814",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8230814"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("给SAX ContentHandler新增了方法，如下")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    default void declaration(String version, String encoding, String standalone)        throws SAXException    {        //no op    }\n")])])]),s("h3",{attrs:{id:"移除项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移除项"}},[t._v("#")]),t._v(" 移除项")]),t._v(" "),s("ul",[s("li",[t._v("Removal of sun.nio.cs.map System Property ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8229960",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8229960"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("移除了sun.nio.cs.map属性")])]),t._v(" "),s("ul",[s("li",[t._v("Removed Deprecated java.security.acl APIs ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8191138",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8191138"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("移除了java.security.acl")])]),t._v(" "),s("ul",[s("li",[t._v("Removal of the Default keytool -keyalg Value ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8214024",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8214024"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("移除了默认的keytool -keyalg")])]),t._v(" "),s("h3",{attrs:{id:"废弃项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#废弃项"}},[t._v("#")]),t._v(" 废弃项")]),t._v(" "),s("ul",[s("li",[t._v("Thread Suspend/Resume Are Deprecated for Removal ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8231602",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8231602"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("废弃了Thread的如下方法")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Thread.suspend()\nThread.resume()\nThreadGroup.suspend()\nThreadGroup.resume()\nThreadGroup.allowThreadSuspension(boolean)\n")])])]),s("h3",{attrs:{id:"已知问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#已知问题"}},[t._v("#")]),t._v(" 已知问题")]),t._v(" "),s("ul",[s("li",[t._v("Text Visibility Issues in macOS Dark Mode ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8228555",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8228555"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("已知在macOS上的Dark Mode有Text Visibility Issues")])]),t._v(" "),s("h3",{attrs:{id:"其他事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他事项"}},[t._v("#")]),t._v(" 其他事项")]),t._v(" "),s("ul",[s("li",[t._v("Thread.countStackFrames Changed to Unconditionally Throw UnsupportedOperationException ("),s("a",{attrs:{href:"https://bugs.openjdk.java.net/browse/JDK-8205132",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK-8205132"),s("OutboundLink")],1),t._v(")")])]),t._v(" "),s("blockquote",[s("p",[t._v("Thread.countStackFrames开启转为无条件地抛出UnsupportedOperationException")])]),t._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),s("ul",[s("li",[t._v("https://segmentfault.com/a/1190000022064656")])])])}),[],!1,null,null,null);a.default=e.exports}}]);