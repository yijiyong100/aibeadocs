(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{580:function(t,a,s){"use strict";s.r(a);var n=s(53),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文主要是介绍 Pyhon机器学习-Pandas介绍 。")])]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#前置机器学习-四-一文掌握pandas用法"}},[t._v("前置机器学习（四）：一文掌握Pandas用法")])]),s("li",[s("a",{attrs:{href:"#一、series和dataframe"}},[t._v("一、Series和DataFrame")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-pandas-series"}},[t._v("1. pandas.Series")])]),s("li",[s("a",{attrs:{href:"#_2-pandas-dataframe"}},[t._v("2. pandas.DataFrame")])])])]),s("li",[s("a",{attrs:{href:"#二、pandas常见用法"}},[t._v("二、Pandas常见用法")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-访问数据"}},[t._v("1. 访问数据")])]),s("li",[s("a",{attrs:{href:"#_2-选择数据"}},[t._v("2. 选择数据")])]),s("li",[s("a",{attrs:{href:"#_3-处理缺失值"}},[t._v("3. 处理缺失值")])]),s("li",[s("a",{attrs:{href:"#_4-操作方法"}},[t._v("4. 操作方法")])]),s("li",[s("a",{attrs:{href:"#_5-合并"}},[t._v("5. 合并")])]),s("li",[s("a",{attrs:{href:"#_6-分组groupby"}},[t._v("6. 分组GroupBy")])])])]),s("li",[s("a",{attrs:{href:"#三、pandas-进阶用法"}},[t._v("三、Pandas 进阶用法")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-reshape"}},[t._v("1. reshape")])]),s("li",[s("a",{attrs:{href:"#_2-时间序列"}},[t._v("2. 时间序列")])]),s("li",[s("a",{attrs:{href:"#_3-分类"}},[t._v("3. 分类")])]),s("li",[s("a",{attrs:{href:"#_4-io"}},[t._v("4. IO")])]),s("li",[s("a",{attrs:{href:"#_5-绘图"}},[t._v("5. 绘图")])])])]),s("li",[s("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"前置机器学习-四-一文掌握pandas用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置机器学习-四-一文掌握pandas用法"}},[t._v("#")]),t._v(" 前置机器学习（四）：一文掌握Pandas用法")]),t._v(" "),s("h2",{attrs:{id:"一、series和dataframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、series和dataframe"}},[t._v("#")]),t._v(" 一、Series和DataFrame")]),t._v(" "),s("p",[t._v("Pandas建立在NumPy之上。")]),t._v(" "),s("p",[t._v("Pandas特别适合处理表格数据，如SQL表格、EXCEL表格。有序或无序的时间序列。具有行和列标签的任意矩阵数据。")]),t._v(" "),s("p",[t._v("打开Jupyter Notebook，导入numpy和pandas开始我们的教程：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\n")])])]),s("h3",{attrs:{id:"_1-pandas-series"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-pandas-series"}},[t._v("#")]),t._v(" 1. pandas.Series")]),t._v(" "),s("p",[t._v("Series是带有索引的一维ndarray数组。索引值可不唯一，但必须是可哈希的。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    NaN\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.0")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("我们可以看到默认索引值为0、1、2、3、4、5这样的数字。添加"),s("code",[t._v("index")]),t._v("属性，指定其为'c','a','i','yong','j','i'。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yong'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'j'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出如下，我们可以看到index是可重复的。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("c       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("\na       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),t._v("\ni       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),t._v("\nyong    NaN\nj       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.0")]),t._v("\ni       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.0")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("h3",{attrs:{id:"_2-pandas-dataframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-pandas-dataframe"}},[t._v("#")]),t._v(" 2. pandas.DataFrame")]),t._v(" "),s("p",[t._v("DataFrame是带有行和列的表格结构。可以理解为多个Series对象的字典结构。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ii'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iii'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出表格如下，其中"),s("code",[t._v("index")]),t._v("对应它的行，"),s("code",[t._v("columns")]),t._v("对应它的列。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("i")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")])]),t._v(" "),s("tr",[s("td",[t._v("ii")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")])]),t._v(" "),s("tr",[s("td",[t._v("iii")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("9")])])])]),t._v(" "),s("h2",{attrs:{id:"二、pandas常见用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、pandas常见用法"}},[t._v("#")]),t._v(" 二、Pandas常见用法")]),t._v(" "),s("h3",{attrs:{id:"_1-访问数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-访问数据"}},[t._v("#")]),t._v(" 1. 访问数据")]),t._v(" "),s("p",[t._v("准备数据，随机生成6行4列的二维数组，行标签为从20210101到20210106的日期，列标签为A、B、C、D。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\nnp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20201212")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20210101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" periods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ABCD'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-1-head-和tail"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-head-和tail"}},[t._v("#")]),t._v(" 1.1 head()和tail()")]),t._v(" "),s("p",[t._v("查看表格前几行：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])])])]),t._v(" "),s("p",[t._v("查看表格后几行：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-2-describe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-describe"}},[t._v("#")]),t._v(" 1.2 describe()")]),t._v(" "),s("p",[s("code",[t._v("describe")]),t._v("方法用于生成DataFrame的描述统计信息。可以很方便的查看数据集的分布情况。注意，这里的统计分布不包含"),s("code",[t._v("NaN")]),t._v("值。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("describe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("count")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")])]),t._v(" "),s("tr",[s("td",[t._v("mean")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0825402")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0497552")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.181309")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.22896")])]),t._v(" "),s("tr",[s("td",[t._v("std")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.551412")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.07834")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.933155")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.13114")])]),t._v(" "),s("tr",[s("td",[t._v("min")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")])]),t._v(" "),s("tr",[s("td",[t._v("25%")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.18")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.553043")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.737194")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.587269")])]),t._v(" "),s("tr",[s("td",[t._v("50%")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.298188")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134555")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.106933")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.287363")])]),t._v(" "),s("tr",[s("td",[t._v("75%")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.342885")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.987901")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.556601")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.16805")])]),t._v(" "),s("tr",[s("td",[t._v("max")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])])])]),t._v(" "),s("p",[t._v("我们首先回顾一下我们掌握的数学公式。")]),t._v(" "),s("p",[s("strong",[t._v("平均数(mean)")]),t._v("：")]),t._v(" "),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-1.png"),alt:"wxmp"}}),t._v(" "),s("p",[s("strong",[t._v("方差(variance)")]),t._v(":")]),t._v(" "),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-2.png"),alt:"wxmp"}}),t._v(" "),s("p",[s("strong",[t._v("标准差(std)")]),t._v(":")]),t._v(" "),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-3.png"),alt:"wxmp"}}),t._v(" "),s("p",[t._v("我们解释一下pandas的describe统计信息各属性的意义。我们仅以 "),s("code",[t._v("A")]),t._v(" 列为例。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("count")]),t._v("表示计数。A列有6个数据不为空。")]),t._v(" "),s("li",[s("code",[t._v("mean")]),t._v("表示平均值。A列所有不为空的数据平均值为0.0825402。")]),t._v(" "),s("li",[s("code",[t._v("std")]),t._v("表示标准差。A列的标准差为0.551412。")]),t._v(" "),s("li",[s("code",[t._v("min")]),t._v("表示最小值。A列最小值为-0.816064。即，0%的数据比-0.816064小。")]),t._v(" "),s("li",[s("code",[t._v("25%")]),t._v("表示四分之一分位数。A列的四分之一分位数为-0.18。即，25%的数据比-0.18小。")]),t._v(" "),s("li",[s("code",[t._v("50%")]),t._v("表示二分之一分位数。A列的四分之一分位数为0.298188。即，50%的数据比0.298188小。")]),t._v(" "),s("li",[s("code",[t._v("75%")]),t._v("表示四分之三分位数。A列的四分之三分位数为0.342885。即，75%的数据比0.342885小。")]),t._v(" "),s("li",[s("code",[t._v("max")]),t._v("表示最大值。A列的最大值为0.696541。即，100%的数据比0.696541小。")])]),t._v(" "),s("h4",{attrs:{id:"_1-3-t"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-t"}},[t._v("#")]),t._v(" 1.3 T")]),t._v(" "),s("p",[s("code",[t._v("T")]),t._v("一般表示"),s("code",[t._v("Transpose")]),t._v("的缩写，即转置。行列转换。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("T\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-01")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-02")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-03")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-04")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-05")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("2021-01-06")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("A")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")])]),t._v(" "),s("tr",[s("td",[t._v("B")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")])]),t._v(" "),s("tr",[s("td",[t._v("C")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")])]),t._v(" "),s("tr",[s("td",[t._v("D")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-4-sort-values"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-sort-values"}},[t._v("#")]),t._v(" 1.4 sort_values()")]),t._v(" "),s("p",[t._v("指定某一列进行排序，如下代码根据"),s("code",[t._v("C")]),t._v("列进行正序排序。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort_values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-5-nlargest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-nlargest"}},[t._v("#")]),t._v(" 1.5 nlargest()")]),t._v(" "),s("p",[t._v("选择某列最大的n行数据。如："),s("code",[t._v("df.nlargest(2,'A')")]),t._v("表示，返回A列最大的2行数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nlargest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-6-sample"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-sample"}},[t._v("#")]),t._v(" 1.6 sample()")]),t._v(" "),s("p",[s("code",[t._v("sample")]),t._v("方法表示查看随机的样例数据。")]),t._v(" "),s("p",[s("code",[t._v("df.sample(5)")]),t._v("表示返回随机5行数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("参数"),s("code",[t._v("frac")]),t._v("表示fraction，分数的意思。frac=0.01即返回1%的随机数据作为样例展示。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frac"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-选择数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-选择数据"}},[t._v("#")]),t._v(" 2. 选择数据")]),t._v(" "),s("h4",{attrs:{id:"_2-1-根据标签选择"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-根据标签选择"}},[t._v("#")]),t._v(" 2.1 根据标签选择")]),t._v(" "),s("p",[t._v("我们输入"),s("code",[t._v("df['A']")]),t._v("命令选取A列。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("输出A列数据，同时也是一个Series对象：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2709612021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6965412021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3254152021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3303202021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3487082021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("06")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),t._v("816064Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[s("code",[t._v("df[0:3]")]),t._v("该代码与"),s("code",[t._v("df.head(3)")]),t._v("同理。但"),s("code",[t._v("df[0:3]")]),t._v("是NumPy的数组选择方式，这说明了Pandas对于NumPy具有良好的支持。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])])])]),t._v(" "),s("p",[t._v("通过loc方法指定行列标签。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-01'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-02'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-2-根据位置选择"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-根据位置选择"}},[t._v("#")]),t._v(" 2.2 根据位置选择")]),t._v(" "),s("p",[s("code",[t._v("iloc")]),t._v(" 与"),s("code",[t._v("loc")]),t._v("不同。"),s("code",[t._v("loc")]),t._v("指定具体的标签，而"),s("code",[t._v("iloc")]),t._v("指定标签的索引位置。"),s("code",[t._v("df.iloc[3:5, 0:3]")]),t._v("表示选取索引为3、4的行，索引为0、1、2的列。即，第4、5行，第1、2、3列。\n注意，索引序号从0开始。冒号表示区间，左右两侧分别表示开始和结束。如"),s("code",[t._v("3:5")]),t._v("表示左开右闭区间"),s("code",[t._v("[3,5)")]),t._v("，即不包含5自身。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")])])])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-3-布尔索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-布尔索引"}},[t._v("#")]),t._v(" 2.3 布尔索引")]),t._v(" "),s("p",[t._v("DataFrame可根据条件进行筛选，当条件判断"),s("code",[t._v("True")]),t._v("时，返回。当条件判断为"),s("code",[t._v("False")]),t._v("时，过滤掉。")]),t._v(" "),s("p",[t._v("我们设置一个过滤器用来判断A列是否大于0。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),t._v("\n")])])]),s("p",[t._v("输出结果如下，可以看到"),s("code",[t._v("2021-01-04")]),t._v("和"),s("code",[t._v("2021-01-06")]),t._v("的行为False。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v("     True2021"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v("     True2021"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),t._v("     True2021"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v("    False2021"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),t._v("     True2021"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("06")]),t._v("    FalseName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v("\n")])])]),s("p",[t._v("我们通过过滤器查看数据集。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## df[df['A'] > 0]")]),t._v("\n")])])]),s("p",[t._v("查看表格我们可以发现，"),s("code",[t._v("2021-01-04")]),t._v("和"),s("code",[t._v("2021-01-06")]),t._v("的行被过滤掉了。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")])])])]),t._v(" "),s("h3",{attrs:{id:"_3-处理缺失值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-处理缺失值"}},[t._v("#")]),t._v(" 3. 处理缺失值")]),t._v(" "),s("p",[t._v("准备数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("copy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("\nf_series "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-02'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-03'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-04'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-05'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2021-01-06'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndf2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'F'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f_series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf2\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("F")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("E")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-1-dropna"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-dropna"}},[t._v("#")]),t._v(" 3.1 dropna()")]),t._v(" "),s("p",[t._v("使用dropna方法清空NaN值。注意：dropa方法返回新的DataFrame，并不会改变原有的DataFrame。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dropna"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("how"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'any'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("以上代码表示，当行数据有任意的数值为空时，删除。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("F")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("E")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-2-fillna"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-fillna"}},[t._v("#")]),t._v(" 3.2 fillna()")]),t._v(" "),s("p",[t._v("使用filna命令填补NaN值。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillna"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("以上代码表示，使用每一列的平均值来填补空缺。同样地，fillna并不会更新原有的DataFrame，如需更新原有DataFrame使用代码"),s("code",[t._v("df2 = df2.fillna(df2.mean())")]),t._v("。")]),t._v(" "),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("F")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("E")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348708")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.27175")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.626011")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.253845")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.816064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.30197")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.656281")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.2718")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])])])]),t._v(" "),s("h3",{attrs:{id:"_4-操作方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-操作方法"}},[t._v("#")]),t._v(" 4. 操作方法")]),t._v(" "),s("h4",{attrs:{id:"_4-1-agg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-agg"}},[t._v("#")]),t._v(" 4.1 agg()")]),t._v(" "),s("p",[t._v("agg是Aggregate的缩写，意为聚合。")]),t._v(" "),s("p",[t._v("常用聚合方法如下：")]),t._v(" "),s("ul",[s("li",[t._v("mean(): Compute mean of groups")]),t._v(" "),s("li",[t._v("sum(): Compute sum of group values")]),t._v(" "),s("li",[t._v("size(): Compute group sizes")]),t._v(" "),s("li",[t._v("count(): Compute count of group")]),t._v(" "),s("li",[t._v("std(): Standard deviation of groups")]),t._v(" "),s("li",[t._v("var(): Compute variance of groups")]),t._v(" "),s("li",[t._v("sem(): Standard error of the mean of groups")]),t._v(" "),s("li",[t._v("describe(): Generates descriptive statistics")]),t._v(" "),s("li",[t._v("first(): Compute first of group values")]),t._v(" "),s("li",[t._v("last(): Compute last of group values")]),t._v(" "),s("li",[t._v("nth() : Take nth value, or a subset if n is a list")]),t._v(" "),s("li",[t._v("min(): Compute min of group values")]),t._v(" "),s("li",[t._v("max(): Compute max of group values")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("返回各列平均值")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("082540B")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("049755C")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("181309D")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),t._v("228960dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("可通过加参数axis查看行平均值。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("axis"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2606112021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3778602021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2174702021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2960532021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.4981562021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("06")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),t._v("032404dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("如果我们想查看某一列的多项聚合统计怎么办？\n这时我们可以调用"),s("strong",[t._v("agg")]),t._v("方法：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'std'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mean'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("返回结果显示标准差std和均值mean：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("std     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.551412")]),t._v("\nmean    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.082540")]),t._v("\nName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("对于不同的列应用不同的聚合函数：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'max'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mean'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mean'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'std'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'var'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("返回结果如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("max")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("mean")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0825402")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0497552")])]),t._v(" "),s("tr",[s("td",[t._v("std")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.07834")])]),t._v(" "),s("tr",[s("td",[t._v("var")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.16281")])])])]),t._v(" "),s("h4",{attrs:{id:"_4-2-apply"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-apply"}},[t._v("#")]),t._v(" 4.2 apply()")]),t._v(" "),s("p",[t._v("apply()是对方法的调用。\n如"),s("code",[t._v("df.apply(np.sum)")]),t._v("表示每一列调用np.sum方法，返回每一列的数值和。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出结果为：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.495241")]),t._v("\nB    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.298531")]),t._v("\nC   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.087857")]),t._v("\nD    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.373762")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("apply方法支持lambda表达式。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2021-01-01")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.541923")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.810925")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696747")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.65714")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-02")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.39308")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.272704")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-3.29185")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.39682")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-03")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.65083")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.20447")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.269016")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.56242")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-04")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.66064")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-2.80768")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.87618")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.97607")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-05")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.697417")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.5435")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.25202")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.50769")])]),t._v(" "),s("tr",[s("td",[t._v("2021-01-06")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.63213")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.60393")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.31256")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-2.5436")])])])]),t._v(" "),s("h4",{attrs:{id:"_4-3-value-counts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-value-counts"}},[t._v("#")]),t._v(" 4.3 value_counts()")]),t._v(" "),s("p",[t._v("value_counts方法查看各行、列的数值重复统计。\n我们重新生成一些整数数据，来保证有一定的数据重复。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("df3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ABCD'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("df3\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")])])])]),t._v(" "),s("p",[t._v("调用value_counts()方法。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value_counts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("查看输出我们可以看到 A列的数字8有两个，其他数字的数量为1。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("    1Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" int64\n")])])]),s("h4",{attrs:{id:"_4-4-str"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-str"}},[t._v("#")]),t._v(" 4.4 str")]),t._v(" "),s("p",[t._v("Pandas内置字符串处理方法。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("names "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'andrew'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bobo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'claire'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'david'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("names"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("通过以上代码我们将Series中的字符串全部设置为大写。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    ANDREW1      BOBO2    CLAIRE3     DAVID4         4dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v("\n")])])]),s("p",[t._v("首字母大写：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("names"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capitalize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出为：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    Andrew1      Bobo2    Claire3     David4         4dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v("\n")])])]),s("p",[t._v("判断是否为数字：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("names"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isdigit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出为：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v("\n")])])]),s("p",[t._v("字符串分割：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("tech_finance "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GOOG,APPL,AMZN'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'JPM,BAC,GS'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ntickers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tech_finance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntickers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("以逗号分割字符串，结果为：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GOOG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" APPL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("JPM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" BAC"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v("\n")])])]),s("h3",{attrs:{id:"_5-合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-合并"}},[t._v("#")]),t._v(" 5. 合并")]),t._v(" "),s("h4",{attrs:{id:"_5-1-concat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-concat"}},[t._v("#")]),t._v(" 5.1 concat()")]),t._v(" "),s("p",[t._v("concat用来将数据集串联起来。我们先准备数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("data_one "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Col1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Col2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndata_two "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Col1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Col2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\none "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data_one"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntwo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data_two"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("使用concat方法将两个数据集串联起来。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("one"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("two"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("得到表格：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",[t._v("Col1")]),t._v(" "),s("th",[t._v("Col2")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",[t._v("A0")]),t._v(" "),s("td",[t._v("B0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("A1")]),t._v(" "),s("td",[t._v("B1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("A2")]),t._v(" "),s("td",[t._v("B2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("A3")]),t._v(" "),s("td",[t._v("B3")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",[t._v("C0")]),t._v(" "),s("td",[t._v("D0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("C1")]),t._v(" "),s("td",[t._v("D1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("C2")]),t._v(" "),s("td",[t._v("D2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("C3")]),t._v(" "),s("td",[t._v("D3")])])])]),t._v(" "),s("h4",{attrs:{id:"_5-2-merge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-merge"}},[t._v("#")]),t._v(" 5.2 merge()")]),t._v(" "),s("p",[t._v("merge相当于SQL操作中的join方法，用于将两个数据集通过某种关系连接起来")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("registrations "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reg_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Andrew'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bobo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Claire'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'David'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlogins "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'log_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Xavier'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Andrew'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Yolanda'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bobo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("我们根据"),s("code",[t._v("name")]),t._v("来连接两个张表，连接方式为"),s("code",[t._v("outer")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("merge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("registrations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("logins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" how"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'outer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("on"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("返回结果为：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("reg_id")]),t._v(" "),s("th",[t._v("name")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("log_id")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("Andrew")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("Bobo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("Claire")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("David")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",[t._v("Xavier")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",[t._v("Yolanda")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")])])])]),t._v(" "),s("p",[t._v("我们注意，"),s("strong",[t._v("how : {'left', 'right', 'outer', 'inner'}")]),t._v(" 有4种连接方式。表示是否选取左右两侧表的nan值。如left表示保留左侧表中所有数据，当遇到右侧表数据为nan值时，不显示右侧的数据。\n简单来说，把left表和right表看作两个集合。")]),t._v(" "),s("ul",[s("li",[t._v("left表示取左表全部集合+两表交集")]),t._v(" "),s("li",[t._v("right表示取右表全部集合+两表交集")]),t._v(" "),s("li",[t._v("outer表示取两表并集")]),t._v(" "),s("li",[t._v("inner表示取两表交集")])]),t._v(" "),s("h3",{attrs:{id:"_6-分组groupby"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-分组groupby"}},[t._v("#")]),t._v(" 6. 分组GroupBy")]),t._v(" "),s("p",[t._v("Pandas中的分组功能非常类似于SQL语句"),s("code",[t._v("SELECT Column1, Column2, mean(Column3), sum(Column4)FROM SomeTableGROUP BY Column1, Column2")]),t._v("。即使没有接触过SQL也没有关系，分组就相当于把表格数据按照某一列进行拆分、统计、合并的过程。")]),t._v(" "),s("p",[t._v("准备数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20201212")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'three'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'three'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf\n")])])]),s("p",[t._v("可以看到，我们的A列和B列有很多重复数据。这时我们可以根据foo/bar或者one/two进行分组。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",[t._v("A")]),t._v(" "),s("th",[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",[t._v("three")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("three")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-1-单列分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-单列分组"}},[t._v("#")]),t._v(" 6.1 单列分组")]),t._v(" "),s("p",[t._v("我们应用"),s("code",[t._v("groupby")]),t._v("方法将上方表格中的数据进行分组。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("执行上方代码可以看到，groupby方法返回的是一个类型为"),s("code",[t._v("DataFrameGroupBy")]),t._v("的对象。我们无法直接查看，需要应用聚合函数。参考本文4.1节。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pandas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("generic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrameGroupBy "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" at "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x0000014C6742E248")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("我们应用聚合函数sum试试。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.559461")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.724868")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.02846")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.410533")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-2-多列分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-多列分组"}},[t._v("#")]),t._v(" 6.2 多列分组")]),t._v(" "),s("p",[s("code",[t._v("groupby")]),t._v("方法支持将多个列作为参数传入。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("分组后显示结果如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("three")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.37496")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.612675")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("three")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.04491")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.464828")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-3-应用多聚合方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-应用多聚合方法"}},[t._v("#")]),t._v(" 6.3 应用多聚合方法")]),t._v(" "),s("p",[t._v("我们应用"),s("code",[t._v("agg()")]),t._v("，将聚合方法数组作为参数传入方法。下方代码根据A分类且只统计"),s("code",[t._v("C")]),t._v("列的数值。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("可以看到bar组与foo组各聚合函数的结果如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("sum")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("mean")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("std")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.559461")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.186487")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.618543")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.02846")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.205692")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.957242")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-4-不同列进行不同聚合统计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-不同列进行不同聚合统计"}},[t._v("#")]),t._v(" 6.4 不同列进行不同聚合统计")]),t._v(" "),s("p",[t._v("下方代码对C、D列分别进行不同的聚合统计，对C列进行求和，对D列进行标准差统计。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sum'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ddof"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.559461")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.37837")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.02846")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.907422")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-5-更多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-更多"}},[t._v("#")]),t._v(" 6.5 更多")]),t._v(" "),s("p",[t._v("更多关于Pandas的"),s("code",[t._v("goupby")]),t._v("方法请参考官网:"),s("a",{attrs:{href:"https://link.segmentfault.com/?url=https%3A%2F%2Fpandas.pydata.org%2Fpandas-docs%2Fstable%2Fuser_guide%2Fgroupby.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"三、pandas-进阶用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、pandas-进阶用法"}},[t._v("#")]),t._v(" 三、Pandas 进阶用法")]),t._v(" "),s("h3",{attrs:{id:"_1-reshape"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-reshape"}},[t._v("#")]),t._v(" 1. reshape")]),t._v(" "),s("p",[s("code",[t._v("reshape")]),t._v("表示重塑表格。对于复杂表格，我们需要将其转换成适合我们理解的样子，比如根据某些属性分组后进行单独统计。")]),t._v(" "),s("h4",{attrs:{id:"_1-1-stack-和-unstack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-stack-和-unstack"}},[t._v("#")]),t._v(" 1.1 stack() 和 unstack()")]),t._v(" "),s("p",[s("code",[t._v("stack")]),t._v("方法将表格分为索引和数据两个部分。索引各列保留，数据"),s("strong",[t._v("堆叠")]),t._v("放置。")]),t._v(" "),s("p",[t._v("准备数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("tuples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("zip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nindex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MultiIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_tuples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tuples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" names"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'first'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'second'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("根据上方代码，我们创建了一个复合索引。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("MultiIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           names"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'first'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'second'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("我们创建一个具备复合索引的DataFrame。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20201212")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf\n")])])]),s("p",[t._v("输出如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("baz")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",[t._v("qux")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])])])]),t._v(" "),s("p",[t._v("我们执行"),s("code",[t._v("stack")]),t._v("方法。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("stacked "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("stacked\n")])])]),s("p",[t._v("输出堆叠（压缩）后的表格如下。"),s("em",[t._v("注意：你使用Jupyter Notebook/Lab进行的输出可能和如下结果不太一样。下方输出的各位为了方便在Markdown中显示有一定的调整。")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("first  second   \nbar    one     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.942502")]),t._v("\nbar    one     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.060742")]),t._v("\nbar    two     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.340975")]),t._v("\nbar    two     B   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.712152")]),t._v("\nbaz    one     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.899275")]),t._v("\nbaz    one     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.237799")]),t._v("\nbaz    two     A   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.589069")]),t._v("\nbaz    two     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.288342")]),t._v("\nfoo    one     A   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.326792")]),t._v("\nfoo    one     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.576351")]),t._v("\nfoo    two     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.526528")]),t._v("\nfoo    two     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.410695")]),t._v("\nqux    one     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.420718")]),t._v("\nqux    one     B   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.288002")]),t._v("\nqux    two     A    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.361586")]),t._v("\nqux    two     B    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.177352")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("p",[t._v("我们执行unstack将数据进行展开。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("stacked"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unstack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出原表格。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("A")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270961")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.405463")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.348373")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.828572")])]),t._v(" "),s("tr",[s("td",[t._v("baz")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.696541")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.136352")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.64592")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.69841")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.325415")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.602236")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.134508")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28121")])]),t._v(" "),s("tr",[s("td",[t._v("qux")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.33032")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.40384")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.93809")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.48804")])])])]),t._v(" "),s("p",[t._v("我们加入参数"),s("code",[t._v("level")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("stacked"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unstack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("level"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#stacked.unstack(level=1)")]),t._v("\n")])])]),s("p",[t._v("当"),s("code",[t._v("level=0")]),t._v("时得到如下输出，大家可以试试"),s("code",[t._v("level=1")]),t._v("时输出什么。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("second")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("first")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("bar")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("baz")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("foo")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("qux")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.942502")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.89927")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.326792")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.420718")])]),t._v(" "),s("tr",[s("td",[t._v("one")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.060742")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.2378")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.57635")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.288002")])]),t._v(" "),s("tr",[s("td",[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("A")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.34097")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.58907")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.52653")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.361586")])]),t._v(" "),s("tr",[s("td",[t._v("two")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("B")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.71215")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.28834")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.4107")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.177352")])])])]),t._v(" "),s("h4",{attrs:{id:"_1-2-pivot-table"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-pivot-table"}},[t._v("#")]),t._v(" 1.2 pivot_table()")]),t._v(" "),s("p",[t._v("pivot_table表示透视表，是一种对数据动态排布并且分类汇总的表格格式。")]),t._v(" "),s("p",[t._v("我们生成无索引列的DataFrame。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'one'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'two'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'three'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf\n")])])]),s("p",[t._v("展示表格如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",[t._v("A")]),t._v(" "),s("th",[t._v("B")]),t._v(" "),s("th",[t._v("C")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("D")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("E")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.142359")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0235001")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("B")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.05722")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.456201")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",[t._v("C")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.283262")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270493")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("three")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.32981")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.43501")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("B")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.154622")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.882817")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("C")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.0690309")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.580082")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.75518")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.501565")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("7")]),t._v(" "),s("td",[t._v("three")]),t._v(" "),s("td",[t._v("B")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.825647")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.590953")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("8")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("C")]),t._v(" "),s("td",[t._v("foo")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.113069")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.731616")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("9")]),t._v(" "),s("td",[t._v("one")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-2.36784")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.261755")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("10")]),t._v(" "),s("td",[t._v("two")]),t._v(" "),s("td",[t._v("B")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.167049")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.855796")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("11")]),t._v(" "),s("td",[t._v("three")]),t._v(" "),s("td",[t._v("C")]),t._v(" "),s("td",[t._v("bar")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.685398")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.187526")])])])]),t._v(" "),s("p",[t._v("通过观察数据，我们可以显然得出A、B、C列的具备一定属性含义。我们执行"),s("code",[t._v("pivot_table")]),t._v("方法。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pivot_table"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" values"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'E'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("上方代码的意思为，将D、E列作为数据列，A、B作为复合行索引，"),s("strong",[t._v("C的数据值")]),t._v("作为列索引。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("('D', 'bar')")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("('D', 'foo')")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("('E', 'bar')")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("('E', 'foo')")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("('one', 'A')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-2.36784")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.142359")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.261755")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.0235001")])]),t._v(" "),s("tr",[s("td",[t._v("('one', 'B')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.154622")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2.05722")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.882817")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.456201")])]),t._v(" "),s("tr",[s("td",[t._v("('one', 'C')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.0690309")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.113069")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.580082")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.731616")])]),t._v(" "),s("tr",[s("td",[t._v("('three', 'A')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1.32981")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-1.43501")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("('three', 'B')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.825647")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.590953")])]),t._v(" "),s("tr",[s("td",[t._v("('three', 'C')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.685398")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.187526")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("('two', 'A')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.75518")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.501565")])]),t._v(" "),s("tr",[s("td",[t._v("('two', 'B')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.167049")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-0.855796")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")])]),t._v(" "),s("tr",[s("td",[t._v("('two', 'C')")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.283262")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("nan")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("0.270493")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-时间序列"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-时间序列"}},[t._v("#")]),t._v(" 2. 时间序列")]),t._v(" "),s("p",[s("code",[t._v("date_range")]),t._v("是Pandas自带的生成日期间隔的方法。我们执行下方代码：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("rng "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1/1/2021'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" periods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" freq"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("rng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("date_range方法从2021年1月1日0秒开始，以1秒作为时间间隔执行100次时间段的划分。输出结果如下：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("475")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("145")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("240")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("183")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("413")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("330")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("272")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("304")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151")]),t._v("\nFreq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" S"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" int32\n")])])]),s("p",[t._v("我们将"),s("code",[t._v("freq")]),t._v("的参数值从S(second)改为M(Month)试试看。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("rng "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1/1/2021'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" periods"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" freq"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("rng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("311")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("327")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("484")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2028")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("170")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2029")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("01")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("492")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2029")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("205")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2029")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("03")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2029")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("04")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("446")]),t._v("\nFreq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" M"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" int32\n")])])]),s("p",[t._v("我们设置可以以季度作为频率进行日期生成。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("prng "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("period_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2018Q1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2020Q4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" freq"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Q-NOV'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Series"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("输出2018第一季度到2020第四季度间的全部季度。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("2018Q1    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.833025")]),t._v("\n2018Q2   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.509514")]),t._v("\n2018Q3   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.735542")]),t._v("\n2018Q4   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.224403")]),t._v("\n2019Q1   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.119709")]),t._v("\n2019Q2   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.379413")]),t._v("\n2019Q3    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.871741")]),t._v("\n2019Q4    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.877493")]),t._v("\n2020Q1    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.577611")]),t._v("\n2020Q2   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.365737")]),t._v("\n2020Q3   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.473404")]),t._v("\n2020Q4    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.529800")]),t._v("\nFreq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("NOV"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" float64\n")])])]),s("h3",{attrs:{id:"_3-分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-分类"}},[t._v("#")]),t._v(" 3. 分类")]),t._v(" "),s("p",[t._v('Pandas有一种特殊的数据类型叫做"目录"，即dtype="category"，我们根据将某些列设置为目录来进行分类。')]),t._v(" "),s("p",[t._v("准备数据。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"raw_grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("id")]),t._v(" "),s("th",[t._v("raw_grade")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("a")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("b")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("b")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("a")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",[t._v("a")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",[t._v("e")])])])]),t._v(" "),s("p",[t._v("我们添加一个新列"),s("code",[t._v("grade")]),t._v("并将它的数据类型设置为"),s("code",[t._v("category")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"raw_grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("astype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"category"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("我们可以看到"),s("code",[t._v("grade")]),t._v("列只有3种值a,b,e。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    a\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("    b\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    b\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    a\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("    a\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    e\nName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" grade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" category\nCategories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("我们按顺序替换a、b、e为very good、good、very bad。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("categories "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"very good"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"good"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"very bad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("此时的表格为：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("id")]),t._v(" "),s("th",[t._v("raw_grade")]),t._v(" "),s("th",[t._v("grade")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("b")]),t._v(" "),s("td",[t._v("good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("b")]),t._v(" "),s("td",[t._v("good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",[t._v("e")]),t._v(" "),s("td",[t._v("very bad")])])])]),t._v(" "),s("p",[t._v("我们对表格进行排序：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort_values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ascending"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("id")]),t._v(" "),s("th",[t._v("raw_grade")]),t._v(" "),s("th",[t._v("grade")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("6")]),t._v(" "),s("td",[t._v("e")]),t._v(" "),s("td",[t._v("very bad")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",[t._v("b")]),t._v(" "),s("td",[t._v("good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",[t._v("b")]),t._v(" "),s("td",[t._v("good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5")]),t._v(" "),s("td",[t._v("a")]),t._v(" "),s("td",[t._v("very good")])])])]),t._v(" "),s("p",[t._v("查看各类别的数量：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupby"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("以上代码输出为：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("grade\nvery good    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\ngood         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nvery bad     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\ndtype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" int64\n")])])]),s("h3",{attrs:{id:"_4-io"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-io"}},[t._v("#")]),t._v(" 4. IO")]),t._v(" "),s("p",[t._v("Pandas支持直接从文件中读写数据，如CSV、JSON、EXCEL等文件格式。Pandas支持的文件格式如下。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Format Type")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("Data Description")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("Reader")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("Writer")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("CSV")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_csv")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_csv")])]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Fixed-Width Text File")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_fwf")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("JSON")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_json")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_json")])]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("HTML")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_html")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_html")])]),t._v(" "),s("tr",[s("td",[t._v("text")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Local clipboard")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_clipboard")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_clipboard")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("MS Excel")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_excel")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_excel")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("OpenDocument")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_excel")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("HDF5 Format")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_hdf")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_hdf")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Feather Format")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_feather")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_feather")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Parquet Format")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_parquet")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_parquet")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("ORC Format")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_orc")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Msgpack")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_msgpack")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_msgpack")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Stata")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_stata")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_stata")])]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("SAS")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_sas")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("SPSS")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_spss")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),s("tr",[s("td",[t._v("binary")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Python Pickle Format")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_pickle")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_pickle")])]),t._v(" "),s("tr",[s("td",[t._v("SQL")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("SQL")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_sql")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_sql")])]),t._v(" "),s("tr",[s("td",[t._v("SQL")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("Google BigQuery")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("read_gbq")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("to_gbq")])])])]),t._v(" "),s("p",[t._v("我们仅以CSV文件为例作为讲解。其他格式请参考上方表格。")]),t._v(" "),s("p",[t._v("我们从CSV文件导入数据。"),s("strong",[t._v("大家不用特别在意下方网址的域名地址")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read_csv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://blog.caiyongji.com/assets/housing.csv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("查看前5行数据：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}}),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("longitude")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("latitude")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("housing_median_age")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("total_rooms")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("total_bedrooms")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("population")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("households")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("median_income")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("median_house_value")]),t._v(" "),s("th",[t._v("ocean_proximity")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("0")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-122.23")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("37.88")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("41")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("880")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("129")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("322")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("126")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8.3252")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("452600")]),t._v(" "),s("td",[t._v("NEAR BAY")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-122.22")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("37.86")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("21")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7099")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1106")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("2401")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1138")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("8.3014")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("358500")]),t._v(" "),s("td",[t._v("NEAR BAY")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-122.24")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("37.85")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("52")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1467")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("190")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("496")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("177")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("7.2574")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("352100")]),t._v(" "),s("td",[t._v("NEAR BAY")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-122.25")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("37.85")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("52")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1274")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("235")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("558")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("219")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("5.6431")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("341300")]),t._v(" "),s("td",[t._v("NEAR BAY")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("-122.25")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("37.85")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("52")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("1627")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("280")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("565")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("259")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("3.8462")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("342200")]),t._v(" "),s("td",[t._v("NEAR BAY")])])])]),t._v(" "),s("h3",{attrs:{id:"_5-绘图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-绘图"}},[t._v("#")]),t._v(" 5. 绘图")]),t._v(" "),s("p",[t._v("Pandas支持matplotlib，matplotlib是功能强大的Python可视化工具。本节仅对Pandas支持的绘图方法进行简单介绍，我们将会在下一篇文章中进行matplotlib的详细介绍。"),s("strong",[t._v("为了不错过更新，欢迎大家关注我。")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DataFrame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" columns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("我们直接调用"),s("code",[t._v("plot")]),t._v("方法进行展示。\n这里有两个需要注意的地方：")]),t._v(" "),s("ol",[s("li",[t._v("该plot方法是通过Pandas调用的plot方法，而非matplotlib。")]),t._v(" "),s("li",[t._v("我们知道Python语言是无需分号进行结束语句的。此处的分号表示执行绘图渲染后"),s("strong",[t._v("直接显示")]),t._v("图像。")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-4.png"),alt:"wxmp"}}),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-5.png"),alt:"wxmp"}}),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stacked"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/ad/pymlbasic/pandasintro-6.png"),alt:"wxmp"}}),t._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),s("ul",[s("li",[t._v("https://segmentfault.com/a/1190000038463117")])])])}),[],!1,null,null,null);a.default=e.exports}}]);