(window.webpackJsonp=window.webpackJsonp||[]).push([[675],{1191:function(a,e,s){"use strict";s.r(e);var t=s(53),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("æœ¬æ–‡ä¸»è¦æ˜¯ä»‹ç» Zookeeper-å®‰è£…å’Œé…ç½® ã€‚")])]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#zookeeper-2ã€zookeeperçš„å®‰è£…å’Œé…ç½®-é›†ç¾¤æ¨¡å¼"}},[a._v("Zookeeper 2ã€Zookeeperçš„å®‰è£…å’Œé…ç½®ï¼ˆé›†ç¾¤æ¨¡å¼ï¼‰")])]),s("li",[s("a",{attrs:{href:"#_1ã€ä¸‹è½½ä¸è§£å‹"}},[a._v("1ã€ä¸‹è½½ä¸è§£å‹")])]),s("li",[s("a",{attrs:{href:"#_2ã€zookeré…ç½®"}},[a._v("2ã€Zookeré…ç½®")])]),s("li",[s("a",{attrs:{href:"#_3ã€é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡"}},[a._v("3ã€é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡")])]),s("li",[s("a",{attrs:{href:"#_4-å¯åŠ¨zookeeper-æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦å¯åŠ¨"}},[a._v("4.å¯åŠ¨zookeeper(æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦å¯åŠ¨)")])]),s("li",[s("a",{attrs:{href:"#å‚è€ƒæ–‡ç« "}},[a._v("å‚è€ƒæ–‡ç« ")])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"zookeeper-2ã€zookeeperçš„å®‰è£…å’Œé…ç½®-é›†ç¾¤æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-2ã€zookeeperçš„å®‰è£…å’Œé…ç½®-é›†ç¾¤æ¨¡å¼"}},[a._v("#")]),a._v(" Zookeeper 2ã€Zookeeperçš„å®‰è£…å’Œé…ç½®ï¼ˆé›†ç¾¤æ¨¡å¼ï¼‰")]),a._v(" "),s("h2",{attrs:{id:"_1ã€ä¸‹è½½ä¸è§£å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ä¸‹è½½ä¸è§£å‹"}},[a._v("#")]),a._v(" 1ã€ä¸‹è½½ä¸è§£å‹")]),a._v(" "),s("p",[a._v("Zookeeperä¸‹è½½åœ°å€ï¼šhttp://www.apache.org/dyn/closer.cgi/zookeeper/")]),a._v(" "),s("p",[a._v("ä¸‹è½½å®Œæˆä»¥åè§£å‹åˆ°ä¸€ä¸ªç‰¹å®šç›®å½•")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("åŒæ­¥æ—¶é—´æ‰€æœ‰èŠ‚ç‚¹çš„æ—¶é—´ï¼Œå¹¶å…³é—­é˜²ç«å¢™\n$ ntpdate -u ntp.sjtu.edu.cn\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" iptables stop\n")])])]),s("h2",{attrs:{id:"_2ã€zookeré…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€zookeré…ç½®"}},[a._v("#")]),a._v(" 2ã€Zookeré…ç½®")]),a._v(" "),s("p",[a._v("Zookeeperé›†ç¾¤æ¨¡å¼è‡³å°‘éœ€è¦3å°ä¸»æœºè¿›è¡Œæ­å»ºï¼Œå‡†å¤‡ä¸‰å°ä¸»æœºServe1ã€Server2ã€Server3")]),a._v(" "),s("p",[a._v("åœ¨Zookeeperçš„confç›®å½•ä¸‹åˆ›å»ºmyidæ–‡ä»¶ï¼Œserver1æœºå™¨çš„å†…å®¹ä¸ºï¼š1ï¼Œserver2æœºå™¨çš„å†…å®¹ä¸ºï¼š2ï¼Œserver3æœºå™¨çš„å†…å®¹ä¸ºï¼š3\nåœ¨confç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶zoo.cfg(æ ‡çº¢çš„æœ€ä¸»è¦)ï¼š")]),a._v(" "),s("p",[a._v("["),s("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),a._v("](javascript:void(0)ğŸ˜‰")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/Users/zdandljb/zookeeper/data\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("dataLogDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/Users/zdandljb/zookeeper/dataLog\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2181")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("initLimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("syncLimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\nserver.1"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("server1:2888:3888\nserver.2"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("server2:2888:3888\nserver.3"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("server3:2888:3888\n")])])]),s("p",[a._v("é…ç½®å®Œæˆä»¥åæŠŠé…ç½®æ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–çš„ä¸»æœºä¸Šï¼›")]),a._v(" "),s("p",[a._v("å‚æ•°è§£é‡Š:")]),a._v(" "),s("ul",[s("li",[a._v("tickTimeï¼šå‘é€å¿ƒè·³çš„é—´éš”æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’")]),a._v(" "),s("li",[a._v("dataDirï¼šzookeeperä¿å­˜æ•°æ®çš„ç›®å½•ã€‚")]),a._v(" "),s("li",[a._v("clientPortï¼šå®¢æˆ·ç«¯è¿æ¥ Zookeeper æœåŠ¡å™¨çš„ç«¯å£ï¼ŒZookeeper ä¼šç›‘å¬è¿™ä¸ªç«¯å£ï¼Œæ¥å—å®¢æˆ·ç«¯çš„è®¿é—®è¯·æ±‚ã€‚")]),a._v(" "),s("li",[a._v("initLimitï¼š è¿™ä¸ªé…ç½®é¡¹æ˜¯ç”¨æ¥é…ç½® Zookeeper æ¥å—å®¢æˆ·ç«¯ï¼ˆè¿™é‡Œæ‰€è¯´çš„å®¢æˆ·ç«¯ä¸æ˜¯ç”¨æˆ·è¿æ¥ Zookeeper æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ï¼Œ")])]),a._v(" "),s("p",[a._v("è€Œæ˜¯ Zookeeper æœåŠ¡å™¨é›†ç¾¤ä¸­è¿æ¥åˆ° Leader çš„Follower æœåŠ¡å™¨ï¼‰åˆå§‹åŒ–è¿æ¥æ—¶æœ€é•¿èƒ½å¿å—å¤šå°‘ä¸ªå¿ƒè·³æ—¶é—´é—´éš”æ•°ã€‚")]),a._v(" "),s("p",[a._v("å½“å·²ç»è¶…è¿‡ 5 ä¸ªå¿ƒè·³çš„æ—¶é—´ï¼ˆä¹Ÿå°±æ˜¯ tickTimeï¼‰é•¿åº¦å Zookeeper æœåŠ¡å™¨è¿˜æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„è¿”å›ä¿¡æ¯ï¼Œé‚£ä¹ˆè¡¨æ˜è¿™ä¸ªå®¢æˆ·ç«¯è¿æ¥å¤±è´¥ã€‚")]),a._v(" "),s("p",[a._v("æ€»çš„æ—¶é—´é•¿åº¦å°±æ˜¯ 5*2000=10 ç§’")]),a._v(" "),s("p",[a._v("syncLimitï¼šè¿™ä¸ªé…ç½®é¡¹æ ‡è¯† Leader ä¸ Follower ä¹‹é—´å‘é€æ¶ˆæ¯ï¼Œè¯·æ±‚å’Œåº”ç­”æ—¶é—´é•¿åº¦ï¼Œæœ€é•¿ä¸èƒ½è¶…è¿‡å¤šå°‘ä¸ª tickTime çš„æ—¶é—´é•¿åº¦ï¼Œ")]),a._v(" "),s("p",[a._v("æ€»çš„æ—¶é—´é•¿åº¦å°±æ˜¯ 2*2000=4 ç§’")]),a._v(" "),s("p",[a._v("server.A=Bï¼šCï¼šDï¼šå…¶ ä¸­")]),a._v(" "),s("p",[a._v("A æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºè¿™ä¸ªæ˜¯ç¬¬å‡ å·æœåŠ¡å™¨ï¼›")]),a._v(" "),s("p",[a._v("B æ˜¯è¿™ä¸ªæœåŠ¡å™¨çš„ ipåœ°å€ï¼›")]),a._v(" "),s("p",[a._v("C è¡¨ç¤ºçš„æ˜¯è¿™ä¸ªæœåŠ¡å™¨ä¸é›†ç¾¤ä¸­çš„ Leader æœåŠ¡å™¨äº¤æ¢ä¿¡æ¯çš„ç«¯å£ï¼›")]),a._v(" "),s("p",[a._v("D è¡¨ç¤ºçš„æ˜¯ä¸‡ä¸€é›†ç¾¤ä¸­çš„ Leader æœåŠ¡å™¨æŒ‚äº†ï¼Œéœ€è¦ä¸€ä¸ªç«¯å£æ¥é‡æ–°è¿›è¡Œé€‰ä¸¾ï¼Œé€‰å‡ºä¸€ä¸ªæ–°çš„ Leaderï¼Œ")]),a._v(" "),s("p",[a._v("è€Œè¿™ä¸ªç«¯å£å°±æ˜¯ç”¨æ¥æ‰§è¡Œé€‰ä¸¾æ—¶æœåŠ¡å™¨ç›¸äº’é€šä¿¡çš„ç«¯å£ã€‚å¦‚æœæ˜¯ä¼ªé›†ç¾¤çš„é…ç½®æ–¹å¼ï¼Œç”±äº B éƒ½æ˜¯ä¸€æ ·ï¼Œ")]),a._v(" "),s("p",[a._v("æ‰€ä»¥ä¸åŒçš„ Zookeeper å®ä¾‹é€šä¿¡ç«¯å£å·ä¸èƒ½ä¸€æ ·ï¼Œæ‰€ä»¥è¦ç»™å®ƒä»¬åˆ†é…ä¸åŒçš„ç«¯å£å·ã€‚")]),a._v(" "),s("h2",{attrs:{id:"_3ã€é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡"}},[a._v("#")]),a._v(" 3ã€é…ç½®zookeeperçš„ç¯å¢ƒå˜é‡")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /root/.bash`"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("_"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("profile"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("å†™å…¥"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("/usr/local/zookeeper-"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.4")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("`/bin\n")])])]),s("h2",{attrs:{id:"_4-å¯åŠ¨zookeeper-æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦å¯åŠ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-å¯åŠ¨zookeeper-æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦å¯åŠ¨"}},[a._v("#")]),a._v(" 4.å¯åŠ¨zookeeper(æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦å¯åŠ¨)")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/zookeeper`"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("$ bin/zkServer.sh start"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" `æ˜¾ç¤ºï¼šStarting zookeeper "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". STARTED è¡¨ç¤ºå¯åŠ¨æˆåŠŸ\n")])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"å‚è€ƒæ–‡ç« "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« "}},[a._v("#")]),a._v(" å‚è€ƒæ–‡ç« ")]),a._v(" "),s("ul",[s("li",[a._v("https://www.cnblogs.com/raphael5200/p/5285380.html")])])])}),[],!1,null,null,null);e.default=r.exports}}]);