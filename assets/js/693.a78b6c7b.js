(window.webpackJsonp=window.webpackJsonp||[]).push([[693],{1209:function(s,t,a){"use strict";a.r(t);var e=a(53),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("æœ¬æ–‡ä¸»è¦æ˜¯ä»‹ç» ç›‘æ§åˆ†æ-æ…¢SQLæ¡ˆä¾‹æ“ä½œ ã€‚")])]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#ä¸€ã€æ…¢æŸ¥è¯¢æ—¥å¿—"}},[s._v("ä¸€ã€æ…¢æŸ¥è¯¢æ—¥å¿—")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1ã€è®¾ç½®æ…¢æŸ¥è¯¢"}},[s._v("1ã€è®¾ç½®æ…¢æŸ¥è¯¢")])]),a("li",[a("a",{attrs:{href:"#_2ã€è·å–æ…¢sqlä¿¡æ¯"}},[s._v("2ã€è·å–æ…¢SQLä¿¡æ¯")])]),a("li",[a("a",{attrs:{href:"#_3ã€æ­é…æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow"}},[s._v("3ã€æ­é…æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow")])])])]),a("li",[a("a",{attrs:{href:"#äºŒã€explainåˆ†ææ…¢sql"}},[s._v("äºŒã€explainåˆ†ææ…¢SQL")])]),a("li",[a("a",{attrs:{href:"#ä¸‰ã€show-profileåˆ†ææ…¢sql"}},[s._v("ä¸‰ã€Show Profileåˆ†ææ…¢SQL")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1ã€é»˜è®¤å…³é—­ã€‚å¼€å¯å-ä¼šåœ¨åå°ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœ-ç„¶åé€šè¿‡show-profileå‘½ä»¤æŸ¥çœ‹ç»“æœã€‚"}},[s._v("1ã€é»˜è®¤å…³é—­ã€‚å¼€å¯åï¼Œä¼šåœ¨åå°ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœï¼Œç„¶åé€šè¿‡Show Profileå‘½ä»¤æŸ¥çœ‹ç»“æœã€‚")])]),a("li",[a("a",{attrs:{href:"#_2ã€é€šè¿‡show-profileèƒ½æŸ¥çœ‹sqlçš„è€—æ—¶"}},[s._v("2ã€é€šè¿‡Show Profileèƒ½æŸ¥çœ‹SQLçš„è€—æ—¶")])]),a("li",[a("a",{attrs:{href:"#_3ã€é€šè¿‡query-idå¯ä»¥å¾—åˆ°å…·ä½“sqlä»è¿æ¥-æœåŠ¡-å¼•æ“-å­˜å‚¨å››å±‚ç»“æ„å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶"}},[s._v("3ã€é€šè¿‡Query_IDå¯ä»¥å¾—åˆ°å…·ä½“SQLä»è¿æ¥ - æœåŠ¡ - å¼•æ“ - å­˜å‚¨å››å±‚ç»“æ„å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶")])]),a("li",[a("a",{attrs:{href:"#_4ã€å‡ºç°è¿™å››ä¸ªstatusæ—¶è¯´æ˜æœ‰é—®é¢˜-group-byå¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶è¡¨"}},[s._v("4ã€å‡ºç°è¿™å››ä¸ªstatusæ—¶è¯´æ˜æœ‰é—®é¢˜ï¼Œgroup byå¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶è¡¨")])])])]),a("li",[a("a",{attrs:{href:"#å››ã€å…¨å±€æŸ¥è¯¢æ—¥å¿—"}},[s._v("å››ã€å…¨å±€æŸ¥è¯¢æ—¥å¿—")]),a("ul",[a("li",[a("a",{attrs:{href:"#_1ã€å¼€å¯"}},[s._v("1ã€å¼€å¯ï¼š")])]),a("li",[a("a",{attrs:{href:"#_2ã€æŸ¥çœ‹"}},[s._v("2ã€æŸ¥çœ‹")])])])]),a("li",[a("a",{attrs:{href:"#å‚è€ƒæ–‡ç« "}},[s._v("å‚è€ƒæ–‡ç« ")])])])]),a("p"),s._v(" "),a("p",[s._v("å¯¹æ…¢SQLä¼˜åŒ–ä¸€èˆ¬å¯ä»¥æŒ‰ä¸‹é¢å‡ æ­¥çš„æ€è·¯ï¼š")]),s._v(" "),a("p",[s._v("1ã€å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè®¾ç½®è¶…è¿‡å‡ ç§’ä¸ºæ…¢SQLï¼ŒæŠ“å–æ…¢SQL")]),s._v(" "),a("p",[s._v("2ã€é€šè¿‡explainå¯¹æ…¢SQLåˆ†æï¼ˆé‡ç‚¹ï¼‰")]),s._v(" "),a("p",[s._v("3ã€show profileæŸ¥è¯¢SQLåœ¨MysqlæœåŠ¡å™¨é‡Œçš„æ‰§è¡Œç»†èŠ‚å’Œç”Ÿå‘½å‘¨æœŸæƒ…å†µï¼ˆé‡ç‚¹ï¼‰")]),s._v(" "),a("p",[s._v("4ã€å¯¹æ•°æ®åº“æœåŠ¡å™¨çš„å‚æ•°è°ƒä¼˜")]),s._v(" "),a("h2",{attrs:{id:"ä¸€ã€æ…¢æŸ¥è¯¢æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ…¢æŸ¥è¯¢æ—¥å¿—"}},[s._v("#")]),s._v(" ä¸€ã€æ…¢æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),a("h3",{attrs:{id:"_1ã€è®¾ç½®æ…¢æŸ¥è¯¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è®¾ç½®æ…¢æŸ¥è¯¢"}},[s._v("#")]),s._v(" 1ã€è®¾ç½®æ…¢æŸ¥è¯¢")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ï¼ˆ1ï¼‰è®¾ç½®å¼€å¯ï¼šSET GLOBAL slow_query_log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("ã€€ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é»˜è®¤æœªå¼€å¯ï¼Œå¼€å¯ä¼šå½±å“æ€§èƒ½ï¼Œmysqlé‡å¯ä¼šå¤±æ•ˆ")]),s._v("\nï¼ˆ2ï¼‰æŸ¥çœ‹æ˜¯å¦å¼€å¯ï¼šSHOW VARIABLES LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%slow_query_log%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nï¼ˆ3ï¼‰è®¾ç½®é˜ˆå€¼ï¼šSET GLOBAL "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("long_query_time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nï¼ˆ4ï¼‰æŸ¥çœ‹é˜ˆå€¼ï¼šSHOW ã€GLOBALã€‘ VARIABLES LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'long_query_time%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é‡è¿æˆ–æ–°å¼€ä¸€ä¸ªä¼šè¯æ‰èƒ½çœ‹åˆ°ä¿®æ”¹å€¼")]),s._v("\nï¼ˆ5ï¼‰é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶my.cnfæ°¸ä¹…ç”Ÿæ•ˆï¼Œåœ¨"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("ä¸‹é…ç½®ï¼š\nã€€ã€€"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nã€€ã€€slow_query_log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¼€å¯")]),s._v("\nã€€ã€€"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("slow_query_log_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/lib/mysql/atguigu-slow.logã€€ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ…¢æ—¥å¿—åœ°å€ï¼Œç¼ºçœæ–‡ä»¶åhost_name-slow.log")]),s._v("\nã€€ã€€"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("long_query_time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("ã€€ã€€  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿è¡Œæ—¶é—´è¶…è¿‡è¯¥å€¼çš„SQLä¼šè¢«è®°å½•ï¼Œé»˜è®¤å€¼>10")]),s._v("\nã€€ã€€"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("log_output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FILEã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\n")])])]),a("h3",{attrs:{id:"_2ã€è·å–æ…¢sqlä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€è·å–æ…¢sqlä¿¡æ¯"}},[s._v("#")]),s._v(" 2ã€è·å–æ…¢SQLä¿¡æ¯")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•æ•°ï¼šSHOW GLOBAL STATUS LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Slow_queries%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("æ¨¡æ‹Ÿè¯­å¥ï¼šselect sleep(4);")]),s._v(" "),a("p",[s._v("æŸ¥çœ‹æ—¥å¿—ï¼šcat atguigu-slow.log")]),s._v(" "),a("p",[a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/mysqlop/monitorsql/slowsqlcase-1.png"),alt:"wxmp"}})]),s._v(" "),a("h3",{attrs:{id:"_3ã€æ­é…æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€æ­é…æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow"}},[s._v("#")]),s._v(" 3ã€æ­é…æ—¥å¿—åˆ†æå·¥å…·mysqldumpslow")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysqldumpslow -s r -t "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" /var/lib/mysql/atguigu-slow.log     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¾—åˆ°è¿”å›è®°å½•é›†æœ€å¤šçš„10ä¸ªSQL")]),s._v("\nmysqldumpslow -s c -t "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" /var/lib/mysql/atguigu-slow.log     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¾—åˆ°è®¿é—®æ¬¡æ•°æœ€å¤šçš„10ä¸ªSQL")]),s._v("\nmysqldumpslow -s t -t "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" -g "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LEFT JOIN"')]),s._v(" /var/lib/mysql/atguigu-slow.log   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¾—åˆ°æŒ‰ç…§æ—¶é—´æ’åºçš„å‰10æ¡é‡Œé¢å«æœ‰å·¦è¿æ¥çš„æŸ¥è¯¢è¯­å¥")]),s._v("\nmysqldumpslow -s r -t "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" /var/lib/mysql/atguigu-slow.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç»“åˆ| moreä½¿ç”¨ï¼Œé˜²æ­¢çˆ†å±æƒ…å†µ")]),s._v("\n\nsï¼šè¡¨ç¤ºæŒ‰ä½•ç§æ–¹å¼æ’åº\ncï¼šè®¿é—®æ¬¡æ•°\nlï¼šé”å®šæ—¶é—´\nrï¼šè¿”å›è®°å½•\ntï¼šæŸ¥è¯¢æ—¶é—´\nalï¼šå¹³å‡é”å®šæ—¶é—´\narï¼šå¹³å‡è¿”å›è®°å½•æ•°\natï¼šå¹³å‡æŸ¥è¯¢æ—¶é—´\ntï¼šè¿”å›å‰é¢å¤šå°‘æ¡çš„æ•°æ®\ngï¼šåè¾¹æ­é…ä¸€ä¸ªæ­£åˆ™åŒ¹é…æ¨¡å¼ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ\n")])])]),a("h2",{attrs:{id:"äºŒã€explainåˆ†ææ…¢sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€explainåˆ†ææ…¢sql"}},[s._v("#")]),s._v(" äºŒã€explainåˆ†ææ…¢SQL")]),s._v(" "),a("p",[s._v("é€šè¿‡"),a("strong",[s._v("explain")]),s._v("åˆ†ææ…¢SQLå¾ˆé‡è¦ï¼Œå•ç‹¬ä¸€ç« åˆ—ä¸¾ï¼Œ"),a("a",{attrs:{href:"https://www.cnblogs.com/zjxiang/p/9160564.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQLä¼˜åŒ–(4)ï¼šexplainåˆ†æ"),a("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),a("h2",{attrs:{id:"ä¸‰ã€show-profileåˆ†ææ…¢sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€show-profileåˆ†ææ…¢sql"}},[s._v("#")]),s._v(" ä¸‰ã€Show Profileåˆ†ææ…¢SQL")]),s._v(" "),a("p",[a("strong",[s._v("Show Profile")]),s._v("ä¹Ÿæ˜¯åˆ†ææ…¢SQLçš„ä¸€ç§æ‰‹æ®µï¼Œä½†å®ƒèƒ½è·å¾—æ¯”explainæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œèƒ½åˆ†æå½“å‰ä¼šè¯ä¸­è¯­å¥æ‰§è¡Œçš„èµ„æºæ¶ˆè€—æƒ…å†µï¼Œèƒ½è·å¾—è¿™æ¡SQLåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶ï¼Œç›¸å½“äºæ‰§è¡Œæ—¶é—´çš„æ¸…å•ï¼Œä¹Ÿå¾ˆé‡è¦ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1ã€é»˜è®¤å…³é—­ã€‚å¼€å¯å-ä¼šåœ¨åå°ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœ-ç„¶åé€šè¿‡show-profileå‘½ä»¤æŸ¥çœ‹ç»“æœã€‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€é»˜è®¤å…³é—­ã€‚å¼€å¯å-ä¼šåœ¨åå°ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœ-ç„¶åé€šè¿‡show-profileå‘½ä»¤æŸ¥çœ‹ç»“æœã€‚"}},[s._v("#")]),s._v(" 1ã€é»˜è®¤å…³é—­ã€‚å¼€å¯åï¼Œä¼šåœ¨åå°ä¿å­˜æœ€è¿‘15æ¬¡çš„è¿è¡Œç»“æœï¼Œç„¶åé€šè¿‡Show Profileå‘½ä»¤æŸ¥çœ‹ç»“æœã€‚")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("å¼€å¯ï¼šset profiling "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\næŸ¥çœ‹ï¼šSHOW VARIABLES LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'profiling%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2ã€é€šè¿‡show-profileèƒ½æŸ¥çœ‹sqlçš„è€—æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€é€šè¿‡show-profileèƒ½æŸ¥çœ‹sqlçš„è€—æ—¶"}},[s._v("#")]),s._v(" 2ã€é€šè¿‡Show Profileèƒ½æŸ¥çœ‹SQLçš„è€—æ—¶")]),s._v(" "),a("p",[a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/mysqlop/monitorsql/slowsqlcase-2.png"),alt:"wxmp"}})]),s._v(" "),a("h3",{attrs:{id:"_3ã€é€šè¿‡query-idå¯ä»¥å¾—åˆ°å…·ä½“sqlä»è¿æ¥-æœåŠ¡-å¼•æ“-å­˜å‚¨å››å±‚ç»“æ„å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€é€šè¿‡query-idå¯ä»¥å¾—åˆ°å…·ä½“sqlä»è¿æ¥-æœåŠ¡-å¼•æ“-å­˜å‚¨å››å±‚ç»“æ„å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶"}},[s._v("#")]),s._v(" 3ã€é€šè¿‡Query_IDå¯ä»¥å¾—åˆ°å…·ä½“SQLä»è¿æ¥ - æœåŠ¡ - å¼•æ“ - å­˜å‚¨å››å±‚ç»“æ„å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„è€—æ—¶")]),s._v(" "),a("p",[a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/mysqlop/monitorsql/slowsqlcase-3.png"),alt:"wxmp"}})]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("å¯ç”¨å‚æ•°type:\nALL  ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºæ‰€æœ‰çš„å¼€é”€ä¿¡æ¯")]),s._v("\nBLOCK IOã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºå—IOç›¸å…³å¼€é”€")]),s._v("\nCONTEXT SWITCHESã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¸Šä¸‹æ–‡åˆ‡æ¢ç›¸å…³å¼€é”€")]),s._v("\nCPU     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºCPUç›¸å…³å¼€é”€ä¿¡æ¯")]),s._v("\nIPC     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºå‘é€å’Œæ¥æ”¶ç›¸å…³å¼€é”€ä¿¡æ¯")]),s._v("\nMEMORYã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºå†…å­˜ç›¸å…³å¼€é”€ä¿¡æ¯")]),s._v("\nPAGE FAULTSã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºé¡µé¢é”™è¯¯ç›¸å…³å¼€é”€ä¿¡æ¯")]),s._v("\nSOURCEã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºå’ŒSource_functionï¼ŒSource_fileï¼ŒSource_lineç›¸å…³çš„å¼€é”€ä¿¡æ¯")]),s._v("\nSWAPSã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¾ç¤ºäº¤æ¢æ¬¡æ•°ç›¸å…³å¼€é”€çš„ä¿¡æ¯")]),s._v("\n")])])]),a("h3",{attrs:{id:"_4ã€å‡ºç°è¿™å››ä¸ªstatusæ—¶è¯´æ˜æœ‰é—®é¢˜-group-byå¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€å‡ºç°è¿™å››ä¸ªstatusæ—¶è¯´æ˜æœ‰é—®é¢˜-group-byå¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶è¡¨"}},[s._v("#")]),s._v(" 4ã€å‡ºç°è¿™å››ä¸ªstatusæ—¶è¯´æ˜æœ‰é—®é¢˜ï¼Œgroup byå¯èƒ½ä¼šåˆ›å»ºä¸´æ—¶è¡¨")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å±é™©çŠ¶æ€ï¼šconverting HEAP to MyISAM  ã€€ã€€#æŸ¥è¯¢ç»“æœå¤ªå¤§ï¼Œå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œåœ¨å¾€ç£ç›˜ä¸Šæ¬")]),s._v("\nCreating tmp table         ã€€ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ›å»ºäº†ä¸´æ—¶è¡¨ï¼Œå›å…ˆæŠŠæ•°æ®æ‹·è´åˆ°ä¸´æ—¶è¡¨ï¼Œç”¨å®Œåå†åˆ é™¤ä¸´æ—¶è¡¨")]),s._v("\nCopying to tmp table on disk ã€€"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŠŠå†…å­˜ä¸­ä¸´æ—¶è¡¨å¤åˆ¶åˆ°ç£ç›˜ï¼Œå±é™©ï¼ï¼ï¼")]),s._v("\nlocked\n")])])]),a("p",[a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/mysqlop/monitorsql/slowsqlcase-4.png"),alt:"wxmp"}})]),s._v(" "),a("h2",{attrs:{id:"å››ã€å…¨å±€æŸ¥è¯¢æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å…¨å±€æŸ¥è¯¢æ—¥å¿—"}},[s._v("#")]),s._v(" å››ã€å…¨å±€æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),a("p",[s._v("åªåœ¨æµ‹è¯•ç¯å¢ƒç”¨ï¼Œåˆ«åœ¨ç”Ÿäº§ç¯å¢ƒç”¨ï¼Œä¼šè®°å½•æ‰€æœ‰ä½¿ç”¨è¿‡çš„SQL")]),s._v(" "),a("h3",{attrs:{id:"_1ã€å¼€å¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€å¼€å¯"}},[s._v("#")]),s._v(" 1ã€å¼€å¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("å¼€å¯ï¼šä¼šå°†sqlè®°å½•åˆ°mysqlåº“çš„general_logè¡¨\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("general_log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("log_output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TABLE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\né…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼š\n    åœ¨my.cnfä¸­é…ç½®\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("general_log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¼€å¯")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("general_log_file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/path/logfile    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®°å½•æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("log_output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FILE    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¾“å‡ºæ ¼å¼")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2ã€æŸ¥çœ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æŸ¥çœ‹"}},[s._v("#")]),s._v(" 2ã€æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from mysql.general_log;\n")])])]),a("p",[a("img",{staticClass:"zoom-custom-imgs",attrs:{src:s.$withBase("/assets/img/mysqlop/monitorsql/slowsqlcase-5.png"),alt:"wxmp"}})]),s._v(" "),a("p",[a("strong",[s._v("EOF")])]),s._v(" "),a("p",[a("strong",[s._v("æœ¬æ–‡ä½œè€…")]),s._v("ï¼š**"),a("a",{attrs:{href:"https://www.cnblogs.com/zjxiang/p/9157398.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ„¿èµ·èµ·èµ·èµ·è½èµ·èµ·èµ·èµ·èµ·"),a("OutboundLink")],1),s._v(" "),a("strong",[s._v("æœ¬æ–‡é“¾æ¥")]),s._v("ï¼šhttps://www.cnblogs.com/zjxiang/p/9157398.html")]),s._v(" "),a("p",[a("strong",[s._v("å…³äºåšä¸»")]),s._v("ï¼šè¯„è®ºå’Œç§ä¿¡ä¼šåœ¨ç¬¬ä¸€æ—¶é—´å›å¤ã€‚æˆ–è€…"),a("a",{attrs:{href:"https://msg.cnblogs.com/msg/send/zjxiang",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç›´æ¥ç§ä¿¡"),a("OutboundLink")],1),s._v("æˆ‘ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ç‰ˆæƒå£°æ˜")]),s._v("ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ "),a("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",rel:"noopener noreferrer"}},[s._v("BY-NC-SA"),a("OutboundLink")],1),s._v(" è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼")]),s._v(" "),a("p",[a("strong",[s._v("å£°æ´åšä¸»")]),s._v("ï¼šå¦‚æœæ‚¨è§‰å¾—æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¯ä»¥ç‚¹å‡»æ–‡ç« å³ä¸‹è§’**ã€[æ¨è](javascript:void(0)ğŸ˜‰ã€‘**ä¸€ä¸‹ã€‚æ‚¨çš„é¼“åŠ±æ˜¯åšä¸»çš„æœ€å¤§åŠ¨åŠ›ï¼")]),s._v(" "),a("h2",{attrs:{id:"å‚è€ƒæ–‡ç« "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« "}},[s._v("#")]),s._v(" å‚è€ƒæ–‡ç« ")]),s._v(" "),a("ul",[a("li",[s._v("https://www.cnblogs.com/zjxiang/p/9157398.html")])])])}),[],!1,null,null,null);t.default=r.exports}}]);