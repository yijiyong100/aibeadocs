(window.webpackJsonp=window.webpackJsonp||[]).push([[723],{1239:function(t,s,n){"use strict";n.r(s);var a=n(53),p=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("本文主要是介绍 Nginx-gzip压缩开启 。")])]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#nginx-开启gzip压缩"}},[t._v("nginx 开启gzip压缩")])]),n("li",[n("a",{attrs:{href:"#参考文章"}},[t._v("参考文章")])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"nginx-开启gzip压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-开启gzip压缩"}},[t._v("#")]),t._v(" nginx 开启gzip压缩")]),t._v(" "),n("p",[t._v("开发gzip压缩后，图片的访问效率会大大提升。但是也会消耗更多的ng服务器cpu资源。")]),t._v(" "),n("p",[t._v("所以在修改配置时，可以根据需要进行选择性开启。")]),t._v(" "),n("p",[t._v("nginx.conf中关于gzip压缩的主要配置如下：")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v(" 　　　　"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#开启和关闭gzip模式")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#gizp压缩起点，文件大于1k才进行压缩")]),t._v("\n        gzip_min_length 1k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gzip 压缩级别，1-9，数字越大压缩的越好，也越占用CPU时间")]),t._v("\n        gzip_comp_level "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进行压缩的文件类型。")]),t._v("\n        gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/xml text/javascript application/json image/png image/gif image/jpeg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 【此处需要配合 web工程来处理，如果web 工程没有编译成 .gz 文件 ，这里的内容 不能开启  】")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#nginx对于静态文件的处理模块，开启后会寻找以.gz结尾的文件，直接返回，不会占用cpu进行压缩，如果找不到则不进行压缩")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gzip_static on|off")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否在http header中添加Vary: Accept-Encoding，建议开启")]),t._v("\n        gzip_vary on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置压缩所需要的缓冲区大小，以4k为单位，如果文件为7k则申请2*4k的缓冲区 ")]),t._v("\n        gzip_buffers "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 16k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置gzip压缩针对的HTTP协议版本")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gzip_http_version 1.1;")]),t._v("\n")])])]),n("p",[t._v("配置位置：")]),t._v(" "),n("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/operation/ng/nggzip-1.png"),alt:"wxmp"}}),t._v(" "),n("p",[t._v("vuecli3.0 开启页面gzip：")]),t._v(" "),n("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/operation/ng/nggzip-2.png"),alt:"wxmp"}}),t._v(" "),n("p",[t._v("压缩后大小：")]),t._v(" "),n("img",{staticClass:"zoom-custom-imgs",attrs:{src:t.$withBase("/assets/img/operation/ng/nggzip-3.png"),alt:"wxmp"}}),t._v(" "),n("p",[t._v("之后重启nginx服务即可。")]),t._v(" "),n("h2",{attrs:{id:"参考文章"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),n("ul",[n("li",[t._v("https://www.cnblogs.com/mengfangui/p/12165096.html")])])])}),[],!1,null,null,null);s.default=p.exports}}]);