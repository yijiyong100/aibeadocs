<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis精华总结 | 智能后端和架构</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="智能后端和架构的文档">
    <meta name="icon" content="">
    <meta name="author" content="landry -- seo 选项">
    <meta name="keywords" content="后端 java 架构 面试 -- seo 选项">
    
    <link rel="preload" href="/assets/css/0.styles.183d1d00.css" as="style"><link rel="preload" href="/assets/js/app.db30138a.js" as="script"><link rel="preload" href="/assets/js/5.df8bf371.js" as="script"><link rel="preload" href="/assets/js/1.60d99fe1.js" as="script"><link rel="preload" href="/assets/js/321.22b199c2.js" as="script"><link rel="prefetch" href="/assets/js/10.034bcceb.js"><link rel="prefetch" href="/assets/js/100.bc78c9c9.js"><link rel="prefetch" href="/assets/js/101.fc021eba.js"><link rel="prefetch" href="/assets/js/102.44f58839.js"><link rel="prefetch" href="/assets/js/103.cd3ce876.js"><link rel="prefetch" href="/assets/js/104.ece12d4f.js"><link rel="prefetch" href="/assets/js/105.e0ef0178.js"><link rel="prefetch" href="/assets/js/106.f8113fb8.js"><link rel="prefetch" href="/assets/js/107.7af90320.js"><link rel="prefetch" href="/assets/js/108.a76af7ab.js"><link rel="prefetch" href="/assets/js/109.ae7dfcbe.js"><link rel="prefetch" href="/assets/js/11.22d5654f.js"><link rel="prefetch" href="/assets/js/110.829dbd72.js"><link rel="prefetch" href="/assets/js/111.2612d028.js"><link rel="prefetch" href="/assets/js/112.381ba79f.js"><link rel="prefetch" href="/assets/js/113.52309728.js"><link rel="prefetch" href="/assets/js/114.afd46270.js"><link rel="prefetch" href="/assets/js/115.cfff1785.js"><link rel="prefetch" href="/assets/js/116.b9e85eed.js"><link rel="prefetch" href="/assets/js/117.c88c3ceb.js"><link rel="prefetch" href="/assets/js/118.0cfd8d46.js"><link rel="prefetch" href="/assets/js/119.972e6fcd.js"><link rel="prefetch" href="/assets/js/12.a1fbf449.js"><link rel="prefetch" href="/assets/js/120.c4d0fa30.js"><link rel="prefetch" href="/assets/js/121.a05fb7c8.js"><link rel="prefetch" href="/assets/js/122.84bc99e8.js"><link rel="prefetch" href="/assets/js/123.6e40db8b.js"><link rel="prefetch" href="/assets/js/124.679f60f0.js"><link rel="prefetch" href="/assets/js/125.7b983b12.js"><link rel="prefetch" href="/assets/js/126.c6529e34.js"><link rel="prefetch" href="/assets/js/127.62896466.js"><link rel="prefetch" href="/assets/js/128.11cadf09.js"><link rel="prefetch" href="/assets/js/129.a2c6007b.js"><link rel="prefetch" href="/assets/js/13.773a30c0.js"><link rel="prefetch" href="/assets/js/130.cd51d586.js"><link rel="prefetch" href="/assets/js/131.5d81a3a4.js"><link rel="prefetch" href="/assets/js/132.c062c43a.js"><link rel="prefetch" href="/assets/js/133.94b50107.js"><link rel="prefetch" href="/assets/js/134.e787c6f2.js"><link rel="prefetch" href="/assets/js/135.514b39b8.js"><link rel="prefetch" href="/assets/js/136.2209902a.js"><link rel="prefetch" href="/assets/js/137.8ee62050.js"><link rel="prefetch" href="/assets/js/138.30076406.js"><link rel="prefetch" href="/assets/js/139.153f79f0.js"><link rel="prefetch" href="/assets/js/14.a010702c.js"><link rel="prefetch" href="/assets/js/140.c22ae524.js"><link rel="prefetch" href="/assets/js/141.03388ce3.js"><link rel="prefetch" href="/assets/js/142.be052d72.js"><link rel="prefetch" href="/assets/js/143.86f4f723.js"><link rel="prefetch" href="/assets/js/144.58a81178.js"><link rel="prefetch" href="/assets/js/145.b6065cbb.js"><link rel="prefetch" href="/assets/js/146.a7d48393.js"><link rel="prefetch" href="/assets/js/147.1f5a2c27.js"><link rel="prefetch" href="/assets/js/148.e545c932.js"><link rel="prefetch" href="/assets/js/149.b7f633ea.js"><link rel="prefetch" href="/assets/js/15.6612b8a7.js"><link rel="prefetch" href="/assets/js/150.0c633255.js"><link rel="prefetch" href="/assets/js/151.7518fca9.js"><link rel="prefetch" href="/assets/js/152.85ebf0bb.js"><link rel="prefetch" href="/assets/js/153.6696affd.js"><link rel="prefetch" href="/assets/js/154.a488a746.js"><link rel="prefetch" href="/assets/js/155.b1285b65.js"><link rel="prefetch" href="/assets/js/156.c7d65add.js"><link rel="prefetch" href="/assets/js/157.95b667f4.js"><link rel="prefetch" href="/assets/js/158.36dcae64.js"><link rel="prefetch" href="/assets/js/159.5ab4607b.js"><link rel="prefetch" href="/assets/js/16.9728f201.js"><link rel="prefetch" href="/assets/js/160.f31c31c5.js"><link rel="prefetch" href="/assets/js/161.7faa6f5b.js"><link rel="prefetch" href="/assets/js/162.8bed1a3e.js"><link rel="prefetch" href="/assets/js/163.bccb4b94.js"><link rel="prefetch" href="/assets/js/164.d019f9f6.js"><link rel="prefetch" href="/assets/js/165.4ea2fcec.js"><link rel="prefetch" href="/assets/js/166.937ae33a.js"><link rel="prefetch" href="/assets/js/167.63bf2a10.js"><link rel="prefetch" href="/assets/js/168.8501b450.js"><link rel="prefetch" href="/assets/js/169.52064ac2.js"><link rel="prefetch" href="/assets/js/17.01684033.js"><link rel="prefetch" href="/assets/js/170.bc536396.js"><link rel="prefetch" href="/assets/js/171.5c44671a.js"><link rel="prefetch" href="/assets/js/172.cbc9f01e.js"><link rel="prefetch" href="/assets/js/173.036cc49c.js"><link rel="prefetch" href="/assets/js/174.7900267f.js"><link rel="prefetch" href="/assets/js/175.7f350261.js"><link rel="prefetch" href="/assets/js/176.abfbdc57.js"><link rel="prefetch" href="/assets/js/177.679877f2.js"><link rel="prefetch" href="/assets/js/178.87fc5aba.js"><link rel="prefetch" href="/assets/js/179.26c9f0a4.js"><link rel="prefetch" href="/assets/js/18.e64f0610.js"><link rel="prefetch" href="/assets/js/180.bd2cdacc.js"><link rel="prefetch" href="/assets/js/181.3ad737a4.js"><link rel="prefetch" href="/assets/js/182.3e7faf1a.js"><link rel="prefetch" href="/assets/js/183.4d65d295.js"><link rel="prefetch" href="/assets/js/184.460482ae.js"><link rel="prefetch" href="/assets/js/185.46d4a7fe.js"><link rel="prefetch" href="/assets/js/186.61235089.js"><link rel="prefetch" href="/assets/js/187.397bcfe8.js"><link rel="prefetch" href="/assets/js/188.060a1cb7.js"><link rel="prefetch" href="/assets/js/189.e3995463.js"><link rel="prefetch" href="/assets/js/19.f8b70585.js"><link rel="prefetch" href="/assets/js/190.dcaa16c4.js"><link rel="prefetch" href="/assets/js/191.f4c5aa96.js"><link rel="prefetch" href="/assets/js/192.8b10742f.js"><link rel="prefetch" href="/assets/js/193.64a40b9c.js"><link rel="prefetch" href="/assets/js/194.2ea34c9f.js"><link rel="prefetch" href="/assets/js/195.6bb470df.js"><link rel="prefetch" href="/assets/js/196.a0f55724.js"><link rel="prefetch" href="/assets/js/197.493d62fe.js"><link rel="prefetch" href="/assets/js/198.285ec3f4.js"><link rel="prefetch" href="/assets/js/199.c26664a8.js"><link rel="prefetch" href="/assets/js/20.c407011e.js"><link rel="prefetch" href="/assets/js/200.e172c025.js"><link rel="prefetch" href="/assets/js/201.88cbb622.js"><link rel="prefetch" href="/assets/js/202.da403177.js"><link rel="prefetch" href="/assets/js/203.6eb14b41.js"><link rel="prefetch" href="/assets/js/204.2ddae4bf.js"><link rel="prefetch" href="/assets/js/205.0a89efc1.js"><link rel="prefetch" href="/assets/js/206.480a66d3.js"><link rel="prefetch" href="/assets/js/207.bf5c1d60.js"><link rel="prefetch" href="/assets/js/208.b187dc67.js"><link rel="prefetch" href="/assets/js/209.20c99616.js"><link rel="prefetch" href="/assets/js/21.7edc8b1b.js"><link rel="prefetch" href="/assets/js/210.e4f1f766.js"><link rel="prefetch" href="/assets/js/211.1ed7b354.js"><link rel="prefetch" href="/assets/js/212.7e1243ab.js"><link rel="prefetch" href="/assets/js/213.6daddd4b.js"><link rel="prefetch" href="/assets/js/214.e548b00f.js"><link rel="prefetch" href="/assets/js/215.5e7f305a.js"><link rel="prefetch" href="/assets/js/216.d02d9a10.js"><link rel="prefetch" href="/assets/js/217.4ee282a4.js"><link rel="prefetch" href="/assets/js/218.d95d737e.js"><link rel="prefetch" href="/assets/js/219.fab5907a.js"><link rel="prefetch" href="/assets/js/22.fdbd00d3.js"><link rel="prefetch" href="/assets/js/220.56c6f7cc.js"><link rel="prefetch" href="/assets/js/221.3ee9e8ae.js"><link rel="prefetch" href="/assets/js/222.30c2d9ac.js"><link rel="prefetch" href="/assets/js/223.d6f5a1ce.js"><link rel="prefetch" href="/assets/js/224.b964e9b3.js"><link rel="prefetch" href="/assets/js/225.4f7cdb7b.js"><link rel="prefetch" href="/assets/js/226.34f5bc46.js"><link rel="prefetch" href="/assets/js/227.0c1d6c32.js"><link rel="prefetch" href="/assets/js/228.5c4850fa.js"><link rel="prefetch" href="/assets/js/229.0e83acaa.js"><link rel="prefetch" href="/assets/js/23.714595d5.js"><link rel="prefetch" href="/assets/js/230.d56ff6f6.js"><link rel="prefetch" href="/assets/js/231.19e033e0.js"><link rel="prefetch" href="/assets/js/232.b020bd32.js"><link rel="prefetch" href="/assets/js/233.19037210.js"><link rel="prefetch" href="/assets/js/234.10d14014.js"><link rel="prefetch" href="/assets/js/235.91bc5ad5.js"><link rel="prefetch" href="/assets/js/236.e9193180.js"><link rel="prefetch" href="/assets/js/237.e9be28a3.js"><link rel="prefetch" href="/assets/js/238.d1ac2fd8.js"><link rel="prefetch" href="/assets/js/239.44f2f146.js"><link rel="prefetch" href="/assets/js/24.2611c0d6.js"><link rel="prefetch" href="/assets/js/240.c8fe20cb.js"><link rel="prefetch" href="/assets/js/241.b232c3db.js"><link rel="prefetch" href="/assets/js/242.5bacdca9.js"><link rel="prefetch" href="/assets/js/243.bc85e605.js"><link rel="prefetch" href="/assets/js/244.975158d1.js"><link rel="prefetch" href="/assets/js/245.a139b48a.js"><link rel="prefetch" href="/assets/js/246.3138e906.js"><link rel="prefetch" href="/assets/js/247.070da83a.js"><link rel="prefetch" href="/assets/js/248.a1d8ac56.js"><link rel="prefetch" href="/assets/js/249.aadb0dca.js"><link rel="prefetch" href="/assets/js/25.2272f92f.js"><link rel="prefetch" href="/assets/js/250.c9cbf057.js"><link rel="prefetch" href="/assets/js/251.e8ddac0a.js"><link rel="prefetch" href="/assets/js/252.47894d0d.js"><link rel="prefetch" href="/assets/js/253.38f4c081.js"><link rel="prefetch" href="/assets/js/254.73808710.js"><link rel="prefetch" href="/assets/js/255.19234ae1.js"><link rel="prefetch" href="/assets/js/256.dbd6b6af.js"><link rel="prefetch" href="/assets/js/257.c16eae54.js"><link rel="prefetch" href="/assets/js/258.89a54cc9.js"><link rel="prefetch" href="/assets/js/259.ff8893b9.js"><link rel="prefetch" href="/assets/js/26.4d1df400.js"><link rel="prefetch" href="/assets/js/260.da83ef3e.js"><link rel="prefetch" href="/assets/js/261.39869cb6.js"><link rel="prefetch" href="/assets/js/262.6df31a71.js"><link rel="prefetch" href="/assets/js/263.a98eab49.js"><link rel="prefetch" href="/assets/js/264.1204725e.js"><link rel="prefetch" href="/assets/js/265.b6ce2d26.js"><link rel="prefetch" href="/assets/js/266.0c03e783.js"><link rel="prefetch" href="/assets/js/267.d686ec0e.js"><link rel="prefetch" href="/assets/js/268.e7c76c63.js"><link rel="prefetch" href="/assets/js/269.9ec0a34d.js"><link rel="prefetch" href="/assets/js/27.a88ca8bc.js"><link rel="prefetch" href="/assets/js/270.99f54d10.js"><link rel="prefetch" href="/assets/js/271.b9e143e2.js"><link rel="prefetch" href="/assets/js/272.1c93e968.js"><link rel="prefetch" href="/assets/js/273.7235d019.js"><link rel="prefetch" href="/assets/js/274.fbed798d.js"><link rel="prefetch" href="/assets/js/275.0006136b.js"><link rel="prefetch" href="/assets/js/276.8fc094f0.js"><link rel="prefetch" href="/assets/js/277.20e11e67.js"><link rel="prefetch" href="/assets/js/278.f8dc8f8f.js"><link rel="prefetch" href="/assets/js/279.651a9f88.js"><link rel="prefetch" href="/assets/js/28.69be6cc7.js"><link rel="prefetch" href="/assets/js/280.94aed3df.js"><link rel="prefetch" href="/assets/js/281.b9e4a0c1.js"><link rel="prefetch" href="/assets/js/282.fcbf917d.js"><link rel="prefetch" href="/assets/js/283.4b9335f2.js"><link rel="prefetch" href="/assets/js/284.a2748605.js"><link rel="prefetch" href="/assets/js/285.75119aca.js"><link rel="prefetch" href="/assets/js/286.a4a0abc2.js"><link rel="prefetch" href="/assets/js/287.0e10db49.js"><link rel="prefetch" href="/assets/js/288.540945f8.js"><link rel="prefetch" href="/assets/js/289.65991a71.js"><link rel="prefetch" href="/assets/js/29.3d144449.js"><link rel="prefetch" href="/assets/js/290.3cda3c0a.js"><link rel="prefetch" href="/assets/js/291.a7c9d6a2.js"><link rel="prefetch" href="/assets/js/292.2ce3fd5f.js"><link rel="prefetch" href="/assets/js/293.6572edb6.js"><link rel="prefetch" href="/assets/js/294.2a04291f.js"><link rel="prefetch" href="/assets/js/295.9a0fdf51.js"><link rel="prefetch" href="/assets/js/296.76bf15e5.js"><link rel="prefetch" href="/assets/js/297.ca22f9e0.js"><link rel="prefetch" href="/assets/js/298.dfd560c6.js"><link rel="prefetch" href="/assets/js/299.ea6a076f.js"><link rel="prefetch" href="/assets/js/3.19255846.js"><link rel="prefetch" href="/assets/js/30.c9924233.js"><link rel="prefetch" href="/assets/js/300.08ab4a0a.js"><link rel="prefetch" href="/assets/js/301.493634b6.js"><link rel="prefetch" href="/assets/js/302.088b770b.js"><link rel="prefetch" href="/assets/js/303.fdda8763.js"><link rel="prefetch" href="/assets/js/304.6e6a4a01.js"><link rel="prefetch" href="/assets/js/305.a3a1ae34.js"><link rel="prefetch" href="/assets/js/306.5835726c.js"><link rel="prefetch" href="/assets/js/307.0fce17cb.js"><link rel="prefetch" href="/assets/js/308.1e172ca3.js"><link rel="prefetch" href="/assets/js/309.80af26f3.js"><link rel="prefetch" href="/assets/js/31.f9f57568.js"><link rel="prefetch" href="/assets/js/310.b5f3ed6f.js"><link rel="prefetch" href="/assets/js/311.82c7e552.js"><link rel="prefetch" href="/assets/js/312.a48280c0.js"><link rel="prefetch" href="/assets/js/313.7c31693f.js"><link rel="prefetch" href="/assets/js/314.307f9eda.js"><link rel="prefetch" href="/assets/js/315.9f1e1099.js"><link rel="prefetch" href="/assets/js/316.7d255d6d.js"><link rel="prefetch" href="/assets/js/317.ef013a1a.js"><link rel="prefetch" href="/assets/js/318.64d24469.js"><link rel="prefetch" href="/assets/js/319.59c19af0.js"><link rel="prefetch" href="/assets/js/32.b29dc01b.js"><link rel="prefetch" href="/assets/js/320.add9fa10.js"><link rel="prefetch" href="/assets/js/322.ad9a2dff.js"><link rel="prefetch" href="/assets/js/323.b4183fc2.js"><link rel="prefetch" href="/assets/js/324.cf1aca23.js"><link rel="prefetch" href="/assets/js/325.83a4f1cf.js"><link rel="prefetch" href="/assets/js/326.f5c26436.js"><link rel="prefetch" href="/assets/js/327.16102be7.js"><link rel="prefetch" href="/assets/js/328.da84fbb0.js"><link rel="prefetch" href="/assets/js/329.4bdbc8ed.js"><link rel="prefetch" href="/assets/js/33.961516b8.js"><link rel="prefetch" href="/assets/js/330.0a98e84a.js"><link rel="prefetch" href="/assets/js/331.36e66e80.js"><link rel="prefetch" href="/assets/js/332.1b010d76.js"><link rel="prefetch" href="/assets/js/333.bf2def9d.js"><link rel="prefetch" href="/assets/js/334.373631c9.js"><link rel="prefetch" href="/assets/js/335.68121e51.js"><link rel="prefetch" href="/assets/js/336.49a94ea2.js"><link rel="prefetch" href="/assets/js/337.661abdcc.js"><link rel="prefetch" href="/assets/js/338.389c4be2.js"><link rel="prefetch" href="/assets/js/339.098329ed.js"><link rel="prefetch" href="/assets/js/34.7cb1f223.js"><link rel="prefetch" href="/assets/js/340.5c400f4d.js"><link rel="prefetch" href="/assets/js/341.41d84f2d.js"><link rel="prefetch" href="/assets/js/342.ef356713.js"><link rel="prefetch" href="/assets/js/343.d1e1952a.js"><link rel="prefetch" href="/assets/js/344.1980f7cc.js"><link rel="prefetch" href="/assets/js/345.0f7d9b9f.js"><link rel="prefetch" href="/assets/js/346.c3878425.js"><link rel="prefetch" href="/assets/js/347.dd74c55a.js"><link rel="prefetch" href="/assets/js/348.89584af8.js"><link rel="prefetch" href="/assets/js/349.c7bc7bc1.js"><link rel="prefetch" href="/assets/js/35.51ade70c.js"><link rel="prefetch" href="/assets/js/350.d2df1d20.js"><link rel="prefetch" href="/assets/js/351.a1b78a34.js"><link rel="prefetch" href="/assets/js/352.08ae09fd.js"><link rel="prefetch" href="/assets/js/353.aced76b3.js"><link rel="prefetch" href="/assets/js/354.f033ee07.js"><link rel="prefetch" href="/assets/js/355.95831785.js"><link rel="prefetch" href="/assets/js/356.893584e1.js"><link rel="prefetch" href="/assets/js/357.5f070ca5.js"><link rel="prefetch" href="/assets/js/358.35f2ade5.js"><link rel="prefetch" href="/assets/js/359.e45099bd.js"><link rel="prefetch" href="/assets/js/36.82c64b8f.js"><link rel="prefetch" href="/assets/js/360.59aa32f9.js"><link rel="prefetch" href="/assets/js/361.bd3c2fdd.js"><link rel="prefetch" href="/assets/js/362.3566e79d.js"><link rel="prefetch" href="/assets/js/363.b4ab82f7.js"><link rel="prefetch" href="/assets/js/364.7f50d299.js"><link rel="prefetch" href="/assets/js/365.4f8e93f6.js"><link rel="prefetch" href="/assets/js/366.8fd91814.js"><link rel="prefetch" href="/assets/js/367.0d47f5a8.js"><link rel="prefetch" href="/assets/js/368.fb7814d2.js"><link rel="prefetch" href="/assets/js/369.d6d8c504.js"><link rel="prefetch" href="/assets/js/37.5165b622.js"><link rel="prefetch" href="/assets/js/370.00a807a6.js"><link rel="prefetch" href="/assets/js/371.867a9db3.js"><link rel="prefetch" href="/assets/js/372.decca4ce.js"><link rel="prefetch" href="/assets/js/373.98b37511.js"><link rel="prefetch" href="/assets/js/374.6313e71a.js"><link rel="prefetch" href="/assets/js/375.f2e2fa05.js"><link rel="prefetch" href="/assets/js/376.7103c034.js"><link rel="prefetch" href="/assets/js/377.9bf388c9.js"><link rel="prefetch" href="/assets/js/378.57ae31cf.js"><link rel="prefetch" href="/assets/js/379.739ee8d7.js"><link rel="prefetch" href="/assets/js/38.563ce632.js"><link rel="prefetch" href="/assets/js/380.6256f3c8.js"><link rel="prefetch" href="/assets/js/381.38f7eb5a.js"><link rel="prefetch" href="/assets/js/382.ae035904.js"><link rel="prefetch" href="/assets/js/383.2d1b99c3.js"><link rel="prefetch" href="/assets/js/384.094517c8.js"><link rel="prefetch" href="/assets/js/385.62ddf499.js"><link rel="prefetch" href="/assets/js/386.8315cf9d.js"><link rel="prefetch" href="/assets/js/387.2bef00d3.js"><link rel="prefetch" href="/assets/js/388.178f867f.js"><link rel="prefetch" href="/assets/js/389.d893ba15.js"><link rel="prefetch" href="/assets/js/39.29556252.js"><link rel="prefetch" href="/assets/js/390.1b85f452.js"><link rel="prefetch" href="/assets/js/391.12fe014e.js"><link rel="prefetch" href="/assets/js/392.8c88755d.js"><link rel="prefetch" href="/assets/js/393.72aa7675.js"><link rel="prefetch" href="/assets/js/394.df13d1f7.js"><link rel="prefetch" href="/assets/js/395.8f8d96d9.js"><link rel="prefetch" href="/assets/js/396.aa362f3c.js"><link rel="prefetch" href="/assets/js/397.cca49694.js"><link rel="prefetch" href="/assets/js/398.d9fd0617.js"><link rel="prefetch" href="/assets/js/399.96f3fede.js"><link rel="prefetch" href="/assets/js/4.623783fc.js"><link rel="prefetch" href="/assets/js/40.0330d609.js"><link rel="prefetch" href="/assets/js/400.a1472f96.js"><link rel="prefetch" href="/assets/js/401.3d4e1a6b.js"><link rel="prefetch" href="/assets/js/402.0a8a7162.js"><link rel="prefetch" href="/assets/js/403.b1393b0f.js"><link rel="prefetch" href="/assets/js/404.7e485063.js"><link rel="prefetch" href="/assets/js/405.1037d751.js"><link rel="prefetch" href="/assets/js/406.ae7d83bb.js"><link rel="prefetch" href="/assets/js/407.cb9ade38.js"><link rel="prefetch" href="/assets/js/408.a105752d.js"><link rel="prefetch" href="/assets/js/409.a56202e0.js"><link rel="prefetch" href="/assets/js/41.dcb7a3f5.js"><link rel="prefetch" href="/assets/js/410.f615dd75.js"><link rel="prefetch" href="/assets/js/411.29882ac4.js"><link rel="prefetch" href="/assets/js/412.ed8e6abb.js"><link rel="prefetch" href="/assets/js/413.2a212c18.js"><link rel="prefetch" href="/assets/js/414.9717c94d.js"><link rel="prefetch" href="/assets/js/415.ad521b94.js"><link rel="prefetch" href="/assets/js/416.981646b8.js"><link rel="prefetch" href="/assets/js/417.3bcf1a86.js"><link rel="prefetch" href="/assets/js/418.d6d8bc33.js"><link rel="prefetch" href="/assets/js/419.79a736e3.js"><link rel="prefetch" href="/assets/js/42.61434728.js"><link rel="prefetch" href="/assets/js/420.bd2fe57b.js"><link rel="prefetch" href="/assets/js/421.040b2b27.js"><link rel="prefetch" href="/assets/js/422.5cc63c45.js"><link rel="prefetch" href="/assets/js/423.9d447e90.js"><link rel="prefetch" href="/assets/js/424.51734eb2.js"><link rel="prefetch" href="/assets/js/425.f6a00d75.js"><link rel="prefetch" href="/assets/js/426.896f7a5b.js"><link rel="prefetch" href="/assets/js/427.e099dd6a.js"><link rel="prefetch" href="/assets/js/428.beef8eb2.js"><link rel="prefetch" href="/assets/js/429.266ed61e.js"><link rel="prefetch" href="/assets/js/43.667a4108.js"><link rel="prefetch" href="/assets/js/430.cd857ec2.js"><link rel="prefetch" href="/assets/js/431.cb5550b2.js"><link rel="prefetch" href="/assets/js/432.3a31614c.js"><link rel="prefetch" href="/assets/js/433.c9f73ea8.js"><link rel="prefetch" href="/assets/js/434.c3d546a3.js"><link rel="prefetch" href="/assets/js/435.6a5558d5.js"><link rel="prefetch" href="/assets/js/436.fac0cdde.js"><link rel="prefetch" href="/assets/js/437.858e2dbc.js"><link rel="prefetch" href="/assets/js/438.4f6fd7f1.js"><link rel="prefetch" href="/assets/js/439.d823d6d5.js"><link rel="prefetch" href="/assets/js/44.2e051a69.js"><link rel="prefetch" href="/assets/js/440.8d4edefe.js"><link rel="prefetch" href="/assets/js/441.806f144c.js"><link rel="prefetch" href="/assets/js/442.56b1ae7b.js"><link rel="prefetch" href="/assets/js/443.0c9c92ed.js"><link rel="prefetch" href="/assets/js/444.4484d097.js"><link rel="prefetch" href="/assets/js/445.6e68718d.js"><link rel="prefetch" href="/assets/js/446.5bdd4ab4.js"><link rel="prefetch" href="/assets/js/447.6202d37b.js"><link rel="prefetch" href="/assets/js/448.88ae6dd3.js"><link rel="prefetch" href="/assets/js/449.2e911cca.js"><link rel="prefetch" href="/assets/js/45.08ce102a.js"><link rel="prefetch" href="/assets/js/450.16bda76e.js"><link rel="prefetch" href="/assets/js/451.ee603a5b.js"><link rel="prefetch" href="/assets/js/452.ff4a503b.js"><link rel="prefetch" href="/assets/js/453.f4bf543d.js"><link rel="prefetch" href="/assets/js/454.fb1e37fa.js"><link rel="prefetch" href="/assets/js/455.55467fe9.js"><link rel="prefetch" href="/assets/js/456.c1ccc8ef.js"><link rel="prefetch" href="/assets/js/457.aaeaefa6.js"><link rel="prefetch" href="/assets/js/458.f59b0607.js"><link rel="prefetch" href="/assets/js/459.201f603d.js"><link rel="prefetch" href="/assets/js/46.074adfe9.js"><link rel="prefetch" href="/assets/js/460.4e283c1a.js"><link rel="prefetch" href="/assets/js/461.c2492681.js"><link rel="prefetch" href="/assets/js/462.9362354d.js"><link rel="prefetch" href="/assets/js/463.a4087f38.js"><link rel="prefetch" href="/assets/js/464.e5828e7e.js"><link rel="prefetch" href="/assets/js/465.e95594b5.js"><link rel="prefetch" href="/assets/js/466.7b75c1f4.js"><link rel="prefetch" href="/assets/js/467.8e9d9c24.js"><link rel="prefetch" href="/assets/js/468.b87a6973.js"><link rel="prefetch" href="/assets/js/469.3411b392.js"><link rel="prefetch" href="/assets/js/47.8175158f.js"><link rel="prefetch" href="/assets/js/470.95363b28.js"><link rel="prefetch" href="/assets/js/471.21a1606b.js"><link rel="prefetch" href="/assets/js/472.f9687e9c.js"><link rel="prefetch" href="/assets/js/473.64f85306.js"><link rel="prefetch" href="/assets/js/474.8a9f362d.js"><link rel="prefetch" href="/assets/js/475.5d6399de.js"><link rel="prefetch" href="/assets/js/476.70d49b7b.js"><link rel="prefetch" href="/assets/js/477.7e3e21a3.js"><link rel="prefetch" href="/assets/js/478.67387462.js"><link rel="prefetch" href="/assets/js/479.a239eaa0.js"><link rel="prefetch" href="/assets/js/48.f20bc2b0.js"><link rel="prefetch" href="/assets/js/480.6f0b953b.js"><link rel="prefetch" href="/assets/js/481.b3ec6e3e.js"><link rel="prefetch" href="/assets/js/482.ef931c32.js"><link rel="prefetch" href="/assets/js/483.e2271a83.js"><link rel="prefetch" href="/assets/js/484.544c1072.js"><link rel="prefetch" href="/assets/js/485.d8a5505a.js"><link rel="prefetch" href="/assets/js/486.1ea2510a.js"><link rel="prefetch" href="/assets/js/487.e954f3bc.js"><link rel="prefetch" href="/assets/js/488.dbfe8c7c.js"><link rel="prefetch" href="/assets/js/489.92152c72.js"><link rel="prefetch" href="/assets/js/49.f4b7dc24.js"><link rel="prefetch" href="/assets/js/490.8ea88875.js"><link rel="prefetch" href="/assets/js/491.d1e2d1b6.js"><link rel="prefetch" href="/assets/js/492.217b7fd1.js"><link rel="prefetch" href="/assets/js/493.6d188156.js"><link rel="prefetch" href="/assets/js/494.adcca4bf.js"><link rel="prefetch" href="/assets/js/495.13cdbf74.js"><link rel="prefetch" href="/assets/js/496.53a4b758.js"><link rel="prefetch" href="/assets/js/497.0763c40d.js"><link rel="prefetch" href="/assets/js/498.debcfb1b.js"><link rel="prefetch" href="/assets/js/499.7d3cf6eb.js"><link rel="prefetch" href="/assets/js/50.41ac06fd.js"><link rel="prefetch" href="/assets/js/500.28473fb4.js"><link rel="prefetch" href="/assets/js/501.90241d8d.js"><link rel="prefetch" href="/assets/js/502.a096c362.js"><link rel="prefetch" href="/assets/js/503.539676ba.js"><link rel="prefetch" href="/assets/js/504.39d8e399.js"><link rel="prefetch" href="/assets/js/505.2b2a130b.js"><link rel="prefetch" href="/assets/js/506.7811ad79.js"><link rel="prefetch" href="/assets/js/507.2817d33b.js"><link rel="prefetch" href="/assets/js/508.89b8d712.js"><link rel="prefetch" href="/assets/js/509.80dcd2b5.js"><link rel="prefetch" href="/assets/js/51.3ef6cdbe.js"><link rel="prefetch" href="/assets/js/510.a8f28525.js"><link rel="prefetch" href="/assets/js/511.e890924a.js"><link rel="prefetch" href="/assets/js/512.9a073fe1.js"><link rel="prefetch" href="/assets/js/513.0a302efb.js"><link rel="prefetch" href="/assets/js/514.6b43f3e7.js"><link rel="prefetch" href="/assets/js/515.c7b0284a.js"><link rel="prefetch" href="/assets/js/516.5daf0566.js"><link rel="prefetch" href="/assets/js/517.67f7c508.js"><link rel="prefetch" href="/assets/js/518.7854e40b.js"><link rel="prefetch" href="/assets/js/519.dcb88d39.js"><link rel="prefetch" href="/assets/js/52.840d0f74.js"><link rel="prefetch" href="/assets/js/520.6f40c4e7.js"><link rel="prefetch" href="/assets/js/521.3c0a006c.js"><link rel="prefetch" href="/assets/js/522.ed57f1a7.js"><link rel="prefetch" href="/assets/js/523.39d637e2.js"><link rel="prefetch" href="/assets/js/524.acd5ee1f.js"><link rel="prefetch" href="/assets/js/525.0836647e.js"><link rel="prefetch" href="/assets/js/526.9e2af36c.js"><link rel="prefetch" href="/assets/js/527.9337d948.js"><link rel="prefetch" href="/assets/js/528.cacbd480.js"><link rel="prefetch" href="/assets/js/529.21a67f8f.js"><link rel="prefetch" href="/assets/js/53.fb86a936.js"><link rel="prefetch" href="/assets/js/530.3373ac51.js"><link rel="prefetch" href="/assets/js/531.1b371c24.js"><link rel="prefetch" href="/assets/js/532.64685d6d.js"><link rel="prefetch" href="/assets/js/533.d3344f80.js"><link rel="prefetch" href="/assets/js/534.1adcd2e2.js"><link rel="prefetch" href="/assets/js/535.cf0f4bbe.js"><link rel="prefetch" href="/assets/js/536.f3cadbc2.js"><link rel="prefetch" href="/assets/js/537.d2071727.js"><link rel="prefetch" href="/assets/js/538.b700925e.js"><link rel="prefetch" href="/assets/js/539.a5de8601.js"><link rel="prefetch" href="/assets/js/54.e8d5a023.js"><link rel="prefetch" href="/assets/js/540.525e8630.js"><link rel="prefetch" href="/assets/js/541.0b14ac8a.js"><link rel="prefetch" href="/assets/js/542.fc96e578.js"><link rel="prefetch" href="/assets/js/543.53cf25d0.js"><link rel="prefetch" href="/assets/js/544.f9b3e911.js"><link rel="prefetch" href="/assets/js/545.b353670e.js"><link rel="prefetch" href="/assets/js/546.5ed48a56.js"><link rel="prefetch" href="/assets/js/547.9843edce.js"><link rel="prefetch" href="/assets/js/548.f8eb7890.js"><link rel="prefetch" href="/assets/js/549.990650c2.js"><link rel="prefetch" href="/assets/js/55.b268240f.js"><link rel="prefetch" href="/assets/js/550.c7ba17a1.js"><link rel="prefetch" href="/assets/js/551.2ea79a07.js"><link rel="prefetch" href="/assets/js/552.950843bd.js"><link rel="prefetch" href="/assets/js/553.d1f94516.js"><link rel="prefetch" href="/assets/js/554.873b4336.js"><link rel="prefetch" href="/assets/js/555.12e7f37d.js"><link rel="prefetch" href="/assets/js/556.c84abfa5.js"><link rel="prefetch" href="/assets/js/557.76108e15.js"><link rel="prefetch" href="/assets/js/558.ad0caf91.js"><link rel="prefetch" href="/assets/js/559.efc5fcaa.js"><link rel="prefetch" href="/assets/js/56.862368c6.js"><link rel="prefetch" href="/assets/js/560.82032a52.js"><link rel="prefetch" href="/assets/js/561.b776e2e3.js"><link rel="prefetch" href="/assets/js/562.8f48c34e.js"><link rel="prefetch" href="/assets/js/563.1916b1f0.js"><link rel="prefetch" href="/assets/js/564.89eef1bf.js"><link rel="prefetch" href="/assets/js/565.2ca43acb.js"><link rel="prefetch" href="/assets/js/566.6caf93e6.js"><link rel="prefetch" href="/assets/js/567.1888604a.js"><link rel="prefetch" href="/assets/js/568.c909a75b.js"><link rel="prefetch" href="/assets/js/569.6862733a.js"><link rel="prefetch" href="/assets/js/57.d93cbd65.js"><link rel="prefetch" href="/assets/js/570.ce0e3115.js"><link rel="prefetch" href="/assets/js/571.0da49310.js"><link rel="prefetch" href="/assets/js/572.c34ca3fd.js"><link rel="prefetch" href="/assets/js/573.895c8f8d.js"><link rel="prefetch" href="/assets/js/574.e59b6191.js"><link rel="prefetch" href="/assets/js/575.842ef1ff.js"><link rel="prefetch" href="/assets/js/576.9b5dd540.js"><link rel="prefetch" href="/assets/js/577.2d0e6020.js"><link rel="prefetch" href="/assets/js/578.2e49a333.js"><link rel="prefetch" href="/assets/js/579.005171f1.js"><link rel="prefetch" href="/assets/js/58.10ca5b0d.js"><link rel="prefetch" href="/assets/js/580.74d9d14e.js"><link rel="prefetch" href="/assets/js/581.404aa6ad.js"><link rel="prefetch" href="/assets/js/582.4c756647.js"><link rel="prefetch" href="/assets/js/583.84f8db17.js"><link rel="prefetch" href="/assets/js/584.0c4307db.js"><link rel="prefetch" href="/assets/js/585.9cbe1c6c.js"><link rel="prefetch" href="/assets/js/586.94d5912f.js"><link rel="prefetch" href="/assets/js/587.08073e55.js"><link rel="prefetch" href="/assets/js/588.a4cb5da6.js"><link rel="prefetch" href="/assets/js/589.ff2423ac.js"><link rel="prefetch" href="/assets/js/59.3eb351e6.js"><link rel="prefetch" href="/assets/js/590.1a498879.js"><link rel="prefetch" href="/assets/js/591.eb8d6c20.js"><link rel="prefetch" href="/assets/js/592.850eee03.js"><link rel="prefetch" href="/assets/js/593.12b28022.js"><link rel="prefetch" href="/assets/js/594.9c805b81.js"><link rel="prefetch" href="/assets/js/595.e9119b0e.js"><link rel="prefetch" href="/assets/js/596.6b641a7e.js"><link rel="prefetch" href="/assets/js/597.77bf95f8.js"><link rel="prefetch" href="/assets/js/598.da53697e.js"><link rel="prefetch" href="/assets/js/599.281b72be.js"><link rel="prefetch" href="/assets/js/6.8773fb47.js"><link rel="prefetch" href="/assets/js/60.1c1a9cd1.js"><link rel="prefetch" href="/assets/js/600.4aa56a28.js"><link rel="prefetch" href="/assets/js/601.93029330.js"><link rel="prefetch" href="/assets/js/602.3dee7fe6.js"><link rel="prefetch" href="/assets/js/603.cdc313ee.js"><link rel="prefetch" href="/assets/js/604.965166a0.js"><link rel="prefetch" href="/assets/js/605.7c70961f.js"><link rel="prefetch" href="/assets/js/606.a9f02486.js"><link rel="prefetch" href="/assets/js/607.73baa5d1.js"><link rel="prefetch" href="/assets/js/608.e8fa09f4.js"><link rel="prefetch" href="/assets/js/609.ac51d009.js"><link rel="prefetch" href="/assets/js/61.9683ebee.js"><link rel="prefetch" href="/assets/js/610.644de93e.js"><link rel="prefetch" href="/assets/js/611.4435581a.js"><link rel="prefetch" href="/assets/js/612.27640be2.js"><link rel="prefetch" href="/assets/js/613.5010499b.js"><link rel="prefetch" href="/assets/js/614.cf985a78.js"><link rel="prefetch" href="/assets/js/615.175e2d87.js"><link rel="prefetch" href="/assets/js/616.c034e53d.js"><link rel="prefetch" href="/assets/js/617.fe843932.js"><link rel="prefetch" href="/assets/js/618.17ffbf18.js"><link rel="prefetch" href="/assets/js/619.c968374b.js"><link rel="prefetch" href="/assets/js/62.2276e6d3.js"><link rel="prefetch" href="/assets/js/620.f34c0fa0.js"><link rel="prefetch" href="/assets/js/621.815b8624.js"><link rel="prefetch" href="/assets/js/622.d534821e.js"><link rel="prefetch" href="/assets/js/623.936ac4e3.js"><link rel="prefetch" href="/assets/js/624.68e1aa29.js"><link rel="prefetch" href="/assets/js/625.07b94155.js"><link rel="prefetch" href="/assets/js/626.96720feb.js"><link rel="prefetch" href="/assets/js/627.6c0097f7.js"><link rel="prefetch" href="/assets/js/628.1b01c525.js"><link rel="prefetch" href="/assets/js/629.6b7b7051.js"><link rel="prefetch" href="/assets/js/63.21657e0e.js"><link rel="prefetch" href="/assets/js/630.5e364b4e.js"><link rel="prefetch" href="/assets/js/631.1dbc5bc2.js"><link rel="prefetch" href="/assets/js/632.26cf0433.js"><link rel="prefetch" href="/assets/js/633.f5940046.js"><link rel="prefetch" href="/assets/js/634.631e139f.js"><link rel="prefetch" href="/assets/js/635.dcb1483c.js"><link rel="prefetch" href="/assets/js/636.99b6e8c3.js"><link rel="prefetch" href="/assets/js/637.ac8ad035.js"><link rel="prefetch" href="/assets/js/638.5782cc19.js"><link rel="prefetch" href="/assets/js/639.1db80fe2.js"><link rel="prefetch" href="/assets/js/64.02fb1ddb.js"><link rel="prefetch" href="/assets/js/640.bc54f7f5.js"><link rel="prefetch" href="/assets/js/641.cdff8819.js"><link rel="prefetch" href="/assets/js/642.df23e220.js"><link rel="prefetch" href="/assets/js/643.89df1b3c.js"><link rel="prefetch" href="/assets/js/644.5f0031ba.js"><link rel="prefetch" href="/assets/js/645.f7daa126.js"><link rel="prefetch" href="/assets/js/646.d47a3e0e.js"><link rel="prefetch" href="/assets/js/647.d1c8f3ae.js"><link rel="prefetch" href="/assets/js/648.0506ce23.js"><link rel="prefetch" href="/assets/js/649.6cf2a641.js"><link rel="prefetch" href="/assets/js/65.b4028009.js"><link rel="prefetch" href="/assets/js/650.89785dee.js"><link rel="prefetch" href="/assets/js/651.8b6fa105.js"><link rel="prefetch" href="/assets/js/652.5e42ce8f.js"><link rel="prefetch" href="/assets/js/653.eddc84e1.js"><link rel="prefetch" href="/assets/js/654.48762cb9.js"><link rel="prefetch" href="/assets/js/655.7bcd5aa3.js"><link rel="prefetch" href="/assets/js/656.bf91b745.js"><link rel="prefetch" href="/assets/js/657.332eec27.js"><link rel="prefetch" href="/assets/js/658.9e9b31c8.js"><link rel="prefetch" href="/assets/js/659.b469808c.js"><link rel="prefetch" href="/assets/js/66.33d6767a.js"><link rel="prefetch" href="/assets/js/660.25843c88.js"><link rel="prefetch" href="/assets/js/661.ca1a9580.js"><link rel="prefetch" href="/assets/js/662.cd6fe6ce.js"><link rel="prefetch" href="/assets/js/663.dddb87c3.js"><link rel="prefetch" href="/assets/js/664.c4d2b9b4.js"><link rel="prefetch" href="/assets/js/665.e26ea7fd.js"><link rel="prefetch" href="/assets/js/666.918a92c2.js"><link rel="prefetch" href="/assets/js/667.5f06fa05.js"><link rel="prefetch" href="/assets/js/668.7b783af2.js"><link rel="prefetch" href="/assets/js/669.efe734b4.js"><link rel="prefetch" href="/assets/js/67.0737d4e2.js"><link rel="prefetch" href="/assets/js/670.70a7afa1.js"><link rel="prefetch" href="/assets/js/671.d82e7481.js"><link rel="prefetch" href="/assets/js/672.f4e33cf4.js"><link rel="prefetch" href="/assets/js/673.f3b26cca.js"><link rel="prefetch" href="/assets/js/674.d5327fdb.js"><link rel="prefetch" href="/assets/js/675.06e1587e.js"><link rel="prefetch" href="/assets/js/676.b81eab7c.js"><link rel="prefetch" href="/assets/js/677.65c1f157.js"><link rel="prefetch" href="/assets/js/678.dd3c35f4.js"><link rel="prefetch" href="/assets/js/679.1b3371c6.js"><link rel="prefetch" href="/assets/js/68.ff08cac1.js"><link rel="prefetch" href="/assets/js/680.4c431b6d.js"><link rel="prefetch" href="/assets/js/681.4b4df97f.js"><link rel="prefetch" href="/assets/js/682.daa28558.js"><link rel="prefetch" href="/assets/js/683.019ac4bf.js"><link rel="prefetch" href="/assets/js/684.72942987.js"><link rel="prefetch" href="/assets/js/685.b232df8f.js"><link rel="prefetch" href="/assets/js/686.27dc24b3.js"><link rel="prefetch" href="/assets/js/687.4a8ef826.js"><link rel="prefetch" href="/assets/js/688.0ba25fdf.js"><link rel="prefetch" href="/assets/js/689.be8172ba.js"><link rel="prefetch" href="/assets/js/69.516fa4ee.js"><link rel="prefetch" href="/assets/js/690.88418e50.js"><link rel="prefetch" href="/assets/js/691.1d8c222b.js"><link rel="prefetch" href="/assets/js/692.85d9e426.js"><link rel="prefetch" href="/assets/js/693.a78b6c7b.js"><link rel="prefetch" href="/assets/js/694.8348e02c.js"><link rel="prefetch" href="/assets/js/695.0bbdae98.js"><link rel="prefetch" href="/assets/js/696.f9dcc8bf.js"><link rel="prefetch" href="/assets/js/697.1c6c7982.js"><link rel="prefetch" href="/assets/js/698.fa867a93.js"><link rel="prefetch" href="/assets/js/699.5ad98f0b.js"><link rel="prefetch" href="/assets/js/7.e86883c6.js"><link rel="prefetch" href="/assets/js/70.d7c0b02d.js"><link rel="prefetch" href="/assets/js/700.da097ba8.js"><link rel="prefetch" href="/assets/js/701.8f40c007.js"><link rel="prefetch" href="/assets/js/702.2ac7cfc8.js"><link rel="prefetch" href="/assets/js/703.e4f83f34.js"><link rel="prefetch" href="/assets/js/704.3230d5d3.js"><link rel="prefetch" href="/assets/js/705.9f2ac56e.js"><link rel="prefetch" href="/assets/js/706.479ef752.js"><link rel="prefetch" href="/assets/js/707.12907b99.js"><link rel="prefetch" href="/assets/js/708.a54c005e.js"><link rel="prefetch" href="/assets/js/709.2f084e72.js"><link rel="prefetch" href="/assets/js/71.c9ef60a6.js"><link rel="prefetch" href="/assets/js/710.992d9298.js"><link rel="prefetch" href="/assets/js/711.3dec9e74.js"><link rel="prefetch" href="/assets/js/712.fbba000f.js"><link rel="prefetch" href="/assets/js/713.644be223.js"><link rel="prefetch" href="/assets/js/714.20e703bd.js"><link rel="prefetch" href="/assets/js/715.7ac51064.js"><link rel="prefetch" href="/assets/js/716.5f8c7487.js"><link rel="prefetch" href="/assets/js/717.cdd46244.js"><link rel="prefetch" href="/assets/js/718.7b7a44e2.js"><link rel="prefetch" href="/assets/js/719.ed06b003.js"><link rel="prefetch" href="/assets/js/72.c23e24e9.js"><link rel="prefetch" href="/assets/js/720.202718be.js"><link rel="prefetch" href="/assets/js/721.1426ef3c.js"><link rel="prefetch" href="/assets/js/722.79f56663.js"><link rel="prefetch" href="/assets/js/723.6dcfa3ed.js"><link rel="prefetch" href="/assets/js/724.4c098acf.js"><link rel="prefetch" href="/assets/js/725.381dd189.js"><link rel="prefetch" href="/assets/js/726.baa6dcfe.js"><link rel="prefetch" href="/assets/js/727.f893500e.js"><link rel="prefetch" href="/assets/js/728.977ee9a0.js"><link rel="prefetch" href="/assets/js/729.3dc27591.js"><link rel="prefetch" href="/assets/js/73.d2b5812c.js"><link rel="prefetch" href="/assets/js/730.e62b3efb.js"><link rel="prefetch" href="/assets/js/731.8b21fd00.js"><link rel="prefetch" href="/assets/js/732.0e4b5daf.js"><link rel="prefetch" href="/assets/js/733.1cc505b4.js"><link rel="prefetch" href="/assets/js/734.55c0fe79.js"><link rel="prefetch" href="/assets/js/735.4eb02d3a.js"><link rel="prefetch" href="/assets/js/736.40c2728a.js"><link rel="prefetch" href="/assets/js/737.73c562f3.js"><link rel="prefetch" href="/assets/js/738.6dd69adf.js"><link rel="prefetch" href="/assets/js/739.af66a4dc.js"><link rel="prefetch" href="/assets/js/74.408525bc.js"><link rel="prefetch" href="/assets/js/740.eff57d99.js"><link rel="prefetch" href="/assets/js/741.7c9b1745.js"><link rel="prefetch" href="/assets/js/742.87bf09be.js"><link rel="prefetch" href="/assets/js/743.fd587ae7.js"><link rel="prefetch" href="/assets/js/744.b207d76b.js"><link rel="prefetch" href="/assets/js/745.5da05a37.js"><link rel="prefetch" href="/assets/js/746.05f0fcc4.js"><link rel="prefetch" href="/assets/js/747.8afc4f80.js"><link rel="prefetch" href="/assets/js/748.a6328657.js"><link rel="prefetch" href="/assets/js/749.488acffe.js"><link rel="prefetch" href="/assets/js/75.d6223e36.js"><link rel="prefetch" href="/assets/js/750.b778f9b2.js"><link rel="prefetch" href="/assets/js/751.046fb057.js"><link rel="prefetch" href="/assets/js/752.4fa1c3ec.js"><link rel="prefetch" href="/assets/js/753.2023ccf5.js"><link rel="prefetch" href="/assets/js/754.68df0df4.js"><link rel="prefetch" href="/assets/js/755.7289134a.js"><link rel="prefetch" href="/assets/js/756.bce7616e.js"><link rel="prefetch" href="/assets/js/757.3403e5f9.js"><link rel="prefetch" href="/assets/js/758.8f0d0bdf.js"><link rel="prefetch" href="/assets/js/759.cdd31702.js"><link rel="prefetch" href="/assets/js/76.f65eed64.js"><link rel="prefetch" href="/assets/js/760.9bfe29ed.js"><link rel="prefetch" href="/assets/js/761.e23339c6.js"><link rel="prefetch" href="/assets/js/762.db375c5b.js"><link rel="prefetch" href="/assets/js/763.8b16c3fe.js"><link rel="prefetch" href="/assets/js/764.f1f4f712.js"><link rel="prefetch" href="/assets/js/765.23e53b3a.js"><link rel="prefetch" href="/assets/js/766.3d3bb3ff.js"><link rel="prefetch" href="/assets/js/767.35ad7cea.js"><link rel="prefetch" href="/assets/js/768.295d1f7a.js"><link rel="prefetch" href="/assets/js/769.2f8fe776.js"><link rel="prefetch" href="/assets/js/77.ec9614b4.js"><link rel="prefetch" href="/assets/js/770.a89ea5e2.js"><link rel="prefetch" href="/assets/js/771.0d2cf3ee.js"><link rel="prefetch" href="/assets/js/772.a10354a4.js"><link rel="prefetch" href="/assets/js/773.ee60e68b.js"><link rel="prefetch" href="/assets/js/774.ba4aad28.js"><link rel="prefetch" href="/assets/js/775.7d35f9cc.js"><link rel="prefetch" href="/assets/js/776.b3ec764c.js"><link rel="prefetch" href="/assets/js/777.c124aefe.js"><link rel="prefetch" href="/assets/js/778.325cfc0e.js"><link rel="prefetch" href="/assets/js/779.d2b575a6.js"><link rel="prefetch" href="/assets/js/78.f56b2037.js"><link rel="prefetch" href="/assets/js/780.218c6b47.js"><link rel="prefetch" href="/assets/js/781.0eac52b7.js"><link rel="prefetch" href="/assets/js/782.79965326.js"><link rel="prefetch" href="/assets/js/783.60892b73.js"><link rel="prefetch" href="/assets/js/784.b8f79fd0.js"><link rel="prefetch" href="/assets/js/785.0528258e.js"><link rel="prefetch" href="/assets/js/786.1dbadb12.js"><link rel="prefetch" href="/assets/js/787.f247b164.js"><link rel="prefetch" href="/assets/js/788.3dd93a34.js"><link rel="prefetch" href="/assets/js/789.7b97a48d.js"><link rel="prefetch" href="/assets/js/79.ed5ad905.js"><link rel="prefetch" href="/assets/js/790.8ceeb0b3.js"><link rel="prefetch" href="/assets/js/791.e926d9a8.js"><link rel="prefetch" href="/assets/js/792.3e5a323a.js"><link rel="prefetch" href="/assets/js/793.43419085.js"><link rel="prefetch" href="/assets/js/794.b8c22345.js"><link rel="prefetch" href="/assets/js/795.7370ff3c.js"><link rel="prefetch" href="/assets/js/796.9509e009.js"><link rel="prefetch" href="/assets/js/797.4a4202c2.js"><link rel="prefetch" href="/assets/js/798.3961cf47.js"><link rel="prefetch" href="/assets/js/799.69707d57.js"><link rel="prefetch" href="/assets/js/8.3fe9535a.js"><link rel="prefetch" href="/assets/js/80.202c3322.js"><link rel="prefetch" href="/assets/js/800.f72c31a2.js"><link rel="prefetch" href="/assets/js/801.2372cb79.js"><link rel="prefetch" href="/assets/js/802.3aefd131.js"><link rel="prefetch" href="/assets/js/803.18443761.js"><link rel="prefetch" href="/assets/js/804.301bf327.js"><link rel="prefetch" href="/assets/js/805.e169a32a.js"><link rel="prefetch" href="/assets/js/806.27cbd296.js"><link rel="prefetch" href="/assets/js/807.b0443249.js"><link rel="prefetch" href="/assets/js/808.91924bc7.js"><link rel="prefetch" href="/assets/js/809.865e8932.js"><link rel="prefetch" href="/assets/js/81.9d064e1c.js"><link rel="prefetch" href="/assets/js/810.28dafb2c.js"><link rel="prefetch" href="/assets/js/811.9248d0a5.js"><link rel="prefetch" href="/assets/js/812.8bb147f8.js"><link rel="prefetch" href="/assets/js/813.57a8a982.js"><link rel="prefetch" href="/assets/js/814.f80c73c9.js"><link rel="prefetch" href="/assets/js/815.2b3d99fc.js"><link rel="prefetch" href="/assets/js/816.4a05e284.js"><link rel="prefetch" href="/assets/js/817.6c8508c2.js"><link rel="prefetch" href="/assets/js/818.c72f5330.js"><link rel="prefetch" href="/assets/js/819.35126624.js"><link rel="prefetch" href="/assets/js/82.210310b3.js"><link rel="prefetch" href="/assets/js/820.d5254c3c.js"><link rel="prefetch" href="/assets/js/821.c69c6b2c.js"><link rel="prefetch" href="/assets/js/822.1ccbb204.js"><link rel="prefetch" href="/assets/js/823.0436449a.js"><link rel="prefetch" href="/assets/js/824.a9d3c6f0.js"><link rel="prefetch" href="/assets/js/825.f9bf8329.js"><link rel="prefetch" href="/assets/js/826.e0d5f786.js"><link rel="prefetch" href="/assets/js/827.cf88e320.js"><link rel="prefetch" href="/assets/js/828.67da7389.js"><link rel="prefetch" href="/assets/js/829.21c2eac1.js"><link rel="prefetch" href="/assets/js/83.d74f6f93.js"><link rel="prefetch" href="/assets/js/830.1eb4ea1b.js"><link rel="prefetch" href="/assets/js/831.6b51565e.js"><link rel="prefetch" href="/assets/js/832.07a20675.js"><link rel="prefetch" href="/assets/js/833.0f7823b8.js"><link rel="prefetch" href="/assets/js/834.27bf9c2e.js"><link rel="prefetch" href="/assets/js/835.409429ce.js"><link rel="prefetch" href="/assets/js/836.28de2c29.js"><link rel="prefetch" href="/assets/js/837.5e7df1f1.js"><link rel="prefetch" href="/assets/js/838.5adc5f6e.js"><link rel="prefetch" href="/assets/js/839.11c3bfc2.js"><link rel="prefetch" href="/assets/js/84.4cf98a31.js"><link rel="prefetch" href="/assets/js/840.65d20fee.js"><link rel="prefetch" href="/assets/js/841.1949a396.js"><link rel="prefetch" href="/assets/js/842.f7a8d098.js"><link rel="prefetch" href="/assets/js/843.65694aa6.js"><link rel="prefetch" href="/assets/js/844.7a62cf9b.js"><link rel="prefetch" href="/assets/js/85.22b95924.js"><link rel="prefetch" href="/assets/js/86.a6f80a36.js"><link rel="prefetch" href="/assets/js/87.3b138e3b.js"><link rel="prefetch" href="/assets/js/88.bb56b7a2.js"><link rel="prefetch" href="/assets/js/89.198a78ff.js"><link rel="prefetch" href="/assets/js/9.59b98557.js"><link rel="prefetch" href="/assets/js/90.d743afe3.js"><link rel="prefetch" href="/assets/js/91.3b6d096c.js"><link rel="prefetch" href="/assets/js/92.a61a93f5.js"><link rel="prefetch" href="/assets/js/93.89cc3bad.js"><link rel="prefetch" href="/assets/js/94.fafb4ea3.js"><link rel="prefetch" href="/assets/js/95.52a52f2e.js"><link rel="prefetch" href="/assets/js/96.82379902.js"><link rel="prefetch" href="/assets/js/97.fb013838.js"><link rel="prefetch" href="/assets/js/98.17d2f72a.js"><link rel="prefetch" href="/assets/js/99.b355b28b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.183d1d00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-17815e06><header class="navbar" data-v-17815e06><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="智能后端和架构" class="logo"> <span class="site-name can-hide">智能后端和架构</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/readguide.html" class="nav-link">
  导读
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java语言基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/intro/01-java-intro.html" class="nav-link">
  Java入门介绍
</a></li><li class="dropdown-subitem"><a href="/java/intro/03-java-grammer.html" class="nav-link">
  Java基础语法
</a></li></ul></li><li class="dropdown-item"><h4>
          Java面向对象基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/basic/01-lan-feature.html" class="nav-link">
  语言基础特性
</a></li><li class="dropdown-subitem"><a href="/java/basic/02-oop-feature.html" class="nav-link">
  面向对象特征
</a></li></ul></li><li class="dropdown-item"><h4>
          Java集合类编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/collection/01-intro.html" class="nav-link">
  集合类基础介绍
</a></li><li class="dropdown-subitem"><a href="/java/collection/02-collectionmap.html" class="nav-link">
  集合框架Collction、Map
</a></li></ul></li><li class="dropdown-item"><h4>
          Java文件和网络编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/file/01-intro.html" class="nav-link">
  Java文件IO流入门
</a></li><li class="dropdown-subitem"><a href="/java/net/01-intro.html" class="nav-link">
  Java网络编程入门
</a></li></ul></li><li class="dropdown-item"><h4>
          Java并发编程和JUC
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/thread/01-intro.html" class="nav-link">
  Java并发 基础入门
</a></li><li class="dropdown-subitem"><a href="/java/juc/01-intro.html" class="nav-link">
  Java并发 JUC入门
</a></li></ul></li><li class="dropdown-item"><h4>
          Java虚拟机和语言特性
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/jvm/01-intro.html" class="nav-link">
  Java  虚拟机
</a></li><li class="dropdown-subitem"><a href="/java/characteristic/01-java8.html" class="nav-link">
  Java8 语言特性
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据库基础和SQL
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/intro/01-intro.html" class="nav-link">
  数据库绪论
</a></li><li class="dropdown-subitem"><a href="/db/intro/02-relationdb.html" class="nav-link">
  关系数据库
</a></li><li class="dropdown-subitem"><a href="/db/comsql/01-basicselect.html" class="nav-link">
  基本查询SQL
</a></li><li class="dropdown-subitem"><a href="/db/comsql/02-joinselect.html" class="nav-link">
  连表查询SQL
</a></li></ul></li><li class="dropdown-item"><h4>
          MySQL基础和优化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysqlbasic/01-intro.html" class="nav-link">
  入门介绍
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt1/01-solutionsum.html" class="nav-link">
  性能优化方案
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt2/01-districtandtable.html" class="nav-link">
  分区和分表
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt2/05-readwritesepration.html" class="nav-link">
  读写分离介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/01-intro.html" class="nav-link">
  Redis介绍和总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础概念总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/basic/01-basicconcept.html" class="nav-link">
  数据结构基础概念
</a></li><li class="dropdown-subitem"><a href="/algorithm/basic/02-intro.html" class="nav-link">
  算法和数据结构介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/visual/01-commondy.html" class="nav-link">
  常用算法动态展示
</a></li><li class="dropdown-subitem"><a href="/algorithm/visual/04-visualgo.html" class="nav-link">
  visualgo-中文算法展示
</a></li></ul></li><li class="dropdown-item"><h4>
          算法思想总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/thought/01-thoughts8intro.html" class="nav-link">
  八种常用算法思想
</a></li><li class="dropdown-subitem"><a href="/algorithm/thought/02-thoughts5intro.html" class="nav-link">
  五种基本算法思想
</a></li></ul></li><li class="dropdown-item"><h4>
          常用算法总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/search/01-intro.html" class="nav-link">
  常用查找算法-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/sort/01-intro.html" class="nav-link">
  常用排序算法-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/strmatch/01-intro.html" class="nav-link">
  常用字符串匹配-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/encryption/01-intro.html" class="nav-link">
  常用加密解密算法-介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bigdata/intro/01-intro.html" class="nav-link">
  入门知识介绍
</a></li><li class="dropdown-subitem"><a href="/bigdata/techintro/01-intro.html" class="nav-link">
  技术体系介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          数据采集总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dc/intro/01-intro.html" class="nav-link">
  入门知识介绍
</a></li><li class="dropdown-subitem"><a href="/dc/intro/02-diff.html" class="nav-link">
  常用工具比较
</a></li></ul></li><li class="dropdown-item"><h4>
          数据存储总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ds/intro/01-basicintro.html" class="nav-link">
  Hadoop入门介绍
</a></li><li class="dropdown-subitem"><a href="/ds/intro/02-detailintro.html" class="nav-link">
  Hadoop生态介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          数据仓库总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dw/intro/01-intro.html" class="nav-link">
  数据仓库入门介绍
</a></li><li class="dropdown-subitem"><a href="/dw/intro/03-summary.html" class="nav-link">
  数据仓库精华总结
</a></li></ul></li><li class="dropdown-item"><h4>
          数据处理总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dp/mr/01-intro.html" class="nav-link">
  MapReduce-入门介绍
</a></li><li class="dropdown-subitem"><a href="/dp/mr/02-basicprin.html" class="nav-link">
  MapReduce-工作原理
</a></li></ul></li><li class="dropdown-item"><h4>
          数据应用总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/da/intro/01-intro.html" class="nav-link">
  大数据应用场景基础介绍
</a></li><li class="dropdown-subitem"><a href="/dm/intro/01-intro.html" class="nav-link">
  大数据数据挖掘基础介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">人工智能</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ai/intro/01-intro.html" class="nav-link">
  人工智能基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlintro/01-intro.html" class="nav-link">
  机器学习基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/dlintro/01-intro.html" class="nav-link">
  深度学习基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/nnprin/01-intro.html" class="nav-link">
  神经网络原理介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlalgorithm/01-intro.html" class="nav-link">
  机器学习算法介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlmath/01-intro.html" class="nav-link">
  机器学习数学介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          开发框架总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ad/intro/01-intro.html" class="nav-link">
  主流-AI开源开发框架介绍
</a></li><li class="dropdown-subitem"><a href="/ad/dl4jintro/01-intro.html" class="nav-link">
  JAVA-AI开发框架Dl4j介绍
</a></li><li class="dropdown-subitem"><a href="/ad/pytorch/01-intro.html" class="nav-link">
  AI开发框架-Pytorch介绍
</a></li><li class="dropdown-subitem"><a href="/ad/tensorflow/01-intro.html" class="nav-link">
  AI开发框架-TensorFlow介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          开发应用案例
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ac/intro/01-intro.html" class="nav-link">
  AI常见案例和趋势介绍
</a></li><li class="dropdown-subitem"><a href="/ac/rsintro/01-intro.html" class="nav-link">
  AI应用案例-推荐系统介绍
</a></li><li class="dropdown-subitem"><a href="/ac/aicity/01-intro.html" class="nav-link">
  AI应用案例-智慧城市介绍
</a></li><li class="dropdown-subitem"><a href="/ac/aibigscreen/01-intro.html" class="nav-link">
  AI应用案例-智慧大屏介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Spring</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Spring基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/basic/01-intro.html" class="nav-link">
  Spring-入门介绍
</a></li><li class="dropdown-subitem"><a href="/spring/basic/02-iocaopintro.html" class="nav-link">
  IOC和AOP-原理介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringMVC总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springmvc/01-intro.html" class="nav-link">
  SpringMVC-入门介绍
</a></li><li class="dropdown-subitem"><a href="/spring/springmvc/02-prinintro.html" class="nav-link">
  SpringMVC-工作原理介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springboot/03-workprin.html" class="nav-link">
  SpringBoot-工作原理
</a></li><li class="dropdown-subitem"><a href="/spring/springboot/06-startprincodeanalysis.html" class="nav-link">
  启动原理分析和源码解读
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring注解总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/annotation/03-springannprin.html" class="nav-link">
  Spring注解实现原理
</a></li><li class="dropdown-subitem"><a href="/spring/annotation/04-anntotal1.html" class="nav-link">
  Spring注解大全(一)
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringCloud知识介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springcloud/01-intro.html" class="nav-link">
  SpringCloud-基础介绍
</a></li><li class="dropdown-subitem"><a href="/spring/springcloud/03-prindetail.html" class="nav-link">
  SpringCloud-原理详解
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          框架基础总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/basic/01-intro.html" class="nav-link">
  框架基础知识介绍
</a></li><li class="dropdown-subitem"><a href="/framework/basic/02-commconceptdiff.html" class="nav-link">
  框架架构组件区别
</a></li><li class="dropdown-subitem"><a href="/framework/basic/03-commconceptrela.html" class="nav-link">
  框架架构组件关系
</a></li><li class="dropdown-subitem"><a href="/framework/basic/06-microserv15.html" class="nav-link">
  常见15种微服务框架
</a></li><li class="dropdown-subitem"><a href="/framework/basic/07-springframethink.html" class="nav-link">
  Spring框架思想总结
</a></li></ul></li><li class="dropdown-item"><h4>
          常用框架总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/log/01-intro.html" class="nav-link">
  日志框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/orm/01-intro.html" class="nav-link">
  ORM框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/nio/01-intro.html" class="nav-link">
  NIO框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/netty/01-intro.html" class="nav-link">
  Netty框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/nettycase/01-intro.html" class="nav-link">
  Netty案例-介绍和总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">架构</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          架构基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/architecture/basic/01-intro.html" class="nav-link">
  架构基础知识介绍
</a></li><li class="dropdown-subitem"><a href="/architecture/basic/02-essence.html" class="nav-link">
  架构基本概念和本质
</a></li><li class="dropdown-subitem"><a href="/architecture/microservanddistribute/01-intro.html" class="nav-link">
  微服务架构知识介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/tool/01-intro.html" class="nav-link">
  Java开发工具介绍
</a></li><li class="dropdown-subitem"><a href="/dev/tool/05-idea20recommendedplug.html" class="nav-link">
  Idea开发插件推荐
</a></li></ul></li><li class="dropdown-item"><h4>
          开发规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/standard/01-intro.html" class="nav-link">
  Java开发规范
</a></li><li class="dropdown-subitem"><a href="/dev/designpattern/01-intro.html" class="nav-link">
  Java设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          开发效率
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/deveffciency/02-commpromethods.html" class="nav-link">
  效率提升常用方法
</a></li><li class="dropdown-subitem"><a href="/dev/deveffciency/09-summary.html" class="nav-link">
  效率提升精华总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">综合</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">综合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          中间件
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/mq/01-intro.html" class="nav-link">
  MQ消息队列介绍
</a></li><li class="dropdown-subitem"><a href="/es/basic/01-intro.html" class="nav-link">
  ES搜索服务器介绍
</a></li><li class="dropdown-subitem"><a href="/middleware/zookeeper/01-intro.html" class="nav-link">
  Zookeeper介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          综合技能
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlop/basic/01-intro.html" class="nav-link">
  MySQL运维总结
</a></li><li class="dropdown-subitem"><a href="/operation/linux/01-intro.html" class="nav-link">
  Linux常用命令
</a></li><li class="dropdown-subitem"><a href="/operation/ng/05-ngsum.html" class="nav-link">
  Nginx使用总结
</a></li><li class="dropdown-subitem"><a href="/post/javabasic/01-javabasic.html" class="nav-link">
  求职面试整理
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目|产品</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目|产品</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          研发效能介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projprod/rdefficiencyintro/01-intro.html" class="nav-link">
  研发效能入门介绍
</a></li><li class="dropdown-subitem"><a href="/projprod/rdefficiencyintro/06-efficiencysystem.html" class="nav-link">
  研发效能体系构建
</a></li></ul></li><li class="dropdown-item"><h4>
          研发效能提升
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projprod/rdeffciencypromote/09-summary.html" class="nav-link">
  研发效能提升精华总结
</a></li><li class="dropdown-subitem"><a href="/projprod/rdeffciencytool/01-intro.html" class="nav-link">
  研发效能系统管理工具
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about/aboutme.html" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-17815e06></div> <aside class="sidebar" data-v-17815e06><nav class="nav-links"><div class="nav-item"><a href="/readguide.html" class="nav-link">
  导读
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java基础" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java语言基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/intro/01-java-intro.html" class="nav-link">
  Java入门介绍
</a></li><li class="dropdown-subitem"><a href="/java/intro/03-java-grammer.html" class="nav-link">
  Java基础语法
</a></li></ul></li><li class="dropdown-item"><h4>
          Java面向对象基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/basic/01-lan-feature.html" class="nav-link">
  语言基础特性
</a></li><li class="dropdown-subitem"><a href="/java/basic/02-oop-feature.html" class="nav-link">
  面向对象特征
</a></li></ul></li><li class="dropdown-item"><h4>
          Java集合类编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/collection/01-intro.html" class="nav-link">
  集合类基础介绍
</a></li><li class="dropdown-subitem"><a href="/java/collection/02-collectionmap.html" class="nav-link">
  集合框架Collction、Map
</a></li></ul></li><li class="dropdown-item"><h4>
          Java文件和网络编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/file/01-intro.html" class="nav-link">
  Java文件IO流入门
</a></li><li class="dropdown-subitem"><a href="/java/net/01-intro.html" class="nav-link">
  Java网络编程入门
</a></li></ul></li><li class="dropdown-item"><h4>
          Java并发编程和JUC
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/thread/01-intro.html" class="nav-link">
  Java并发 基础入门
</a></li><li class="dropdown-subitem"><a href="/java/juc/01-intro.html" class="nav-link">
  Java并发 JUC入门
</a></li></ul></li><li class="dropdown-item"><h4>
          Java虚拟机和语言特性
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/jvm/01-intro.html" class="nav-link">
  Java  虚拟机
</a></li><li class="dropdown-subitem"><a href="/java/characteristic/01-java8.html" class="nav-link">
  Java8 语言特性
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据库基础和SQL
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/intro/01-intro.html" class="nav-link">
  数据库绪论
</a></li><li class="dropdown-subitem"><a href="/db/intro/02-relationdb.html" class="nav-link">
  关系数据库
</a></li><li class="dropdown-subitem"><a href="/db/comsql/01-basicselect.html" class="nav-link">
  基本查询SQL
</a></li><li class="dropdown-subitem"><a href="/db/comsql/02-joinselect.html" class="nav-link">
  连表查询SQL
</a></li></ul></li><li class="dropdown-item"><h4>
          MySQL基础和优化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysqlbasic/01-intro.html" class="nav-link">
  入门介绍
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt1/01-solutionsum.html" class="nav-link">
  性能优化方案
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt2/01-districtandtable.html" class="nav-link">
  分区和分表
</a></li><li class="dropdown-subitem"><a href="/db/mysqlopt2/05-readwritesepration.html" class="nav-link">
  读写分离介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          NoSQL数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/01-intro.html" class="nav-link">
  Redis介绍和总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础概念总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/basic/01-basicconcept.html" class="nav-link">
  数据结构基础概念
</a></li><li class="dropdown-subitem"><a href="/algorithm/basic/02-intro.html" class="nav-link">
  算法和数据结构介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/visual/01-commondy.html" class="nav-link">
  常用算法动态展示
</a></li><li class="dropdown-subitem"><a href="/algorithm/visual/04-visualgo.html" class="nav-link">
  visualgo-中文算法展示
</a></li></ul></li><li class="dropdown-item"><h4>
          算法思想总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/thought/01-thoughts8intro.html" class="nav-link">
  八种常用算法思想
</a></li><li class="dropdown-subitem"><a href="/algorithm/thought/02-thoughts5intro.html" class="nav-link">
  五种基本算法思想
</a></li></ul></li><li class="dropdown-item"><h4>
          常用算法总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/algorithm/search/01-intro.html" class="nav-link">
  常用查找算法-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/sort/01-intro.html" class="nav-link">
  常用排序算法-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/strmatch/01-intro.html" class="nav-link">
  常用字符串匹配-介绍
</a></li><li class="dropdown-subitem"><a href="/algorithm/encryption/01-intro.html" class="nav-link">
  常用加密解密算法-介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bigdata/intro/01-intro.html" class="nav-link">
  入门知识介绍
</a></li><li class="dropdown-subitem"><a href="/bigdata/techintro/01-intro.html" class="nav-link">
  技术体系介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          数据采集总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dc/intro/01-intro.html" class="nav-link">
  入门知识介绍
</a></li><li class="dropdown-subitem"><a href="/dc/intro/02-diff.html" class="nav-link">
  常用工具比较
</a></li></ul></li><li class="dropdown-item"><h4>
          数据存储总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ds/intro/01-basicintro.html" class="nav-link">
  Hadoop入门介绍
</a></li><li class="dropdown-subitem"><a href="/ds/intro/02-detailintro.html" class="nav-link">
  Hadoop生态介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          数据仓库总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dw/intro/01-intro.html" class="nav-link">
  数据仓库入门介绍
</a></li><li class="dropdown-subitem"><a href="/dw/intro/03-summary.html" class="nav-link">
  数据仓库精华总结
</a></li></ul></li><li class="dropdown-item"><h4>
          数据处理总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dp/mr/01-intro.html" class="nav-link">
  MapReduce-入门介绍
</a></li><li class="dropdown-subitem"><a href="/dp/mr/02-basicprin.html" class="nav-link">
  MapReduce-工作原理
</a></li></ul></li><li class="dropdown-item"><h4>
          数据应用总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/da/intro/01-intro.html" class="nav-link">
  大数据应用场景基础介绍
</a></li><li class="dropdown-subitem"><a href="/dm/intro/01-intro.html" class="nav-link">
  大数据数据挖掘基础介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">人工智能</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">人工智能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ai/intro/01-intro.html" class="nav-link">
  人工智能基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlintro/01-intro.html" class="nav-link">
  机器学习基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/dlintro/01-intro.html" class="nav-link">
  深度学习基础介绍
</a></li><li class="dropdown-subitem"><a href="/ai/nnprin/01-intro.html" class="nav-link">
  神经网络原理介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlalgorithm/01-intro.html" class="nav-link">
  机器学习算法介绍
</a></li><li class="dropdown-subitem"><a href="/ai/mlmath/01-intro.html" class="nav-link">
  机器学习数学介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          开发框架总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ad/intro/01-intro.html" class="nav-link">
  主流-AI开源开发框架介绍
</a></li><li class="dropdown-subitem"><a href="/ad/dl4jintro/01-intro.html" class="nav-link">
  JAVA-AI开发框架Dl4j介绍
</a></li><li class="dropdown-subitem"><a href="/ad/pytorch/01-intro.html" class="nav-link">
  AI开发框架-Pytorch介绍
</a></li><li class="dropdown-subitem"><a href="/ad/tensorflow/01-intro.html" class="nav-link">
  AI开发框架-TensorFlow介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          开发应用案例
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ac/intro/01-intro.html" class="nav-link">
  AI常见案例和趋势介绍
</a></li><li class="dropdown-subitem"><a href="/ac/rsintro/01-intro.html" class="nav-link">
  AI应用案例-推荐系统介绍
</a></li><li class="dropdown-subitem"><a href="/ac/aicity/01-intro.html" class="nav-link">
  AI应用案例-智慧城市介绍
</a></li><li class="dropdown-subitem"><a href="/ac/aibigscreen/01-intro.html" class="nav-link">
  AI应用案例-智慧大屏介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Spring</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Spring基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/basic/01-intro.html" class="nav-link">
  Spring-入门介绍
</a></li><li class="dropdown-subitem"><a href="/spring/basic/02-iocaopintro.html" class="nav-link">
  IOC和AOP-原理介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringMVC总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springmvc/01-intro.html" class="nav-link">
  SpringMVC-入门介绍
</a></li><li class="dropdown-subitem"><a href="/spring/springmvc/02-prinintro.html" class="nav-link">
  SpringMVC-工作原理介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springboot/03-workprin.html" class="nav-link">
  SpringBoot-工作原理
</a></li><li class="dropdown-subitem"><a href="/spring/springboot/06-startprincodeanalysis.html" class="nav-link">
  启动原理分析和源码解读
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring注解总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/annotation/03-springannprin.html" class="nav-link">
  Spring注解实现原理
</a></li><li class="dropdown-subitem"><a href="/spring/annotation/04-anntotal1.html" class="nav-link">
  Spring注解大全(一)
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringCloud知识介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/springcloud/01-intro.html" class="nav-link">
  SpringCloud-基础介绍
</a></li><li class="dropdown-subitem"><a href="/spring/springcloud/03-prindetail.html" class="nav-link">
  SpringCloud-原理详解
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          框架基础总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/basic/01-intro.html" class="nav-link">
  框架基础知识介绍
</a></li><li class="dropdown-subitem"><a href="/framework/basic/02-commconceptdiff.html" class="nav-link">
  框架架构组件区别
</a></li><li class="dropdown-subitem"><a href="/framework/basic/03-commconceptrela.html" class="nav-link">
  框架架构组件关系
</a></li><li class="dropdown-subitem"><a href="/framework/basic/06-microserv15.html" class="nav-link">
  常见15种微服务框架
</a></li><li class="dropdown-subitem"><a href="/framework/basic/07-springframethink.html" class="nav-link">
  Spring框架思想总结
</a></li></ul></li><li class="dropdown-item"><h4>
          常用框架总结
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/log/01-intro.html" class="nav-link">
  日志框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/orm/01-intro.html" class="nav-link">
  ORM框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/nio/01-intro.html" class="nav-link">
  NIO框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/netty/01-intro.html" class="nav-link">
  Netty框架-介绍和总结
</a></li><li class="dropdown-subitem"><a href="/framework/nettycase/01-intro.html" class="nav-link">
  Netty案例-介绍和总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">架构</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          架构基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/architecture/basic/01-intro.html" class="nav-link">
  架构基础知识介绍
</a></li><li class="dropdown-subitem"><a href="/architecture/basic/02-essence.html" class="nav-link">
  架构基本概念和本质
</a></li><li class="dropdown-subitem"><a href="/architecture/microservanddistribute/01-intro.html" class="nav-link">
  微服务架构知识介绍
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/tool/01-intro.html" class="nav-link">
  Java开发工具介绍
</a></li><li class="dropdown-subitem"><a href="/dev/tool/05-idea20recommendedplug.html" class="nav-link">
  Idea开发插件推荐
</a></li></ul></li><li class="dropdown-item"><h4>
          开发规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/standard/01-intro.html" class="nav-link">
  Java开发规范
</a></li><li class="dropdown-subitem"><a href="/dev/designpattern/01-intro.html" class="nav-link">
  Java设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          开发效率
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/deveffciency/02-commpromethods.html" class="nav-link">
  效率提升常用方法
</a></li><li class="dropdown-subitem"><a href="/dev/deveffciency/09-summary.html" class="nav-link">
  效率提升精华总结
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">综合</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">综合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          中间件
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/mq/01-intro.html" class="nav-link">
  MQ消息队列介绍
</a></li><li class="dropdown-subitem"><a href="/es/basic/01-intro.html" class="nav-link">
  ES搜索服务器介绍
</a></li><li class="dropdown-subitem"><a href="/middleware/zookeeper/01-intro.html" class="nav-link">
  Zookeeper介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          综合技能
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysqlop/basic/01-intro.html" class="nav-link">
  MySQL运维总结
</a></li><li class="dropdown-subitem"><a href="/operation/linux/01-intro.html" class="nav-link">
  Linux常用命令
</a></li><li class="dropdown-subitem"><a href="/operation/ng/05-ngsum.html" class="nav-link">
  Nginx使用总结
</a></li><li class="dropdown-subitem"><a href="/post/javabasic/01-javabasic.html" class="nav-link">
  求职面试整理
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">项目|产品</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">项目|产品</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          研发效能介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projprod/rdefficiencyintro/01-intro.html" class="nav-link">
  研发效能入门介绍
</a></li><li class="dropdown-subitem"><a href="/projprod/rdefficiencyintro/06-efficiencysystem.html" class="nav-link">
  研发效能体系构建
</a></li></ul></li><li class="dropdown-item"><h4>
          研发效能提升
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projprod/rdeffciencypromote/09-summary.html" class="nav-link">
  研发效能提升精华总结
</a></li><li class="dropdown-subitem"><a href="/projprod/rdeffciencytool/01-intro.html" class="nav-link">
  研发效能系统管理工具
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about/aboutme.html" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/intro/01-intro.html" class="sidebar-link">数据库绪论</a></li><li><a href="/db/intro/02.1-dbcatintro.html" class="sidebar-link">数据库分类介绍</a></li><li><a href="/db/intro/02-relationdb.html" class="sidebar-link">关系数据库介绍</a></li><li><a href="/db/intro/03-sqlintro.html" class="sidebar-link">关系数据库语言SQL</a></li><li><a href="/db/intro/04-security.html" class="sidebar-link">数据库安全性</a></li><li><a href="/db/intro/05-commplete.html" class="sidebar-link">数据库完整性</a></li><li><a href="/db/intro/06-dbtheory.html" class="sidebar-link">关系数据理论</a></li><li><a href="/db/intro/07-dbdesign.html" class="sidebar-link">数据库设计</a></li><li><a href="/db/intro/08-dbthreepara.html" class="sidebar-link">数据库设计三大范式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础常用SQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/comsql/01-basicselect.html" class="sidebar-link">常用SQL-基本查询</a></li><li><a href="/db/comsql/02-joinselect.html" class="sidebar-link">常用SQL-连表查询</a></li><li><a href="/db/comsql/03-otherselect.html" class="sidebar-link">常用SQL-其他查询</a></li><li><a href="/db/comsql/04-editsql.html" class="sidebar-link">常用SQL-编辑类</a></li><li><a href="/db/comsql/05-procedure.html" class="sidebar-link">常用SQL-存储过程</a></li><li><a href="/db/comsql/06-trigger.html" class="sidebar-link">常用SQL-触发器</a></li><li><a href="/db/comsql/07-sumcase.html" class="sidebar-link">常用SQL-综合案例</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/mysqlbasic/01-intro.html" class="sidebar-link">MySQL-入门介绍</a></li><li><a href="/db/mysqlbasic/01.1-mysqlcmd.html" class="sidebar-link">MySQL-常用命令</a></li><li><a href="/db/mysqlbasic/01.2-mysqlfunction.html" class="sidebar-link">MySQL-常用函数</a></li><li><a href="/db/mysqlbasic/02-storageengine.html" class="sidebar-link">MySQL-存储引擎</a></li><li><a href="/db/mysqlbasic/03-mysqlindex.html" class="sidebar-link">MySQL-索引</a></li><li><a href="/db/mysqlbasic/04-mysqltransaction.html" class="sidebar-link">MySQL-事务</a></li><li><a href="/db/mysqlbasic/05-mysqllock.html" class="sidebar-link">MySQL-锁</a></li><li><a href="/db/mysqlbasic/05.1-informationschema.html" class="sidebar-link">MySQL-系统字典数据库</a></li><li><a href="/db/mysqlbasic/05.2-mysqlbusidict.html" class="sidebar-link">MySQL-获取业务数据字典</a></li><li><a href="/db/mysqlbasic/06-mysqlsummary.html" class="sidebar-link">MySQL-精华总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL存储过程和函数</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/mysqlpro/01-procedure.html" class="sidebar-link">MySQL-存储过程</a></li><li><a href="/db/mysqlpro/02-function.html" class="sidebar-link">MySQL-函数</a></li><li><a href="/db/mysqlpro/03-call.html" class="sidebar-link">MySQL-存储过程和函数调用</a></li><li><a href="/db/mysqlpro/04-devrela.html" class="sidebar-link">MySQL-存储过程函数开发</a></li><li><a href="/db/mysqlpro/05-cursor.html" class="sidebar-link">MySQL-游标</a></li><li><a href="/db/mysqlpro/06-trigger.html" class="sidebar-link">MySQL-触发器</a></li><li><a href="/db/mysqlpro/06.1-triggercase.html" class="sidebar-link">MySQL-触发器案例</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL性能优化(一)</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/mysqlopt1/01-solutionsum.html" class="sidebar-link">性能优化方案</a></li><li><a href="/db/mysqlopt1/02-idxdesignopt.html" class="sidebar-link">索引设计优化</a></li><li><a href="/db/mysqlopt1/03-explainplan.html" class="sidebar-link">查看执行计划</a></li><li><a href="/db/mysqlopt1/04-selectopt.html" class="sidebar-link">查询性能优化</a></li><li><a href="/db/mysqlopt1/05-slowselect.html" class="sidebar-link">慢查询和索引优化</a></li><li><a href="/db/mysqlopt1/06-selectsummary.html" class="sidebar-link">查询优化总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL性能优化(二)</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/mysqlopt2/01-districtandtable.html" class="sidebar-link">分区和分表</a></li><li><a href="/db/mysqlopt2/02-masterslavecopyprin.html" class="sidebar-link">主从复制原理</a></li><li><a href="/db/mysqlopt2/03-masterslavecopycase.html" class="sidebar-link">主从复制案例</a></li><li><a href="/db/mysqlopt2/04-loadbalance.html" class="sidebar-link">负载均衡介绍</a></li><li><a href="/db/mysqlopt2/05-readwritesepration.html" class="sidebar-link">读写分离介绍</a></li><li><a href="/db/mysqlopt2/06-paramopt.html" class="sidebar-link">配置和硬件优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis介绍和总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/redis/01-intro.html" class="sidebar-link">Redis入门介绍</a></li><li><a href="/db/redis/02-install.html" class="sidebar-link">Redis安装部署</a></li><li><a href="/db/redis/03-optcmd.html" class="sidebar-link">Redis操作命令</a></li><li><a href="/db/redis/04-iomultiplexing.html" class="sidebar-link">Redis中IO多路复用</a></li><li><a href="/db/redis/05-coreknowledge.html" class="sidebar-link">Redis核心技术总结</a></li><li><a href="/db/redis/06-summary.html" aria-current="page" class="active sidebar-link">Redis精华总结</a></li></ul></section></li></ul> </aside> <main class="page page-content-spec" data-v-17815e06><div class="page_article_title_info" data-v-17815e06><div class="page_content_title" data-v-17815e06>Redis精华总结</div> <div class="page_content_visit" data-v-17815e06><span data-v-17815e06>更新时间</span> <span style="display:none;" data-v-17815e06>2021-07-13 19:48:06</span>
            
          <span data-v-17815e06>浏览</span> <span style="display:none;" data-v-17815e06>0</span>
            

        </div></div>  <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本文主要是介绍 Redis精华总结 。</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#一、数据类型">一、数据类型</a><ul><li><a href="#string">String</a></li><li><a href="#hash">Hash</a></li><li><a href="#set">Set</a></li><li><a href="#sortedset-zset">SortedSet (ZSet)</a></li><li><a href="#list">List</a></li><li><a href="#适用场景">适用场景</a></li></ul></li><li><a href="#二、持久化">二、持久化</a><ul><li><a href="#rdb">RDB</a></li><li><a href="#aof">AOF</a></li><li><a href="#rdb和aof对比">RDB和AOF对比</a></li><li><a href="#rdb和aof选择策略">RDB和AOF选择策略</a></li><li><a href="#持久化应用场景">持久化应用场景</a></li></ul></li><li><a href="#四、redis事务">四、Redis事务</a><ul><li><a href="#事务的基本操作">事务的基本操作</a></li><li><a href="#事务的工作流程">事务的工作流程</a></li><li><a href="#事务操作注意事项">事务操作注意事项</a></li><li><a href="#事务锁">事务锁</a></li><li><a href="#分布式锁">分布式锁</a></li><li><a href="#思索的解决方案">思索的解决方案</a></li></ul></li><li><a href="#五、删除策略">五、删除策略</a><ul><li><a href="#过期数据概念">过期数据概念</a></li><li><a href="#删除策略">删除策略</a></li><li><a href="#过期数据的底层存储结构">过期数据的底层存储结构</a></li><li><a href="#删除策略的目标">删除策略的目标</a></li><li><a href="#删除策略对比">删除策略对比</a></li><li><a href="#逐出策略">逐出策略</a></li></ul></li><li><a href="#六、主从复制">六、主从复制</a><ul><li><a href="#简介">简介</a></li><li><a href="#作用">作用</a></li><li><a href="#三个阶段">三个阶段</a></li><li><a href="#工作流程">工作流程</a></li><li><a href="#模拟结果">模拟结果</a></li><li><a href="#常见问题">常见问题</a></li></ul></li><li><a href="#七、哨兵">七、哨兵</a><ul><li><a href="#背景介绍">背景介绍</a></li><li><a href="#哨兵简介">哨兵简介</a></li><li><a href="#哨兵作用">哨兵作用</a></li><li><a href="#搭建">搭建</a></li><li><a href="#工作原理">工作原理</a></li></ul></li><li><a href="#八、集群">八、集群</a><ul><li><a href="#集群简介">集群简介</a></li><li><a href="#集群存储结构设计">集群存储结构设计</a></li><li><a href="#集群内通信设计">集群内通信设计</a></li><li><a href="#cluster集群搭建">cluster集群搭建</a></li><li><a href="#cluster集群配置">cluster集群配置</a></li><li><a href="#主从下线及主从切换">主从下线及主从切换</a></li></ul></li><li><a href="#九、redis企业级解决方案">九、Redis企业级解决方案</a><ul><li><a href="#缓存预热">缓存预热</a></li><li><a href="#缓存雪崩">缓存雪崩</a></li><li><a href="#缓存击穿">缓存击穿</a></li><li><a href="#缓存穿透">缓存穿透</a></li><li><a href="#性能指标监控">性能指标监控</a></li><li><a href="#需要更大的并发量怎么处理">需要更大的并发量怎么处理</a></li><li><a href="#redis怎么做水平扩容">Redis怎么做水平扩容</a></li><li><a href="#redlock">redLock</a></li></ul></li><li><a href="#十、基础配置">十、基础配置</a></li><li><a href="#十一、底层">十一、底层</a><ul><li><a href="#redis单线程模型">redis单线程模型</a></li></ul></li><li><a href="#参考文章">参考文章</a></li></ul></div><p></p> <h1 id="redis核心知识点总结"><a href="#redis核心知识点总结" class="header-anchor">#</a> Redis核心知识点总结</h1> <h2 id="一、数据类型"><a href="#一、数据类型" class="header-anchor">#</a> 一、数据类型</h2> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <p>string 类型是 Redis 最基本的数据类型，string 类型的值最大能存储 512MB</p> <div class="language-shell extra-class"><pre class="language-shell"><code>SET runoob <span class="token string">&quot;test&quot;</span>
GET runoob
<span class="token number">12</span>
</code></pre></div><h3 id="hash"><a href="#hash" class="header-anchor">#</a> Hash</h3> <p>Redis hash 是一个键值(key=&gt;value)对集合。</p> <p>Redis hash 是一个 string 类型的 field 和 value 的映射表，hash 特别适合用于存储对象。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>HMSET runoob field1 <span class="token string">&quot;Hello&quot;</span> field2 <span class="token string">&quot;World&quot;</span>
HGET runoob field1
<span class="token number">12</span>
</code></pre></div><h3 id="set"><a href="#set" class="header-anchor">#</a> Set</h3> <p>Redis 的 Set 是 string 类型的无序集合。</p> <p>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>sadd key member
smembers runoob
<span class="token number">12</span>
</code></pre></div><h3 id="sortedset-zset"><a href="#sortedset-zset" class="header-anchor">#</a> SortedSet (ZSet)</h3> <p>Redis zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。</p> <p>不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。</p> <p>zset的成员是唯一的,但分数(score)却可以重复。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>zadd key score member 
ZRANGEBYSCORE runoob <span class="token number">0</span> <span class="token number">1000</span>
<span class="token number">12</span>
</code></pre></div><h3 id="list"><a href="#list" class="header-anchor">#</a> List</h3> <p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</p> <p>列表最多可存储 232 - 1 元素 (4294967295, 每个列表可存储40多亿)。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>lpush runoob mongodb
lrange runoob <span class="token number">0</span> <span class="token number">10</span>
<span class="token number">12</span>
</code></pre></div><h3 id="适用场景"><a href="#适用场景" class="header-anchor">#</a> 适用场景</h3> <table><thead><tr><th>类型</th> <th>简介</th> <th>特性</th> <th>场景</th></tr></thead> <tbody><tr><td>String(字符串)</td> <td>二进制安全</td> <td>可以包含任何数据,比如jpg图片或者序列化的对象,一个键最大能存储512M</td> <td>—</td></tr> <tr><td>Hash(字典)</td> <td>键值对集合,即编程语言中的Map类型</td> <td>适合存储对象,并且可以像数据库中update一个属性一样只修改某一项属性值(Memcached中需要取出整个字符串反序列化成对象修改完再序列化存回去)</td> <td>存储、读取、修改用户属性</td></tr> <tr><td>List(列表)</td> <td>链表(双向链表)</td> <td>增删快,提供了操作某一段元素的API</td> <td>1,最新消息排行等功能(比如朋友圈的时间线) 2,消息队列</td></tr> <tr><td>Set(集合)</td> <td>哈希表实现,元素不重复</td> <td>1、添加、删除,查找的复杂度都是O(1) 2、为集合提供了求交集、并集、差集等操作</td> <td>1、共同好友 2、利用唯一性,统计访问网站的所有独立ip 3、好友推荐时,根据tag求交集,大于某个阈值就可以推荐</td></tr> <tr><td>Sorted Set(有序集合)</td> <td>将Set中的元素增加一个权重参数score,元素按score有序排列</td> <td>数据插入集合时,已经进行天然排序</td> <td>1、排行榜 2、带权重的消息队列</td></tr></tbody></table> <h2 id="二、持久化"><a href="#二、持久化" class="header-anchor">#</a> 二、持久化</h2> <h3 id="rdb"><a href="#rdb" class="header-anchor">#</a> RDB</h3> <h4 id="rdb配置"><a href="#rdb配置" class="header-anchor">#</a> rdb配置</h4> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">#rdb文件的名称</span>
<span class="token attr-name">dbfilename</span> <span class="token attr-value">&quot;dump.rdb&quot;</span>
<span class="token comment">#数据目录，数据库的写入会在这个目录。rdb、aof文件也会写在这个目录</span>
<span class="token attr-name">dir</span> <span class="token attr-value">&quot;E:\\redis\\amaster&quot;</span>
<span class="token comment">#使用压缩rdb文件，rdb文件压缩使用LZF压缩算法，yes：压缩，但是需要一些cpu的消耗。no：不压缩，需要更多的磁盘空间</span>
<span class="token attr-name">rdbcompression</span> <span class="token attr-value">yes</span>
<span class="token comment">#是否校验rdb文件。从rdb格式的第五个版本开始，在rdb文件的末尾会带上CRC64的校验和。这跟有利于文件的容错性，但是在保存rdb文件的时候，会有大概10%的性能损耗，所以如果你追求高性能，可以关闭该配置。</span>
<span class="token attr-name">rdbchecksum</span> <span class="token attr-value">yes</span>
12345678
</code></pre></div><h4 id="save执行原理"><a href="#save执行原理" class="header-anchor">#</a> save执行原理</h4> <img src="/assets/img/db/redis/sumary1/20200803221217536.png" alt="wxmp" class="zoom-custom-imgs"> <p>save命令执行一个同步操作，以RDB文件的方式保存所有数据的快照。 由于save命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，save命令执行速度会非常慢，阻塞所有客户端的请求。</p> <h4 id="bgsave原理"><a href="#bgsave原理" class="header-anchor">#</a> bgsave原理</h4> <img src="/assets/img/db/redis/sumary1/20200803221244698.png" alt="wxmp" class="zoom-custom-imgs"> <p>通过后台fork一个新的线程执行，并不是立即执行，bgsave指令是对save指令造成的阻塞问题的解决方案，Redis后台所有的rdb持久化操作都是通过bgsave完成的</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">#当RDB持久化出现错误后，是否依然进行继续进行工作，yes：不能进行工作，no：可以继续进行工作，可以通过info中的rdb_last_bgsave_status了解RDB持久化是否有错误</span>
<span class="token attr-name">stop-writes-on-bgsave-error</span> <span class="token attr-value">yes</span>
12
</code></pre></div><p>后台存储过程中如果出现错误停止操作</p> <h4 id="通过后台配置自动保存"><a href="#通过后台配置自动保存" class="header-anchor">#</a> 通过后台配置自动保存</h4> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 快照配置</span>
<span class="token comment"># 注释掉“save”这一行配置项就可以让保存数据库功能失效</span>
<span class="token comment"># 设置sedis进行数据库镜像的频率。</span>
<span class="token comment"># 900秒（15分钟）内至少1个key值改变（则进行数据库保存--持久化）</span>
<span class="token comment"># 300秒（5分钟）内至少10个key值改变（则进行数据库保存--持久化）</span>
<span class="token comment"># 60秒（1分钟）内至少10000个key值改变（则进行数据库保存--持久化）</span>
<span class="token attr-name">save</span> <span class="token attr-value">900 1</span>
<span class="token attr-name">save</span> <span class="token attr-value">300 10</span>
<span class="token attr-name">save</span> <span class="token attr-value">60 10000</span>
123456789
</code></pre></div><p>second时间内发生了changes次数的变化即保存数据</p> <img src="/assets/img/db/redis/sumary1/20200803221323409.png" alt="wxmp" class="zoom-custom-imgs"> <p>要根据业务实际情况进行配置，保存频率过高或者过低都可能会出现灾难性的问题；second和changes尽量设成互补的关系，例如时间短则changes次数高，时间长则changes次数设少一些；采用的是bgsave的方式</p> <h4 id="对比"><a href="#对比" class="header-anchor">#</a> 对比</h4> <table><thead><tr><th>方式</th> <th>save指令</th> <th>bgsave指令和后台配置</th></tr></thead> <tbody><tr><td>读写</td> <td>同步</td> <td>异步</td></tr> <tr><td>阻塞客户端指令</td> <td>是</td> <td>否</td></tr> <tr><td>额外消耗内存</td> <td>否</td> <td>是</td></tr> <tr><td>启动新进程</td> <td>否</td> <td>是</td></tr></tbody></table> <h4 id="rdb优缺点"><a href="#rdb优缺点" class="header-anchor">#</a> rdb优缺点</h4> <p>优点：</p> <p>紧凑压缩的二进制文件，存储效率较高；</p> <p>存储的是redis某个时间点的数据快照，适合用于数据备份，全量复制场景；</p> <p>rdb恢复数据的速度比aof速度快，因为保存的是数据而不是指令；</p> <p>应用：服务器中每X小时执行bgsave备份，将rdb文件拷贝到远程机器中，用于灾难恢复；</p> <p>缺点：</p> <p>无法做到实时持久化，很大可能丢失数据；</p> <p>bgsave指令每次运行都要执行fork操作创建子进程，会牺牲一些性能；</p> <p>redis不同把那本rdb文件格式不统一，可能出现数据格式不兼容的情况；</p> <h3 id="aof"><a href="#aof" class="header-anchor">#</a> AOF</h3> <h4 id="aof-简介"><a href="#aof-简介" class="header-anchor">#</a> AOF 简介</h4> <p>AOF(append only file)持久化：以独立日志的方式记录每次写命令，重启时再重新执行aof文件中的命令达到数据恢复的目的。AOF主要用于解决数据持久化的实时性，是目前Redis持久化的主流方式。</p> <h4 id="aof写数据的三种策略"><a href="#aof写数据的三种策略" class="header-anchor">#</a> AOF写数据的三种策略</h4> <p>always 每次 ：数据0误差，性能低</p> <p>everysec 每秒 ：每秒将缓存区中的指令同步到aof文件中准确性较高，在宕机的情况下可能丢失1s的数据。</p> <p>no 系统控制 ：由系统控制同步的周期，整体过程不可控</p> <h4 id="aof持久化配置"><a href="#aof持久化配置" class="header-anchor">#</a> AOF持久化配置</h4> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">#Redis会把每次写入的数据在接收后都写入 appendonly.aof 文件，每次启动时Redis都会先把这个文件的数据读入内存里，先忽略RDB文件。</span>
<span class="token attr-name">appendonly</span> <span class="token attr-value">yes</span>
<span class="token comment">#aof文件名</span>
<span class="token attr-name">appendfilename</span> <span class="token attr-value">&quot;appendonly.aof&quot;</span>
<span class="token comment">#aof持久化策略的配置</span>
<span class="token comment">#no表示不执行fsync，由操作系统保证数据同步到磁盘，速度最快。</span>
<span class="token comment">#always表示每次写入都执行fsync，以保证数据同步到磁盘。</span>
<span class="token comment">#everysec表示每秒执行一次fsync，可能会导致丢失这1s数据。</span>
<span class="token attr-name">appendfsync</span> <span class="token attr-value">everysec</span>
123456789
</code></pre></div><h4 id="aof重写工作原理"><a href="#aof重写工作原理" class="header-anchor">#</a> AOF重写工作原理</h4> <p>对于get之类的操作不需要写aof，只要写对数据进行修改的操作即可，并且将多条指令进行合并，例如对一个key进行多次set指需要保存最后一次set即可。即保留数据最终的写入命令，并且将多条写命令合并成一条命令。</p> <div class="language-properties extra-class"><pre class="language-properties"><code>手动重写指令
<span class="token attr-name">bgrewriteaof</span> 

<span class="token comment">#aof自动重写配置。当目前aof文件大小超过上一次重写的aof文件大小的百分之多少进行重写，即当aof文件增长到一定大小的时候Redis能够调用bgrewriteaof对日志文件进行重写。当前AOF文件大小是上次日志重写得到AOF文件大小的二倍（设置为100）时，自动启动新的日志重写过程。</span>
<span class="token attr-name">auto-aof-rewrite-percentage</span> <span class="token attr-value">100</span>
<span class="token comment">#设置允许重写的最小aof文件大小，避免了达到约定百分比但尺寸仍然很小的情况还要重写</span>
<span class="token attr-name">auto-aof-rewrite-min-size</span> <span class="token attr-value">64mb</span>
1234567
</code></pre></div><img src="/assets/img/db/redis/sumary1/20200803221350941.png" alt="wxmp" class="zoom-custom-imgs"> <p>运行info persistence指令可以获取redis信息</p> <p>自动重写触发条件</p> <p>aof_current_size &gt; auto_aof_rewrite_min_size</p> <p>(aof_current_size-aof_base_size) / of_base_size &gt;= auto-aof-rewrite-percentage</p> <img src="/assets/img/db/redis/sumary1/20200803221418782.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="rdb和aof对比"><a href="#rdb和aof对比" class="header-anchor">#</a> RDB和AOF对比</h3> <table><thead><tr><th>持久化方式</th> <th>RDB</th> <th>AOF</th></tr></thead> <tbody><tr><td>占用存储空间</td> <td>小（数据级：压缩）</td> <td>大（指令级：重写）</td></tr> <tr><td>存储速度</td> <td>慢</td> <td>块</td></tr> <tr><td>恢复速度</td> <td>块</td> <td>慢</td></tr> <tr><td>数据安全性</td> <td>会丢失数据</td> <td>依据策略决定</td></tr> <tr><td>资源消耗</td> <td>高/重量级</td> <td>低/轻量级</td></tr> <tr><td>启动优先级</td> <td>低</td> <td>高</td></tr></tbody></table> <h3 id="rdb和aof选择策略"><a href="#rdb和aof选择策略" class="header-anchor">#</a> RDB和AOF选择策略</h3> <p>数据敏感：使用默认的AOF持久化方案；AOF持久化策略使用everysecond，每秒中fsync一次，该策略仍然可以保持良好的处理性能，出现问题时最后丢失0-1s内的数据。AOF存储体积大，恢复速度较慢。</p> <p>数据如果呈现阶段有效性：采用RDB方案，数据可以良好的做到阶段内无丢失（开发或者运维手工维护），恢复速度较快，阶段点数据恢复采用RDB方案。</p> <p>综合比较：</p> <p>RDB与AOF实际是一种权衡，每种都有利弊。</p> <p>不能承受数据丢失，对数据敏感，采用AOF。</p> <p>如果能承受数分钟内数据丢失，追求最快的数据恢复速度采用RDB。</p> <p>灾难恢复选用RDB</p> <p>双宝险策略，同时开启RDB和AOF，重启后，redis优先使用AOF恢复数据降低丢失的数据量。</p> <h3 id="持久化应用场景"><a href="#持久化应用场景" class="header-anchor">#</a> 持久化应用场景</h3> <p>redis应用于抢购、限购类、限量发放的优惠券、激活码业务的数据存储设计；</p> <p>redis应用于具有操作先后顺序的数据控制；</p> <p>redis应用最最新消息展示；</p> <p>redis应用于基于黑名单和白名单设定的服务控制；</p> <p>redis应用于计数器组合排序功能对应的排名；</p> <p>redis应用于按次结算的服务控制；</p> <h2 id="四、redis事务"><a href="#四、redis事务" class="header-anchor">#</a> 四、Redis事务</h2> <h3 id="事务的基本操作"><a href="#事务的基本操作" class="header-anchor">#</a> 事务的基本操作</h3> <h4 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h4> <p>redis事务指的是一个命令的执行队列，将一系列预定义命令包装成一个整体，当执行时，一次性执行，中间不会被打断或者被干扰。</p> <h4 id="取消"><a href="#取消" class="header-anchor">#</a> 取消</h4> <p>如果事务定义的过程中出现问题，通过discard命令终止当前事务的定义，发生再multi之后，exec指令之前。</p> <h4 id="执行"><a href="#执行" class="header-anchor">#</a> 执行</h4> <p>通过multi设定事务的开启位置，执行此指令后，后续的指令均加入到事务中。</p> <p>通过exec指令设置事务的结束位置，同时执行事务，与multi成对出现使用。</p> <h3 id="事务的工作流程"><a href="#事务的工作流程" class="header-anchor">#</a> 事务的工作流程</h3> <img src="/assets/img/db/redis/sumary1/20200803221443866.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="事务操作注意事项"><a href="#事务操作注意事项" class="header-anchor">#</a> 事务操作注意事项</h3> <p>事务定义的过程中，某个输入的指令格式错误例如敲错字符了，那么整个事务中的所有命令均不会执行，包括哪些语法正确的命令；</p> <p>如果指令格式正确，但是无法运行，例如对list进行incr操作，那么能够运行命令正确的指令，错误的指令不会被执行。因此如果出错了需要手动回滚之前正确执行的指令。</p> <p>所有Redis事务基本不用。</p> <h3 id="事务锁"><a href="#事务锁" class="header-anchor">#</a> 事务锁</h3> <p>业务场景</p> <p>天猫双11热卖过程中，对已售罄的货物追加补货，4个业务员都有权限进行补货，补货的操作可能是一系列的操作，牵涉到多个连续的操作，如何保证补货重复操作？</p> <h3 id="分布式锁"><a href="#分布式锁" class="header-anchor">#</a> 分布式锁</h3> <p>针对上述业务场景，</p> <p>通过对key添加监视锁，在执行exec操作前，如果key发生了变化，则终止事务执行。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">watch</span> key1 <span class="token punctuation">[</span>key<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
<span class="token number">1</span>
</code></pre></div><p>取消对所有key的监试</p> <div class="language-shell extra-class"><pre class="language-shell"><code>unwatch1
</code></pre></div><p>使用setnx设置一个公共锁(set if not exists)</p> <p>setnx lockkey value</p> <p>如果客户端获取完锁后未释放就发生了异常，或者释放锁前发生了宕机怎么处理？</p> <h3 id="思索的解决方案"><a href="#思索的解决方案" class="header-anchor">#</a> 思索的解决方案</h3> <p>通过位key添加过期时间----&gt;expire key second | pexpire key millionseconds</p> <p>锁定的过期时间设定推荐：业务执行最大耗时 * 120% + 平均网络延时 * 110%</p> <p>setnx 和 expire不是一个原子操作，如果两条指令执行中间发生异常，那还有问题，怎么解决？</p> <p>setnx的时候同时设置过期时间，通过事务实现</p> <h2 id="五、删除策略"><a href="#五、删除策略" class="header-anchor">#</a> 五、删除策略</h2> <h3 id="过期数据概念"><a href="#过期数据概念" class="header-anchor">#</a> 过期数据概念</h3> <p>Redis是一种内存级的数据库，所有的数据均存放在内存中，内存中的数据可以通过ttl指令获取其状态，pttl key指令获取key 的过期时间，XX表示具有失效性的数据，-1表示永久有效的数据，-2表示已过期的数据或者被删除的或未定义的数据。</p> <p>过期的数据是先存放在内存中的expire区域的</p> <h3 id="删除策略"><a href="#删除策略" class="header-anchor">#</a> 删除策略</h3> <h4 id="定时删除"><a href="#定时删除" class="header-anchor">#</a> 定时删除</h4> <p>创建一个定时器，当key设置有过期时间，且过期时间到达时，有定时任务器立即执行对key的删除操作。</p> <p>优点：节约内存，到时就删除，快速释放掉不必要的内存占用。</p> <p>缺点：cpu压力大，无论cpu此时负载多高，均占用cpu去删除key，会影响Redis服务器的响应时间和指令的吞吐量。</p> <p>总结：用cpu性能换区内存空间</p> <h4 id="惰性删除"><a href="#惰性删除" class="header-anchor">#</a> 惰性删除</h4> <p>数据到达过期时间时，不做处理，等下次访问该数据时；</p> <p>如果未过期，例如被续命了，则下次访问时返回数据；</p> <p>如果已过期，则删除数据，返回不存在</p> <p>优点：节约cpu性能，发现必须删除的时候才删除。</p> <p>缺点：内存压力大，出现长期占用内存的数据，因为不访问就不会删除。</p> <p>总结：用内存换cpu性能</p> <h4 id="定期删除"><a href="#定期删除" class="header-anchor">#</a> 定期删除</h4> <p>是上面两张方案的折中方案，配置中配置server.hz的值，默认10</p> <img src="/assets/img/db/redis/sumary1/20200803221511619.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="过期数据的底层存储结构"><a href="#过期数据的底层存储结构" class="header-anchor">#</a> 过期数据的底层存储结构</h3> <img src="/assets/img/db/redis/sumary1/20200803221532768.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="删除策略的目标"><a href="#删除策略的目标" class="header-anchor">#</a> 删除策略的目标</h3> <p>在内存占用与CPU占用之间寻找一种平衡，顾此失彼都会造成Redis整体Redis性能的下降，甚至造成服务器宕机或者内存泄漏</p> <h3 id="删除策略对比"><a href="#删除策略对比" class="header-anchor">#</a> 删除策略对比</h3> <table><thead><tr><th>策略名称</th> <th>内存情况</th> <th>CPU情况</th> <th>归纳</th></tr></thead> <tbody><tr><td>定时删除</td> <td>节约内存，不占用</td> <td>不分时段占用CPU资源，频率高</td> <td>时间换空间</td></tr> <tr><td>惰性删除</td> <td>内存严重占用</td> <td>延迟执行，CPU利用率高</td> <td>空间换时间</td></tr> <tr><td>定期删除</td> <td>内存定期随机清理</td> <td>每秒花费固定的CPU资源维护内存</td> <td>随机抽查，重点抽查</td></tr></tbody></table> <h3 id="逐出策略"><a href="#逐出策略" class="header-anchor">#</a> 逐出策略</h3> <p>当新的数据进入Redis时，如果内存不足怎么办？逐出策略</p> <p>Redis使用内存存储数据时，在执行每一个命令前会调用freeMemoryIfNeeded()检测内存是否充足，如果内存不满足新加入数据的最低存储要求，Redis需要临时删除一些数据为当前指令操作的数据腾出空间，清理数据的策略称为逐出算法。</p> <p>注意：逐出算法不能100%能够清理出足够的内存空间，如果不成功则反复执行，当对所有数据尝试清理完毕后，还是不能达到要求，则抛出OOM内存溢出的错误信息。</p> <p><strong>配置</strong></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 最大可使用内存, 占用物理内存的比例，默认0，表示不限制，生产通常设置在50%以上</span>
<span class="token attr-name">maxmemory</span> <span class="token attr-value">0 </span>

<span class="token comment"># 每次选取待删除数据的个数; 选取数据时并不会全库扫描，导致严重的性能消耗，降低读写性能。因此采用随机获取数据的方式作为待检测删除数据</span>
<span class="token attr-name">maxmemory-samples</span> <span class="token attr-value">100</span>

<span class="token comment"># 删除策略, 达到最大内存厚度，对呗挑选出来数据进行删除的策略。</span>
<span class="token attr-name">maxmemory-policy</span> <span class="token attr-value">volatile-ttl</span>
12345678
</code></pre></div><p><strong>算法</strong></p> <p>1、通过检测即将过期的数据集server.db[i].expires</p> <p>volatile-lru : 挑选最近最少使用的数据进行淘汰</p> <p>volatile-lfu ： 选取最近使用次数最少的数据进行淘汰</p> <p>volatile-ttl ： 挑选将要过期的数据进行淘汰</p> <p>volatile-random ： 任意选取数据进行淘汰</p> <p>2、通过检测全库数据集server.db[i].dict</p> <p>allkeys-lru ：挑选最近最少使用的数据进行淘汰</p> <p>allkeys-lfu ：选取最近使用次数最少的数据进行淘汰</p> <p>allkeys-random ：挑选将要过期的数据进行淘汰</p> <p>3、放弃数据逐出</p> <p>no-enviction : 禁止数据驱逐，产生OOM错误</p> <h2 id="六、主从复制"><a href="#六、主从复制" class="header-anchor">#</a> 六、主从复制</h2> <h3 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h3> <p><strong>背景</strong></p> <p>互联网三高架构：高并发、高可用、高性能</p> <p>可用性指的是系统一年内能对外提供服务的时间百分比，业界目标5个9，99.999%，即服务器年宕机时长低于315秒，约5.25分钟</p> <p>主从复制即将master中的数据即时、有效的复制到slave中；</p> <p>特征：一个master可以拥有多个slave，一个slave只对应一个master</p> <p>职责：master负责写数据，执行写操作时，将出现变化的数据自动同步到salve，读数据（可忽略）</p> <p>slave职责：读数据，禁止写数据</p> <h3 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h3> <p>读写分离：master写、slave读，提高服务器的读写负载能力；</p> <p>负载均衡：基于只从结构，配合读写分离，有slave分担master的负载，根据需求的变化，改变slave的数量，通过多个从节点分担数据读取负载，大大提高Redis服务器并发量与数据吞吐量。</p> <p>故障恢复：当master出现问题时，有slave提供服务，事项快速的故障恢复。</p> <p>数据冗余：实现数据的热备份，时持久化之外的一种数据冗余方式。</p> <h3 id="三个阶段"><a href="#三个阶段" class="header-anchor">#</a> 三个阶段</h3> <p>主从复制的过程可以分为3个阶段：建立连接阶段（即准备阶段）、数据同步阶段、命令传播阶段</p> <img src="/assets/img/db/redis/sumary1/20200803221604935.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="工作流程"><a href="#工作流程" class="header-anchor">#</a> 工作流程</h3> <h4 id="建立连接阶段"><a href="#建立连接阶段" class="header-anchor">#</a> 建立连接阶段</h4> <img src="/assets/img/db/redis/sumary1/20200803221643291.png" alt="wxmp" class="zoom-custom-imgs"> <h5 id="主从连接建立的方式"><a href="#主从连接建立的方式" class="header-anchor">#</a> 主从连接建立的方式</h5> <p>方式一：客户端发送slaveof命令 slaveof masterip master port</p> <p>方式二：启动服务器是添加参数 redis-server --slaveof masterip masterport</p> <p>方式三：通过服务器conf配置 slaveof masterip masterport</p> <p>主从断开连接指令 slaveof no one</p> <p>注意：slave断开连接后，不会删除已有数据，只是不再接受master发送的数据</p> <h5 id="授权访问"><a href="#授权访问" class="header-anchor">#</a> 授权访问</h5> <p><strong>master密码设置：</strong></p> <p>方式1：master配置文件设置密码requirepass password</p> <p>方式2：通过master客户端设置</p> <div class="language- extra-class"><pre class="language-text"><code>config set requirepass passwordconfig get requires12
</code></pre></div><p><strong>slave设置密码访问：</strong></p> <p>方式1：slave客户端发送命令设置密码 auth password</p> <p>方式2：slave配置文件设置密码 masterauth password</p> <p>方式3：启动客户端设置密码 redis-cli -a password</p> <h4 id="数据同步阶段"><a href="#数据同步阶段" class="header-anchor">#</a> 数据同步阶段</h4> <p>全量复制</p> <p>1 slave发送psync2指令请求master同步数据</p> <p>2 master执行bgsave指令保存rdb快照</p> <p>3 master在第一个slave连接时，创建命令缓存区</p> <p>4 通过socket将rdb文件发送给slave</p> <p>5 slave接受到rdb数据，将自己数据清空，执行rdb文件恢复过程</p> <p>部分复制</p> <p>6 slave执行完rdb恢复后，发送指令给master告知rdb恢复完成</p> <p>7 master收到后发送复制缓存区信息给slave</p> <p>8 slave收到信息后执行bgrewriteaof命令恢复数据</p> <p>整个工作流程总结如下：</p> <p>步骤一：slave请求同步数据</p> <p>步骤二：master创建rdb同步数据</p> <p>步骤三：slave恢复rdb同步数据</p> <p>步骤四：slave请求部分同步数据</p> <p>步骤六：slave恢复部分同步数据</p> <p>数据同步完成</p> <img src="/assets/img/db/redis/sumary1/20200803221711708.png" alt="wxmp" class="zoom-custom-imgs"> <p>数据同步阶段master情况说明：</p> <p>1、如果master数据巨大，数据同步阶段应该避开流量高峰期，避免造成master阻塞，影响业务的正常执行。</p> <p>2、复制缓冲区大小设定不合理会导致数据溢出。然后造成新的全量复制，导致slave进入死循环。</p> <p>repl-backlog-size 1mb</p> <p>3、复制缓存区存的是数据操作指令</p> <p>4、master单机内存占用主机内存的比例不应该过大，建议使用50%到70%，留下30%-50%的内存用于执行bgsave命令和创建复制缓冲区。</p> <p>数据同步阶段slave情况说明：</p> <p>1、为了避免slave进行全量复制、部分复制的时候服务器响应阻塞或者数据不同步，建议关闭此期间的对外服务</p> <p>slave-server-stale-data yes</p> <p>2、数据同步阶段，master发送数据给slave可用理解成master是slave的一个客户端，主动向slave发送命令。</p> <p>3、多个slave同时请求master数据同步时，master发送的rdb文件增多，会对带宽造成巨大冲击，如果master带宽不足，数据同步需要根据业务需求适量错峰。</p> <p>4、slave过多时，建议调整拓扑结构，由一主多从结构变为树状结构，中间节点即使master也是slave，注意的是，层度越深，数据同步的延时越大，数据的一致性变差。</p> <img src="/assets/img/db/redis/sumary1/20200803221750888.png" alt="wxmp" class="zoom-custom-imgs"> <h4 id="命令传播阶段"><a href="#命令传播阶段" class="header-anchor">#</a> 命令传播阶段</h4> <p>当master数据库状态被修改后，导致主从服务器数据库状态不一致，此时需要让主从数据同步到一致的状态，同步的动作称为命令传播；master将接收到的数据变更命令发送给slave， slave接收命令后执行命令</p> <p>命令传播阶段出现断网现象处理方案</p> <table><thead><tr><th>断网情况</th> <th>措施</th></tr></thead> <tbody><tr><td>网络闪断闪连</td> <td>忽略</td></tr> <tr><td>短时间网络中断</td> <td>部分复制</td></tr> <tr><td>长时间网络中断</td> <td>全量复制</td></tr></tbody></table> <p>部分复制的三个核心要素</p> <p>1、服务器运行id（run id）</p> <p>概念：服务器运行id是每一台服务器每次运行的身份识别码，一台服务器多次运行可以生成过个运行id。</p> <p>作用：如果想两次操作均对一台服务器进行，必须每次操作携带对应的运行id用于对方识别自己，用于身份识别。</p> <p>实现方式：运行id是每台服务器启动时自己生成的，master在首次连接slave时，会将自己的运行id传给slave，slave保存此id，通过info server命令，可以查看节点的runid。</p> <p>2、master服务器的复制缓存区</p> <p>概念：复制缓冲区又叫复制挤压缓冲区，是一个先进先出FIFO的队列，用于存储服务器执行过的命令，每次 传播命令，master都会将传播的命令记录下来，并存在在复制缓冲区。复制缓冲区的大小是固定的默认是1M，当入队列的元素大于缓冲区大小时，缓冲区队头的元素会被弹出。</p> <p>何时创建：每台服务器启动时，如果有开启AOF或者被slave节点连接时，创建复制缓冲区。</p> <img src="/assets/img/db/redis/sumary1/20200803221819453.png" alt="wxmp" class="zoom-custom-imgs"> <p>3、master和slave的复制偏移量</p> <p>复制偏移量offset指复制缓冲区中指令字节的位置</p> <p>分类：</p> <p>master复制偏移量：记录发送给所有slave的指令字节对应的位置（多个）</p> <p>slave复制偏移量：记录slave接收master发送过来的指令字节对应的位置（一个）</p> <p>来源：</p> <p>master端：发送一次记录一次</p> <p>slave端：接收一次记录一次</p> <p>作用：同步信息对比master和slave的差异，当slave断线后数据恢复使用。</p> <img src="/assets/img/db/redis/sumary1/20200803221855777.png" alt="wxmp" class="zoom-custom-imgs"> <p>心跳机制：</p> <p>进入命令传播阶段，master与slave之间需要进行信息交换，使用心跳机制进行维护，实现双方连接保持在线。</p> <p>master心跳：</p> <p>指令：ping</p> <p>周期：由repl-ping-slave-period决定，默认10秒</p> <p>作用：判断slave是否在线</p> <p>查询：info replication 获取slave最后一次连接的时间间隔，lag项维持在0或者1视为正常</p> <p>slave心跳：</p> <p>指令：replconf ack（offset）</p> <p>周期：1秒</p> <p>作用：汇报slave自己的复制偏移量给master，获取最新的数据变更指令；同时判断master是否在线。</p> <img src="/assets/img/db/redis/sumary1/20200803221924757.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="模拟结果"><a href="#模拟结果" class="header-anchor">#</a> 模拟结果</h3> <p>主</p> <div class="language-verilog extra-class"><pre class="language-verilog"><code><span class="token punctuation">[</span>root@iZbp143t3oxhfc3ar7jey0Z redis<span class="token operator">-</span><span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span><span class="token punctuation">]</span># redis<span class="token operator">-</span>server redis<span class="token punctuation">.</span>conf26260<span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">24.212</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo26260<span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">24.212</span> # Redis version<span class="token operator">=</span><span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span><span class="token punctuation">,</span> bits<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">,</span> commit<span class="token operator">=</span><span class="token number">00000000</span><span class="token punctuation">,</span> modified<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> pid<span class="token operator">=</span><span class="token number">26260</span><span class="token punctuation">,</span> just started26260<span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">:</span><span class="token number">24.212</span> # Configuration loaded                _<span class="token punctuation">.</span>_           _<span class="token punctuation">.</span><span class="token operator">-</span>`<span class="token constant">`__</span> ''<span class="token operator">-</span><span class="token punctuation">.</span>_      _<span class="token punctuation">.</span><span class="token operator">-</span>``    `<span class="token punctuation">.</span>  <span class="token constant">`_</span><span class="token punctuation">.</span>  ''<span class="token operator">-</span><span class="token punctuation">.</span>_           Redis <span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span> <span class="token punctuation">(</span><span class="token number">00000000</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">64</span> <span class="token keyword">bit</span>  <span class="token punctuation">.</span><span class="token operator">-</span>`` <span class="token punctuation">.</span><span class="token operator">-</span>```<span class="token punctuation">.</span>  ```\<span class="token operator">/</span>    _<span class="token punctuation">.</span><span class="token punctuation">,</span>_ ''<span class="token operator">-</span><span class="token punctuation">.</span>_ <span class="token punctuation">(</span>    '      <span class="token punctuation">,</span>       <span class="token punctuation">.</span><span class="token operator">-</span>`  <span class="token operator">|</span> `<span class="token punctuation">,</span>    <span class="token punctuation">)</span>     Running in standalone mode <span class="token operator">|</span>`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span>` __<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token punctuation">.</span>``<span class="token operator">-</span><span class="token punctuation">.</span>_<span class="token operator">|</span>'` _<span class="token punctuation">.</span><span class="token operator">-</span>'<span class="token operator">|</span>     Port<span class="token punctuation">:</span> <span class="token number">6379</span> <span class="token operator">|</span>    `<span class="token operator">-</span><span class="token punctuation">.</span>_   `<span class="token punctuation">.</span>_    <span class="token operator">/</span>     _<span class="token punctuation">.</span><span class="token operator">-</span>'    <span class="token operator">|</span>     PID<span class="token punctuation">:</span> <span class="token number">26260</span>  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_  `<span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">/</span>  _<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>' <span class="token operator">|</span>`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'<span class="token operator">|</span> <span class="token operator">|</span>    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'    <span class="token operator">|</span>           http<span class="token punctuation">:</span><span class="token comment">//redis.io  `-._    `-._`-.__.-'_.-'    _.-' |`-._`-._    `-.__.-'    _.-'_.-'| |    `-._`-._        _.-'_.-'    |  `-._    `-._`-.__.-'_.-'    _.-'      `-._    `-.__.-'    _.-'          `-._        _.-'              `-.__.-'26260:M 07 Apr 10:15:24.215 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.26260:M 07 Apr 10:15:24.215 # Server initialized26260:M 07 Apr 10:15:24.215 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.26260:M 07 Apr 10:15:24.215 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.26260:M 07 Apr 10:15:24.215 * Ready to accept connections26260:M 07 Apr 10:30:33.003 * Slave 127.0.0.1:6380 asks for synchronization 从请求同步26260:M 07 Apr 10:30:33.003 * Partial resynchronization not accepted: Replication ID mismatch (Slave asked for '83c02182bfec39697066ab7cc9faa14603dc6ee9', my replication IDs are 'a950489a53d4fbfc41834ef633c8a59e95bca4c1' and '0000000000000000000000000000000000000000') 拒绝部分复制，因为runid不一样26260:M 07 Apr 10:30:33.003 * Starting BGSAVE for SYNC with target: disk 开始rdb保存26260:M 07 Apr 10:30:33.005 * Background saving started by pid 26728 26728:C 07 Apr 10:30:33.009 * DB saved on disk26728:C 07 Apr 10:30:33.503 * RDB: 6 MB of memory used by copy-on-write26260:M 07 Apr 10:30:33.603 * Background saving terminated with success26260:M 07 Apr 10:30:33.603 * Synchronization with slave 127.0.0.1:6380 succeeded 从同步成功26260:M 07 Apr 10:45:34.001 * 1 changes in 900 seconds. Saving...26260:M 07 Apr 10:45:34.001 * Background saving started by pid 2898628986:C 07 Apr 10:45:34.008 * DB saved on disk28986:C 07 Apr 10:45:34.008 * RDB: 2 MB of memory used by copy-on-write123456789101112131415161718192021222324252627282930313233343536373839</span>
</code></pre></div><p>从</p> <div class="language-verilog extra-class"><pre class="language-verilog"><code><span class="token punctuation">[</span>root@iZbp143t3oxhfc3ar7jey0Z redis<span class="token operator">-</span><span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span><span class="token punctuation">]</span># redis<span class="token operator">-</span>server redis<span class="token operator">-</span><span class="token number">6380</span><span class="token punctuation">.</span>conf
<span class="token number">26434</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.532</span> # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
<span class="token number">26434</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.532</span> # Redis version<span class="token operator">=</span><span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span><span class="token punctuation">,</span> bits<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">,</span> commit<span class="token operator">=</span><span class="token number">00000000</span><span class="token punctuation">,</span> modified<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> pid<span class="token operator">=</span><span class="token number">26434</span><span class="token punctuation">,</span> just started
<span class="token number">26434</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.532</span> # Configuration loaded
                _<span class="token punctuation">.</span>_
           _<span class="token punctuation">.</span><span class="token operator">-</span>`<span class="token constant">`__</span> ''<span class="token operator">-</span><span class="token punctuation">.</span>_
      _<span class="token punctuation">.</span><span class="token operator">-</span>``    `<span class="token punctuation">.</span>  <span class="token constant">`_</span><span class="token punctuation">.</span>  ''<span class="token operator">-</span><span class="token punctuation">.</span>_           Redis <span class="token number">4.0</span><span class="token punctuation">.</span><span class="token number">12</span> <span class="token punctuation">(</span><span class="token number">00000000</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">64</span> <span class="token keyword">bit</span>
  <span class="token punctuation">.</span><span class="token operator">-</span>`` <span class="token punctuation">.</span><span class="token operator">-</span>```<span class="token punctuation">.</span>  ```\<span class="token operator">/</span>    _<span class="token punctuation">.</span><span class="token punctuation">,</span>_ ''<span class="token operator">-</span><span class="token punctuation">.</span>_
 <span class="token punctuation">(</span>    '      <span class="token punctuation">,</span>       <span class="token punctuation">.</span><span class="token operator">-</span>`  <span class="token operator">|</span> `<span class="token punctuation">,</span>    <span class="token punctuation">)</span>     Running in standalone mode
 <span class="token operator">|</span>`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span>` __<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token punctuation">.</span>``<span class="token operator">-</span><span class="token punctuation">.</span>_<span class="token operator">|</span>'` _<span class="token punctuation">.</span><span class="token operator">-</span>'<span class="token operator">|</span>     Port<span class="token punctuation">:</span> <span class="token number">6380</span>
 <span class="token operator">|</span>    `<span class="token operator">-</span><span class="token punctuation">.</span>_   `<span class="token punctuation">.</span>_    <span class="token operator">/</span>     _<span class="token punctuation">.</span><span class="token operator">-</span>'    <span class="token operator">|</span>     PID<span class="token punctuation">:</span> <span class="token number">26434</span>
  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_  `<span class="token operator">-</span><span class="token punctuation">.</span><span class="token operator">/</span>  _<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'
 <span class="token operator">|</span>`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'<span class="token operator">|</span>
 <span class="token operator">|</span>    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'    <span class="token operator">|</span>           http<span class="token punctuation">:</span><span class="token comment">//redis.io</span>
  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'
 <span class="token operator">|</span>`<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'<span class="token operator">|</span>
 <span class="token operator">|</span>    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'    <span class="token operator">|</span>
  `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>_`<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'_<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'
      `<span class="token operator">-</span><span class="token punctuation">.</span>_    `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'    _<span class="token punctuation">.</span><span class="token operator">-</span>'
          `<span class="token operator">-</span><span class="token punctuation">.</span>_        _<span class="token punctuation">.</span><span class="token operator">-</span>'
              `<span class="token operator">-</span><span class="token punctuation">.</span>__<span class="token punctuation">.</span><span class="token operator">-</span>'

<span class="token number">26434</span><span class="token punctuation">:</span>M <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.534</span> # WARNING<span class="token punctuation">:</span> The TCP backlog setting of <span class="token number">511</span> cannot be enforced because <span class="token operator">/</span>proc<span class="token operator">/</span>sys<span class="token operator">/</span>net<span class="token operator">/</span>core<span class="token operator">/</span>somaxconn is set to the lower value of <span class="token number">128</span><span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>M <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.534</span> # Server initialized
<span class="token number">26434</span><span class="token punctuation">:</span>M <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.534</span> # WARNING overcommit_memory is set to <span class="token number">0</span><span class="token operator">!</span> Background save may fail under low memory condition<span class="token punctuation">.</span> To fix <span class="token keyword">this</span> issue add 'vm<span class="token punctuation">.</span>overcommit_memory <span class="token operator">=</span> <span class="token number">1</span>' to <span class="token operator">/</span>etc<span class="token operator">/</span>sysctl<span class="token punctuation">.</span>conf <span class="token keyword">and</span> then reboot <span class="token keyword">or</span> run the command 'sysctl vm<span class="token punctuation">.</span>overcommit_memory<span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">for</span> <span class="token keyword">this</span> to take effect<span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>M <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.534</span> # WARNING you have Transparent Huge Pages <span class="token punctuation">(</span>THP<span class="token punctuation">)</span> support enabled in your kernel<span class="token punctuation">.</span> This will create latency <span class="token keyword">and</span> memory usage issues <span class="token keyword">with</span> Redis<span class="token punctuation">.</span> To fix <span class="token keyword">this</span> issue run the command 'echo never <span class="token operator">&gt;</span> <span class="token operator">/</span>sys<span class="token operator">/</span>kernel<span class="token operator">/</span>mm<span class="token operator">/</span>transparent_hugepage<span class="token operator">/</span>enabled' as root<span class="token punctuation">,</span> <span class="token keyword">and</span> add it to your <span class="token operator">/</span>etc<span class="token operator">/</span>rc<span class="token punctuation">.</span><span class="token keyword">local</span> in order to retain the setting after a reboot<span class="token punctuation">.</span> Redis must be restarted after THP is disabled<span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>M <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token number">41.534</span> <span class="token operator">*</span> Ready to accept connections
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">31.644</span> <span class="token operator">*</span> Before turning into a slave<span class="token punctuation">,</span> using my master parameters to synthesize a cached master<span class="token punctuation">:</span> I may be able to synchronize <span class="token keyword">with</span> the <span class="token keyword">new</span> master <span class="token keyword">with</span> just a partial transfer<span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">31.644</span> <span class="token operator">*</span> SLAVE OF <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span> enabled <span class="token punctuation">(</span>user request from 'id<span class="token operator">=</span><span class="token number">3</span> addr<span class="token operator">=</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">34200</span> fd<span class="token operator">=</span><span class="token number">9</span> name<span class="token operator">=</span> age<span class="token operator">=</span><span class="token number">525</span> idle<span class="token operator">=</span><span class="token number">0</span> flags<span class="token operator">=</span>N db<span class="token operator">=</span><span class="token number">0</span> sub<span class="token operator">=</span><span class="token number">0</span> psub<span class="token operator">=</span><span class="token number">0</span> multi<span class="token operator">=-</span><span class="token number">1</span> qbuf<span class="token operator">=</span><span class="token number">0</span> qbuf<span class="token operator">-</span>free<span class="token operator">=</span><span class="token number">32768</span> obl<span class="token operator">=</span><span class="token number">0</span> oll<span class="token operator">=</span><span class="token number">0</span> omem<span class="token operator">=</span><span class="token number">0</span> events<span class="token operator">=</span>r cmd<span class="token operator">=</span>slaveof'<span class="token punctuation">)</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.003</span> <span class="token operator">*</span> Connecting to MASTER <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span> 连接到主
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.003</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;-&gt;</span> SLAVE sync started 主从同步开始
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.003</span> <span class="token operator">*</span> Non blocking connect <span class="token keyword">for</span> SYNC fired the <span class="token keyword">event</span><span class="token punctuation">.</span> 
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.003</span> <span class="token operator">*</span> Master replied to PING<span class="token punctuation">,</span> replication can <span class="token keyword">continue</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.003</span> <span class="token operator">*</span> Trying a partial resynchronization <span class="token punctuation">(</span>request <span class="token number">83</span>c02182bfec39697066ab7cc9faa14603dc6ee9<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 尝试部分复制
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.006</span> <span class="token operator">*</span> Full resync from master<span class="token punctuation">:</span> <span class="token number">75</span>f06abf1e9772f269eace1095fd8ed8726ecfaa<span class="token punctuation">:</span><span class="token number">0</span> 开始全量复制
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.006</span> <span class="token operator">*</span> Discarding previously cached master state<span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.603</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;-&gt;</span> SLAVE sync<span class="token punctuation">:</span> receiving <span class="token number">176</span> bytes from master
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.603</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;-&gt;</span> SLAVE sync<span class="token punctuation">:</span> Flushing old data 清除之前旧的数据
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.604</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;-&gt;</span> SLAVE sync<span class="token punctuation">:</span> Loading DB in memory 加载rdb数据
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.604</span> <span class="token operator">*</span> MASTER <span class="token operator">&lt;-&gt;</span> SLAVE sync<span class="token punctuation">:</span> Finished <span class="token keyword">with</span> success 同步成功
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.605</span> <span class="token operator">*</span> Background append only file rewriting started by pid <span class="token number">26729</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.628</span> <span class="token operator">*</span> AOF rewrite child asks to stop sending diffs<span class="token punctuation">.</span>
<span class="token number">26729</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.628</span> <span class="token operator">*</span> Parent agreed to stop sending diffs<span class="token punctuation">.</span> Finalizing AOF<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">26729</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.628</span> <span class="token operator">*</span> Concatenating <span class="token number">0.00</span> MB of AOF diff received from parent<span class="token punctuation">.</span>
<span class="token number">26729</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.629</span> <span class="token operator">*</span> SYNC append only file rewrite performed
<span class="token number">26729</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.629</span> <span class="token operator">*</span> AOF rewrite<span class="token punctuation">:</span> <span class="token number">0</span> MB of memory used by copy<span class="token operator">-</span>on<span class="token operator">-</span>write
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.703</span> <span class="token operator">*</span> Background AOF rewrite terminated <span class="token keyword">with</span> success
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.703</span> <span class="token operator">*</span> Residual parent diff successfully flushed to the r     ewritten AOF <span class="token punctuation">(</span><span class="token number">0.00</span> MB<span class="token punctuation">)</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">33.703</span> <span class="token operator">*</span> Background AOF rewrite finished successfully
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">:</span><span class="token number">42.001</span> <span class="token operator">*</span> <span class="token number">1</span> changes in <span class="token number">900</span> seconds<span class="token punctuation">.</span> Saving<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">:</span><span class="token number">42.001</span> <span class="token operator">*</span> Background saving started by pid <span class="token number">28699</span>
<span class="token number">28699</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">:</span><span class="token number">42.004</span> <span class="token operator">*</span> DB saved on disk
<span class="token number">28699</span><span class="token punctuation">:</span>C <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">:</span><span class="token number">42.005</span> <span class="token operator">*</span> RDB<span class="token punctuation">:</span> <span class="token number">0</span> MB of memory used by copy<span class="token operator">-</span>on<span class="token operator">-</span>write
<span class="token number">26434</span><span class="token punctuation">:</span>S <span class="token number">07</span> Apr <span class="token number">10</span><span class="token punctuation">:</span><span class="token number">35</span><span class="token punctuation">:</span><span class="token number">42.499</span> <span class="token operator">*</span> Background saving terminated <span class="token keyword">with</span> success
<span class="token number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354</span>
</code></pre></div><h3 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h3> <p>一、问题现象：</p> <p>master的cpu占用过高或者slave频繁断开连接。</p> <p>问题原因：</p> <p>slave每1秒发送replconf ack命令到master</p> <p>当salve街道了慢查询keys *，hgetall等，会占用大量cpu性能</p> <p>master每1秒调用复制定时函数replicationCron(),比对slave发现发时间没有响应</p> <p>最终结果：</p> <p>master各种资源（输出缓冲区、宽带、连接等）被严重占用</p> <p>解决方案：</p> <p>通过设置合理的超时时间，确认是否释放slave</p> <p>repl-timeout</p> <p>该参数定义了超时时间的阈值（默认60s），超过该值，释放slave。</p> <p>二、问题现象：</p> <p>slave与master连接断开</p> <p>问题原因：</p> <p>master发送ping指令拼读较低</p> <p>master设定超时时间最短</p> <p>ping指令在网络中存在丢包</p> <p>解决方案：</p> <p>提高ping指令发送的频度</p> <p>repl-ping-slave-period</p> <p>超时时间repl-time的时间至少是ping指令频度的5到10倍，否则salve很容易判定超时</p> <p>三、问题现象</p> <p>网络环境不佳，出现网络中断，slave不提供服务</p> <p>问题原因</p> <p>复制缓冲区过小，断网后slave的offset月结，处罚全量复制</p> <p>最终结果</p> <p>slave反复进行全量复制</p> <p>解决方案</p> <p>修改复制缓冲区大小</p> <p>repl-backlog-size</p> <p>建议设置如下：</p> <p>1、测算从master到save的重连平均时长second</p> <p>2、获取master平均每秒产生写命令数据总量write_size_per_second</p> <p>3、最优复制缓冲区空间=2 * second * write_size_per_second</p> <p>问题现象</p> <p>多个slave获取相同数据不同步</p> <p>问题原因</p> <p>网络信息不同步，数据发送有延迟</p> <p>解决方案</p> <p>优化主从间的网络环境，通常设置在同一个机房部署，如使用阿里云等云服务器时要注意此现象</p> <p>监控主从节点延时（通过offset）判断，如果slave延迟过大，暂时屏蔽程序对该slave的数据访问</p> <p>slave-serve-stale-data yes|no</p> <p>开启后仅响应info、slaveof等少数命令（慎用，除非对数据一致性要求很高）</p> <h2 id="七、哨兵"><a href="#七、哨兵" class="header-anchor">#</a> 七、哨兵</h2> <h3 id="背景介绍"><a href="#背景介绍" class="header-anchor">#</a> 背景介绍</h3> <p>主机宕机了怎么办，要做哪些事情？</p> <p>将宕机的master下线</p> <p>要找一个slave作为master</p> <p>通知所有的slave连接新的master</p> <p>启动新的master与slave</p> <p>全量复制*N + 部分复制 * N</p> <p>谁来确认master宕机了？</p> <p>找一个新的master，怎么找？</p> <p>修改配置后，原始的主恢复了怎么办？</p> <h3 id="哨兵简介"><a href="#哨兵简介" class="header-anchor">#</a> 哨兵简介</h3> <p>哨兵（sentinel）是一个分布式系统，用于对主从结构中的每台服务器进行监控，当出现故障时通过投票机制选择新的master并将所有slave连接到新的master。</p> <h3 id="哨兵作用"><a href="#哨兵作用" class="header-anchor">#</a> 哨兵作用</h3> <p>监控：不断检查master和slave是否正常运行；master存活检测、master与slave运行情况检测</p> <p>通知：当被监控的服务器出现问题时，向其他（哨兵、客户端）发送通知。</p> <p>自动故障转移：断开master与slave连接，选取一个slave作为master，将其他slave连接到新的mater，并告知客户端的服务器地址。</p> <p>注意：哨兵也是一台Redis服务器，知识不提供数据服务，通常哨兵配置为单数</p> <img src="/assets/img/db/redis/sumary1/20200803222004589.png" alt="wxmp" class="zoom-custom-imgs"> <h3 id="搭建"><a href="#搭建" class="header-anchor">#</a> 搭建</h3> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <h4 id="阶段一-监控阶段"><a href="#阶段一-监控阶段" class="header-anchor">#</a> 阶段一：监控阶段</h4> <p>用于同步各个节点的状态信息</p> <p>获取各个sentinel的状态（是否在线）：发送ping命令</p> <p>获取master的状态：master属性：runid、role；各个slave的详细信息；发送info指令获取信息</p> <p>获取所有的slave的状态（根据master中的slave信息）；发送info指令获取信息</p> <h4 id="阶段二-通知阶段"><a href="#阶段二-通知阶段" class="header-anchor">#</a> 阶段二：通知阶段</h4> <img src="/assets/img/db/redis/sumary1/2020080322203826.png" alt="wxmp" class="zoom-custom-imgs"> <h4 id="阶段三-故障转移阶段"><a href="#阶段三-故障转移阶段" class="header-anchor">#</a> 阶段三：故障转移阶段</h4> <p>sentinel不断向Redis主从服务器发送hello消息确定服务器之间的状态，如果服务是长时间没有响应，则sentinel将服务器的状态改为sdown（主观下线），然后在sentinel的集群内发布这个消息，其他sentinel收到后也去连这台机器，如果一半以上的sentinel都认为该服务器断了，则将这个服务器状态改成odown（客观下线），并将它从集群中移除。</p> <img src="/assets/img/db/redis/sumary1/20200803222101302.png" alt="wxmp" class="zoom-custom-imgs"> <p>如果是master 宕机了，则sentinel集群中还需要选举出一个sentinel来处理这个宕机事件，由他来选出一个新的master。在sentinel集群内发起一轮投票，超过一半以上票数的sentinel成为主事者。</p> <img src="/assets/img/db/redis/sumary1/20200803222118683.png" alt="wxmp" class="zoom-custom-imgs"> <p>sentinel从slave中选举master的方案：</p> <p>先pass掉不在线和响应慢的，然后pass掉与原来master断开事件久的，然后pass掉优先级低的，pass掉同步offset大的，最后更具runid大小判断选出一台slave成为新的master。</p> <p>选举完后，sentinel向新的master 发送slaveof no one指令，并向其他slave发送slaveof 新的masterip 端口号指令，让他们同步新的master</p> <img src="/assets/img/db/redis/sumary1/20200803222156233.png" alt="wxmp" class="zoom-custom-imgs"> <h2 id="八、集群"><a href="#八、集群" class="header-anchor">#</a> 八、集群</h2> <h3 id="集群简介"><a href="#集群简介" class="header-anchor">#</a> 集群简介</h3> <p>业务发展的过程中遇到峰值瓶颈，Redis提供的服务OPS可以达到10万/S,但是当前业务的OPS已经达到20万/S 的时候。</p> <p>集群的作用：</p> <p>分散单台Redis服务器的访问压力，实现负载均衡。</p> <p>分散单台服务器的存储压力，实现可扩展性。</p> <p>降低单台服务器宕机带来的业务灾难。</p> <h3 id="集群存储结构设计"><a href="#集群存储结构设计" class="header-anchor">#</a> 集群存储结构设计</h3> <p>通过算法计算出key应该保存的位置</p> <p>CRC16(key)%16384</p> <p>redis cluster 有固定的 16384 个 hash slot，对每个 key 计算 CRC16 值，然后对 16384 取模，可以获取 key 对应的 hash slot。</p> <p>redis cluster 中每个 master 都会持有部分 slot，比如有 3 个 master，那么可能每个 master 持有 5000 多个 hash slot。hash slot 让 node 的增加和移除很简单，增加一个 master，就将其他 master 的 hash slot 移动部分过去，减少一个 master，就将它的 hash slot 移动到其他 master 上去。移动 hash slot 的成本是非常低的。客户端的 api，可以对指定的数据，让他们走同一个 hash slot，通过 hash tag 来实现。</p> <h3 id="集群内通信设计"><a href="#集群内通信设计" class="header-anchor">#</a> 集群内通信设计</h3> <p>在 redis cluster 架构下，每个 redis 要放开两个端口号，比如一个是 6379，另外一个就是 加1w 的端口号，比如 16379。</p> <p>16379 端口号是用来进行节点间通信的，也就是 cluster bus 的东西，cluster bus 的通信，用来进行故障检测、配置更新、故障转移授权(如主从切换)。cluster bus 用了另外一种二进制的协议，gossip 协议，用于节点间进行高效的数据交换，占用更少的网络带宽和处理时间。</p> <h3 id="cluster集群搭建"><a href="#cluster集群搭建" class="header-anchor">#</a> cluster集群搭建</h3> <h3 id="cluster集群配置"><a href="#cluster集群配置" class="header-anchor">#</a> cluster集群配置</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#设置加入cluster，使成为cluster中的节点</span>
cluster-enabled <span class="token function">yes</span><span class="token operator">|</span>no

<span class="token comment">#cluster配置文件名，该文件属于自动生成，用于快速查找文件并查询文件内容</span>
cluster-config-file filename

<span class="token comment">#节点服务响应超时时间，用于判定该节点是否下线或者切换为主从节点</span>
cluster-node-timeout milliseconds

<span class="token comment">#master连接的slave最小数量</span>
cluster-migration-barrier count
<span class="token number">1234567891011</span>
</code></pre></div><h3 id="主从下线及主从切换"><a href="#主从下线及主从切换" class="header-anchor">#</a> 主从下线及主从切换</h3> <h2 id="九、redis企业级解决方案"><a href="#九、redis企业级解决方案" class="header-anchor">#</a> 九、Redis企业级解决方案</h2> <h3 id="缓存预热"><a href="#缓存预热" class="header-anchor">#</a> 缓存预热</h3> <p>前期准备工作：</p> <p>1、日常例行统计数据访问记录，统计访问频度较高的热点数据</p> <p>2、利用LRU数据删除策略，构建数据留存队列；例如storm和kafka配合</p> <p>准备工作：</p> <p>3、将统计结果中的数据进行分类，根据数据级别，Redis优先加载级别高的热点数据</p> <p>4、利用分布式多服务器同时进行数据读取，提速数据加载过程</p> <p>实施：</p> <p>1、使用脚本程序固定触发热第三数据的预热过程</p> <p>2、如果条件运行使用CDN效果更好</p> <h3 id="缓存雪崩"><a href="#缓存雪崩" class="header-anchor">#</a> 缓存雪崩</h3> <p>缓存雪崩，是指在某一个时间段，缓存集中过期失效。</p> <p>产生雪崩的原因之一，比如在写本文的时候，马上就要到双十二零点，很快就会迎来一波抢购，这波商品时间比较集中的放入了缓存，假设缓存一个小时。那么到了凌晨一点钟的时候，这批商品的缓存就都过期了。而对这批商品的访问查询，都落到了数据库上，对于数据库而言，就会产生周期性的压力波峰。</p> <p>一般是采取不同分类商品，缓存不同周期。在同一分类中的商品，加上一个随机因子。这样能尽可能分散缓存过期时间，而且，热门类目的商品缓存时间长一些，冷门类目的商品缓存时间短一些，也能节省缓存服务的资源；也可以让缓存在夜间的时候失效，那个时候访问量较少。</p> <p>其实集中过期，倒不是非常致命，比较致命的缓存雪崩，是缓存服务器某个节点宕机或断网。因为自然形成的缓存雪崩，一定是在某个时间段集中创建缓存，那么那个时候数据库能顶住压力，这个时候，数据库也是可以顶住压力的。无非就是对数据库产生周期性的压力而已。而缓存服务节点的宕机，对数据库服务器造成的压力是不可预知的，很有可能瞬间就把数据库压垮。</p> <h3 id="缓存击穿"><a href="#缓存击穿" class="header-anchor">#</a> 缓存击穿</h3> <p>缓存击穿，是指一个key非常热点，在不停的扛着大并发，大并发集中对这一个点进行访问，当这个key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库，就像在一个屏障上凿开了一个洞。</p> <p>其实，大多数情况下这种爆款很难对数据库服务器造成压垮性的压力。达到这个级别的公司没有几家的。所以，务通常对主打商品都是早早的做好了准备，让缓存永不过期，或者对着类缓存做了预热提前加入到了缓存中。即便某些商品自己发酵成了爆款，也是直接设为永不过期就好了。</p> <p>大道至简，mutex key互斥锁真心用不上。</p> <h3 id="缓存穿透"><a href="#缓存穿透" class="header-anchor">#</a> 缓存穿透</h3> <p>缓存穿透，是指查询一个数据库一定不存在的数据。正常的使用缓存流程大致是，数据查询先进行缓存查询，如果key不存在或者key已经过期，再对数据库进行查询，并把查询到的对象，放进缓存。如果数据库查询对象为空，则不放进缓存。</p> <p>促销会采用缓存无活动的方式，也就是如果从数据库查询的对象为空，也放入缓存，只是设定的缓存过期时间较短，比如设置为60秒。</p> <h3 id="性能指标监控"><a href="#性能指标监控" class="header-anchor">#</a> 性能指标监控</h3> <p>1、命令数</p> <p>2、内存使用率</p> <p>3、连接数</p> <p>benchmark</p> <p>客户端运行monitor</p> <p>slowlog命令</p> <h3 id="需要更大的并发量怎么处理"><a href="#需要更大的并发量怎么处理" class="header-anchor">#</a> 需要更大的并发量怎么处理</h3> <p>比如需要同时操作一份数据的时候，最多支持10万OPS，如果需要支持到100万OPS可以将者分数据分成10份，那么久可以支持100万OPS了，例如将100个活动资源分成10份，每一份支持10万OPS的话，10份就能够支持100万OPS了。</p> <h3 id="redis怎么做水平扩容"><a href="#redis怎么做水平扩容" class="header-anchor">#</a> Redis怎么做水平扩容</h3> <p>将现有槽slot中的数据迁移复制一份到新的槽中，然后将新的服务器加入到集群中</p> <h3 id="redlock"><a href="#redlock" class="header-anchor">#</a> redLock</h3> <p>全名叫做 Redis Distributed Lock;即使用redis实现的分布式锁； 使用场景：多个服务间保证同一时刻同一时间段内同一用户只能有一个请求（防止关键业务出现并发攻击）；</p> <p>红锁，将锁过期和锁设置合并成一个原子性的操作，</p> <p><strong>redis单实例中实现分布式锁的正确方式（原子性非常重要）:</strong></p> <p>设置锁时，使用set命令，因为其包含了setnx,expire的功能，起到了原子操作的效果，给key设置随机值，并且只有在key不存在时才设置成功返回True,并且设置key的过期时间（最好用毫秒）</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>SET key_name my_random_value NX PX 30000  
# NX 表示if not exist 就设置并返回True，否则不设置并返回False   
# PX 表示过期时间用毫秒级， 30000 表示这些毫秒时间后此key过期
123
</code></pre></div></blockquote> <p>红锁存在的问题：业务没执行完锁过期失效了，因此需要给锁进行续命，通过一个后台线程定期给锁续命，后台线程里通过一个循环每隔一段时间给锁续命，续命前先判断锁是否存在，存在则续，不存在则不续，线程执行完成，释放线程资源。</p> <h2 id="十、基础配置"><a href="#十、基础配置" class="header-anchor">#</a> 十、基础配置</h2> <div class="language-shell extra-class"><pre class="language-shell"><code>-------服务端配置-------
<span class="token comment">#设置服务器已守护进程方式运行</span>
deamonize <span class="token function">yes</span><span class="token operator">|</span>no 

<span class="token comment">#绑定主机地址</span>
<span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1

<span class="token comment">#设置服务器端口号</span>
port <span class="token number">6379</span>

<span class="token comment">#设置数据库数量</span>
database <span class="token number">16</span>

<span class="token comment">#设置服务器日志的记录级别</span>
loglevel debug<span class="token operator">|</span>verbose<span class="token operator">|</span>notice<span class="token operator">|</span>warning

<span class="token comment">#设置日志文件的名称</span>
logfile 端口号.log

-------客户端配置--------
<span class="token comment">#设置同一时间客户端最大的连接数量，默认不限制0，如果设置超了，Redis会关闭新的连接</span>
maxclients <span class="token number">0</span>

<span class="token comment">#设置客户端闲置等待最大时长，达到最大值后关闭连接，如需关闭该功能，设置为0</span>
<span class="token function">timeout</span> <span class="token number">300</span>

-------多服务器快捷设置------
<span class="token comment">#导入并加载指定的配置温江信息，用于快速创建Redis公共配置较多的Redis实例配置文件，便于维护</span>
include /path/server-端口号.conf
<span class="token number">1234567891011121314151617181920212223242526272829</span>
</code></pre></div><h2 id="十一、底层"><a href="#十一、底层" class="header-anchor">#</a> 十一、底层</h2> <h3 id="redis单线程模型"><a href="#redis单线程模型" class="header-anchor">#</a> redis单线程模型</h3> <h4 id="_1、redis的单线程理解"><a href="#_1、redis的单线程理解" class="header-anchor">#</a> 1、Redis的单线程理解</h4> <p>Redis客户端对服务端的每次调用都经历了发送命令，执行命令，返回结果三个过程。其中执行命令阶段，由于Redis是单线程来处理命令的，所有到达服务端的命令都不会立刻执行，所有的命令都会进入一个队列中，然后逐个执行，并且多个客户端发送的命令的执行顺序是不确定的，但是可以确定的是不会有两条命令被同时执行，不会产生并发问题，这就是Redis的单线程基本模型。</p> <p>Redis服务器通过socket（套接字）与客户端或其他Redis服务器进行连接，而文件事件就是服务器对socket操作的抽象。服务器与客户端或其他服务器的通信会产生相应的文件事件，而服务器通过监听并处理这些事件来完成一系列网络通信操作。</p> <p>Redis基于Reactor模式开发了自己的网络事件处理器——文件事件处理器，文件事件处理器使用I/O多路复用程序来同时监听多个socket（I/O多路复用技术下面有介绍），并根据socket目前执行的任务来为socket关联不同的事件处理器。当被监听的socket准备好执行连接应答、读取、写入、关闭等操作时，与操作相对应的文件事件就会产生，这时文件事件处理器就会调用socket之前已关联好的事件处理器来处理这些事件。</p> <p>文件事件处理器的构成：</p> <img src="/assets/img/db/redis/sumary1/20200803222243612.png" alt="wxmp" class="zoom-custom-imgs"> <p>注意：其中I/O多路复用程序通过<strong>队列</strong>向文件事件分派器传送socket</p> <h4 id="_2、i-o多路复用技术"><a href="#_2、i-o多路复用技术" class="header-anchor">#</a> 2、I/O多路复用技术</h4> <p>关于I/O多路复用(又被称为“事件驱动”)，首先要理解的是，操作系统为你提供了一个功能，当你的某个socket可读或者可写的时候，它可以给你一个通知。这样当配合非阻塞的socket使用时，只有当系统通知我哪个描述符可读了，我才去执行read操作，可以保证每次read都能读到有效数据而不做纯返回-1和EAGAIN的无用功，写操作类似。</p> <p>操作系统的这个功能是通过select/poll/epoll/kqueue之类的系统调用函数来实现，这些函数都可以同时监视多个描述符的读写就绪状况，这样，多个描述符的I/O操作都能在一个线程内并发交替地顺序完成，这就叫I/O多路复用，这里的**“多路”指的是多个网络连接，“复用”指的是复用同一个Redis处理线程。（正如上图所示）**</p> <p>采用多路 I/O 复用技术可以让单个线程高效的处理多个连接请求（尽量减少网络 I/O 的时间消耗），且 Redis 在内存中操作数据的速度非常快，也就是说内存内的操作不会成为影响Redis性能的瓶颈，所有 Redis 具有很高的吞吐量。</p> <h4 id="_3、常见疑问解答"><a href="#_3、常见疑问解答" class="header-anchor">#</a> 3、常见疑问解答</h4> <p><strong>3.1、Redis的单线程为什么这么快？</strong></p> <p>1.完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)；</p> <p>2.数据结构简单，对数据操作也简单，Redis中的数据结构是专门进行设计的；</p> <p>3.采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；</p> <p>4.使用多路I/O复用模型，非阻塞I/O；</p> <p>5.Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求；</p> <p><strong>3.2、为什么不采用多进程或多线程处理？</strong></p> <p>1.多线程处理可能涉及到锁</p> <p>2.多线程处理会涉及到线程切换而消耗CPU</p> <p><strong>3.3、单线程处理的缺点？</strong></p> <p>1.耗时的命令会导致并发的下降，不只是读并发，写并发也会下降</p> <p>2.无法发挥多核CPU性能，不过可以通过在单机开多个Redis实例来完善</p> <p><strong>3.4、Redis不存在线程安全问题？</strong></p> <p>Redis采用了线程封闭的方式，把任务封闭在一个线程，自然避免了线程安全问题，不过对于需要依赖多个redis操作（即：多个Redis操作命令）的复合操作来说，依然需要锁，而且有可能是分布式锁。</p> <p><strong>3.5、Redis6.0后支持多线程版本？</strong></p> <p>Redis 的多线程部分只是用来处理网络数据的读写和协议解析，执行命令仍然是单线程。之所以这么设计是不想因为多线程而变得复杂，需要去控制 key、lua（一种轻量级脚本语言）、事务，LPUSH/LPOP（redis语法：将一个或多个值插入到列表头部（左边）、移出并获取列表的第一个元素(左边)） 等等的并发问题。整体的设计大体如下:
<img src="/assets/img/db/redis/sumary1/20200803222400128.jpg" alt="wxmp" class="zoom-custom-imgs"></p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <ul><li>https://blog.csdn.net/khuangliang/article/details/107774704</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2021-07-13 19:48:06</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/db/redis/05-coreknowledge.html" class="prev">
        Redis核心技术总结
      </a></span> <!----></p></div> <div class="page_article_visit_tail" data-v-17815e06><img src="/assets/img/view/visit.png" alt="" data-v-17815e06>
         
        <span style="display:none;" data-v-17815e06>0</span></div> <div class="page_article_comment" data-v-17815e06></div></main> <div class="page-right-index-sidebar" data-v-17815e06><div class="content_index_title" data-v-17815e06>
      Redis精华总结
    </div> <div class="page-right-index-toc" data-v-17815e06><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#一、数据类型" aria-current="page" class="unactive_index_li" data-v-17815e06>一、数据类型
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#string" aria-current="page" class="unactive_index_li" data-v-17815e06>String</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#hash" aria-current="page" class="unactive_index_li" data-v-17815e06>Hash</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#set" aria-current="page" class="unactive_index_li" data-v-17815e06>Set</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#sortedset-zset" aria-current="page" class="unactive_index_li" data-v-17815e06>SortedSet (ZSet)</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#list" aria-current="page" class="unactive_index_li" data-v-17815e06>List</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#适用场景" aria-current="page" class="unactive_index_li" data-v-17815e06>适用场景</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#二、持久化" aria-current="page" class="unactive_index_li" data-v-17815e06>二、持久化
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#rdb" aria-current="page" class="unactive_index_li" data-v-17815e06>RDB</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#aof" aria-current="page" class="unactive_index_li" data-v-17815e06>AOF</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#rdb和aof对比" aria-current="page" class="unactive_index_li" data-v-17815e06>RDB和AOF对比</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#rdb和aof选择策略" aria-current="page" class="unactive_index_li" data-v-17815e06>RDB和AOF选择策略</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#持久化应用场景" aria-current="page" class="unactive_index_li" data-v-17815e06>持久化应用场景</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#四、redis事务" aria-current="page" class="unactive_index_li" data-v-17815e06>四、Redis事务
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#事务的基本操作" aria-current="page" class="unactive_index_li" data-v-17815e06>事务的基本操作</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#事务的工作流程" aria-current="page" class="unactive_index_li" data-v-17815e06>事务的工作流程</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#事务操作注意事项" aria-current="page" class="unactive_index_li" data-v-17815e06>事务操作注意事项</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#事务锁" aria-current="page" class="unactive_index_li" data-v-17815e06>事务锁</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#分布式锁" aria-current="page" class="unactive_index_li" data-v-17815e06>分布式锁</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#思索的解决方案" aria-current="page" class="unactive_index_li" data-v-17815e06>思索的解决方案</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#五、删除策略" aria-current="page" class="unactive_index_li" data-v-17815e06>五、删除策略
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#过期数据概念" aria-current="page" class="unactive_index_li" data-v-17815e06>过期数据概念</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#删除策略" aria-current="page" class="unactive_index_li" data-v-17815e06>删除策略</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#过期数据的底层存储结构" aria-current="page" class="unactive_index_li" data-v-17815e06>过期数据的底层存储结构</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#删除策略的目标" aria-current="page" class="unactive_index_li" data-v-17815e06>删除策略的目标</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#删除策略对比" aria-current="page" class="unactive_index_li" data-v-17815e06>删除策略对比</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#逐出策略" aria-current="page" class="unactive_index_li" data-v-17815e06>逐出策略</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#六、主从复制" aria-current="page" class="unactive_index_li" data-v-17815e06>六、主从复制
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#简介" aria-current="page" class="unactive_index_li" data-v-17815e06>简介</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#作用" aria-current="page" class="unactive_index_li" data-v-17815e06>作用</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#三个阶段" aria-current="page" class="unactive_index_li" data-v-17815e06>三个阶段</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#工作流程" aria-current="page" class="unactive_index_li" data-v-17815e06>工作流程</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#模拟结果" aria-current="page" class="unactive_index_li" data-v-17815e06>模拟结果</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#常见问题" aria-current="page" class="unactive_index_li" data-v-17815e06>常见问题</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#七、哨兵" aria-current="page" class="unactive_index_li" data-v-17815e06>七、哨兵
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#背景介绍" aria-current="page" class="unactive_index_li" data-v-17815e06>背景介绍</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#哨兵简介" aria-current="page" class="unactive_index_li" data-v-17815e06>哨兵简介</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#哨兵作用" aria-current="page" class="unactive_index_li" data-v-17815e06>哨兵作用</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#搭建" aria-current="page" class="unactive_index_li" data-v-17815e06>搭建</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#工作原理" aria-current="page" class="unactive_index_li" data-v-17815e06>工作原理</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#八、集群" aria-current="page" class="unactive_index_li" data-v-17815e06>八、集群
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#集群简介" aria-current="page" class="unactive_index_li" data-v-17815e06>集群简介</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#集群存储结构设计" aria-current="page" class="unactive_index_li" data-v-17815e06>集群存储结构设计</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#集群内通信设计" aria-current="page" class="unactive_index_li" data-v-17815e06>集群内通信设计</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#cluster集群搭建" aria-current="page" class="unactive_index_li" data-v-17815e06>cluster集群搭建</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#cluster集群配置" aria-current="page" class="unactive_index_li" data-v-17815e06>cluster集群配置</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#主从下线及主从切换" aria-current="page" class="unactive_index_li" data-v-17815e06>主从下线及主从切换</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#九、redis企业级解决方案" aria-current="page" class="unactive_index_li" data-v-17815e06>九、Redis企业级解决方案
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#缓存预热" aria-current="page" class="unactive_index_li" data-v-17815e06>缓存预热</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#缓存雪崩" aria-current="page" class="unactive_index_li" data-v-17815e06>缓存雪崩</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#缓存击穿" aria-current="page" class="unactive_index_li" data-v-17815e06>缓存击穿</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#缓存穿透" aria-current="page" class="unactive_index_li" data-v-17815e06>缓存穿透</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#性能指标监控" aria-current="page" class="unactive_index_li" data-v-17815e06>性能指标监控</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#需要更大的并发量怎么处理" aria-current="page" class="unactive_index_li" data-v-17815e06>需要更大的并发量怎么处理</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#redis怎么做水平扩容" aria-current="page" class="unactive_index_li" data-v-17815e06>Redis怎么做水平扩容</a></li></ul><ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#redlock" aria-current="page" class="unactive_index_li" data-v-17815e06>redLock</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#十、基础配置" aria-current="page" class="unactive_index_li" data-v-17815e06>十、基础配置
          </a> </li><li data-v-17815e06><a href="/db/redis/06-summary.html#十一、底层" aria-current="page" class="unactive_index_li" data-v-17815e06>十一、底层
          </a> <ul data-v-17815e06><li data-v-17815e06><a href="/db/redis/06-summary.html#redis单线程模型" aria-current="page" class="unactive_index_li" data-v-17815e06>redis单线程模型</a></li></ul></li><li data-v-17815e06><a href="/db/redis/06-summary.html#参考文章" aria-current="page" class="unactive_index_li" data-v-17815e06>参考文章
          </a> </li></ul> <div style="height:10px" data-v-17815e06></div></div></div> <div class="page-right-tool-sidebar" data-v-17815e06><div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/phone.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>手机看</div></div> <div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/wechat.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>公众号</div></div> <div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/communication.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>讨论</div></div> <div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/leftclose.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>左栏</div></div> <div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/fullscreen.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>全屏</div></div> <div style="display:none;" data-v-17815e06><a href="/db/redis/06-summary.html" aria-current="page" class="router-link-exact-active router-link-active" data-v-17815e06><div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/prev.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>上一篇</div></div></a></div> <div style="display:none;" data-v-17815e06><a href="/db/redis/06-summary.html" aria-current="page" class="router-link-exact-active router-link-active" data-v-17815e06><div class="tool_bar_div" data-v-17815e06><img src="/assets/img/toolbar/next.png" class="tool_bar_img_icon" data-v-17815e06> <div data-v-17815e06>下一篇</div></div></a></div></div> <div id="qrCodeDiv" class="toolbar_qrcode_unactive" data-v-17815e06><div class=" toolbar_head_tile" data-v-17815e06>扫一扫 手机阅读</div> <img src="" class="img-qrcode" data-v-17815e06> <h5 data-v-17815e06>可分享给好友和朋友圈</h5></div> <div id="wxmpDiv" class="toolbar_wxmp_active" style="display:none;" data-v-17815e06><div class="toolbar_head_tile" data-v-17815e06>扫描关注公众号，回复&quot;资料&quot;，下载相关图书和资料</div> <img src="/assets/img/wx/wxmp.jpg" class="img-wx-mp" data-v-17815e06> <h5 data-v-17815e06>公众号:智能后端和架构</h5></div> <div id="coummpDiv" class="toolbar_communication_active" style="display:none;" data-v-17815e06><div class="toolbar_head_tile" data-v-17815e06>QQ群:569556849 <br data-v-17815e06>问题咨询和技术交流</div> <img src="/assets/img/qq/qqgroup.png" class="img-wx-mp" data-v-17815e06> <h5 data-v-17815e06>PS 备注:智能后端和架构</h5></div> <div class="topDivImg" style="display:none;" data-v-17815e06><img src="/assets/img/toolbar/top.png" class="tool_top_img_icon" data-v-17815e06></div> <div style="display:none" data-v-17815e06><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279777129&web_id=1279777129" data-v-17815e06></script></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db30138a.js" defer></script><script src="/assets/js/5.df8bf371.js" defer></script><script src="/assets/js/1.60d99fe1.js" defer></script><script src="/assets/js/321.22b199c2.js" defer></script>
  </body>
</html>
